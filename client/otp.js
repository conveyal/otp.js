(function(t,e,i){function n(i,o){if(!e[i]){if(!t[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(r)return r(i,!0);throw Error("Cannot find module '"+i+"'")}var a=e[i]={exports:{}};t[i][0].call(a.exports,function(e){var r=t[i][1][e];return n(r?r:e)},a,a.exports)}return e[i].exports}for(var r="function"==typeof require&&require,o=0;i.length>o;o++)n(i[o]);return n})({1:[function(t){t("./leaflet"),t("./otp")},{"./leaflet":2,"./otp":3}],3:[function(t,e){OTP=e.exports={utils:t("./src/utils"),models:t("./src/models"),views:t("./src/views"),narrative_views:t("./src/narrative_views"),map_views:t("./src/map_views"),topo_views:t("./src/topo_views"),bike_views:t("./src/bike_views"),request_views:t("./src/request_views")}},{"./src/bike_views":10,"./src/map_views":8,"./src/models":4,"./src/narrative_views":7,"./src/request_views":11,"./src/topo_views":9,"./src/utils":5,"./src/views":6}],12:[function(){(function(){L.labelVersion="0.1.4-dev",L.Label=L.Popup.extend({includes:L.Mixin.Events,options:{autoPan:!1,className:"",clickable:!1,closePopupOnClick:!1,noHide:!1,offset:new L.Point(12,-15),opacity:1},onAdd:function(t){this._map=t,this._pane=this._source instanceof L.Marker?t._panes.markerPane:t._panes.popupPane,this._container||this._initLayout(),this._updateContent();var e=t.options.fadeAnimation;e&&L.DomUtil.setOpacity(this._container,0),this._pane.appendChild(this._container),t.on("viewreset",this._updatePosition,this),this._animated&&t.on("zoomanim",this._zoomAnimation,this),L.Browser.touch&&!this.options.noHide&&L.DomEvent.on(this._container,"click",this.close,this),this._initInteraction(),this._update(),this.setOpacity(this.options.opacity)},onRemove:function(t){this._pane.removeChild(this._container),L.Util.falseFn(this._container.offsetWidth),t.off({viewreset:this._updatePosition,zoomanim:this._zoomAnimation},this),t.options.fadeAnimation&&L.DomUtil.setOpacity(this._container,0),this._removeInteraction(),this._map=null},close:function(){var t=this._map;t&&(L.Browser.touch&&!this.options.noHide&&L.DomEvent.off(this._container,"click",this.close),t._label=null,t.removeLayer(this))},updateZIndex:function(t){this._zIndex=t,this._container&&this._zIndex&&(this._container.style.zIndex=t)},setOpacity:function(t){this.options.opacity=t,this._container&&L.DomUtil.setOpacity(this._container,t)},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-label "+this.options.className+" leaflet-zoom-animated"),this.updateZIndex(this._zIndex)},_updateContent:function(){this._content&&"string"==typeof this._content&&(this._container.innerHTML=this._content)},_updateLayout:function(){},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},_setPosition:function(t){t=t.add(this.options.offset),L.DomUtil.setPosition(this._container,t)},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_initInteraction:function(){if(this.options.clickable){var t=this._container,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this);for(var i=0;e.length>i;i++)L.DomEvent.on(t,e[i],this._fireMouseEvent,this)}},_removeInteraction:function(){if(this.options.clickable){var t=this._container,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];L.DomUtil.removeClass(t,"leaflet-clickable"),L.DomEvent.off(t,"click",this._onMouseClick,this);for(var i=0;e.length>i;i++)L.DomEvent.off(t,e[i],this._fireMouseEvent,this)}},_onMouseClick:function(t){this.hasEventListeners(t.type)&&L.DomEvent.stopPropagation(t),this.fire(t.type,{originalEvent:t})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&L.DomEvent.preventDefault(t),"mousedown"!==t.type?L.DomEvent.stopPropagation(t):L.DomEvent.preventDefault(t)}}),L.Icon.Default.mergeOptions({labelAnchor:new L.Point(9,-20)}),L.Marker.mergeOptions({icon:new L.Icon.Default}),L.Marker.include({showLabel:function(){return this._label&&this._map&&(this._label.setLatLng(this._latlng),this._map.showLabel(this._label)),this},hideLabel:function(){return this._label&&this._label.close(),this},setLabelNoHide:function(t){this._labelNoHide!==t&&(this._labelNoHide=t,t?(this._removeLabelRevealHandlers(),this.showLabel()):(this._addLabelRevealHandlers(),this.hideLabel()))},bindLabel:function(t,e){var i=L.point(this.options.icon.options.labelAnchor)||new L.Point(0,0);return i=i.add(L.Label.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=L.Util.extend({offset:i},e),this._labelNoHide=e.noHide,this._label||(this._labelNoHide||this._addLabelRevealHandlers(),this.on("remove",this.hideLabel,this).on("move",this._moveLabel,this),this._hasLabelHandlers=!0),this._label=new L.Label(e,this).setContent(t),this},unbindLabel:function(){return this._label&&(this.hideLabel(),this._label=null,this._hasLabelHandlers&&(this._labelNoHide||this._removeLabelRevealHandlers(),this.off("remove",this.hideLabel,this).off("move",this._moveLabel,this)),this._hasLabelHandlers=!1),this},updateLabelContent:function(t){this._label&&this._label.setContent(t)},getLabel:function(){return this._label},_addLabelRevealHandlers:function(){this.on("mouseover",this.showLabel,this).on("mouseout",this.hideLabel,this),L.Browser.touch&&this.on("click",this.showLabel,this)},_removeLabelRevealHandlers:function(){this.off("mouseover",this.showLabel,this).off("mouseout",this.hideLabel,this),L.Browser.touch&&this.off("click",this.showLabel,this)},_moveLabel:function(t){this._label.setLatLng(t.latlng)},_originalUpdateZIndex:L.Marker.prototype._updateZIndex,_updateZIndex:function(t){var e=this._zIndex+t;this._originalUpdateZIndex(t),this._label&&this._label.updateZIndex(e)},_originalSetOpacity:L.Marker.prototype.setOpacity,setOpacity:function(t,e){this.options.labelHasSemiTransparency=e,this._originalSetOpacity(t)},_originalUpdateOpacity:L.Marker.prototype._updateOpacity,_updateOpacity:function(){var t=0===this.options.opacity?0:1;this._originalUpdateOpacity(),this._label&&this._label.setOpacity(this.options.labelHasSemiTransparency?this.options.opacity:t)}}),L.Path.include({bindLabel:function(t,e){return this._label&&this._label.options===e||(this._label=new L.Label(e,this)),this._label.setContent(t),this._showLabelAdded||(this.on("mouseover",this._showLabel,this).on("mousemove",this._moveLabel,this).on("mouseout remove",this._hideLabel,this),L.Browser.touch&&this.on("click",this._showLabel,this),this._showLabelAdded=!0),this},unbindLabel:function(){return this._label&&(this._hideLabel(),this._label=null,this._showLabelAdded=!1,this.off("mouseover",this._showLabel,this).off("mousemove",this._moveLabel,this).off("mouseout remove",this._hideLabel,this)),this},updateLabelContent:function(t){this._label&&this._label.setContent(t)},_showLabel:function(t){this._label.setLatLng(t.latlng),this._map.showLabel(this._label)},_moveLabel:function(t){this._label.setLatLng(t.latlng)},_hideLabel:function(){this._label.close()}}),L.Map.include({showLabel:function(t){return this._label=t,this.addLayer(t)}}),L.FeatureGroup.include({clearLayers:function(){return this.unbindLabel(),this.eachLayer(this.removeLayer,this),this},bindLabel:function(t,e){return this.invoke("bindLabel",t,e)},unbindLabel:function(){return this.invoke("unbindLabel")},updateLabelContent:function(t){this.invoke("updateLabelContent",t)}})})(this,document)},{}],2:[function(t){window.L=t("leaflet/dist/leaflet-src"),t("./lib/leaflet.label-src")},{"./lib/leaflet.label-src":12,"leaflet/dist/leaflet-src":13}],13:[function(t,e){(function(t,i,n){var r=t.L,o={};o.version="0.6.2","object"==typeof e&&"object"==typeof e.exports?e.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=r,this},t.L=o,o.Util={extend:function(t){var e,i,n,r,o=Array.prototype.slice.call(arguments,1);for(i=0,n=o.length;n>i;i++){r=o[i]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),invokeEach:function(t,e,i){var n,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(n in t)e.apply(i,[n,t[n]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,i){var r,o;return function s(){var a=arguments;return r?(o=!0,n):(r=!0,setTimeout(function(){r=!1,o&&(s.apply(i,a),o=!1)},e),t.apply(i,a),n)}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,i){var n=[];for(var r in t)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){var r=e[i];if(r===n)throw Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var i,n,r=["webkit","moz","o","ms"];for(i=0;r.length>i&&!n;i++)n=t[r[i]+e];return n}function i(e){var i=+new Date,n=Math.max(0,16-(i-r));return r=i+n,t.setTimeout(e,n)}var r=0,s=t.requestAnimationFrame||e("RequestAnimationFrame")||i,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,r,a,l){return e=o.bind(e,r),a&&s===i?(e(),n):s.call(t,e,l)},o.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=e,e.prototype=n;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(e[r]=this[r]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=o.extend({},n.options,t.options)),o.extend(n,t),n._initHooks=[];var s=this;return e.__super__=s.prototype,n.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var s="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addEventListener,this,e,i))return this;var n,r,a,l,h,u,c,p=this[s]=this[s]||{},d=i&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,r=t.length;r>n;n++)a={action:e,context:i||this},l=t[n],i?(h=l+"_idx",u=h+"_len",c=p[h]=p[h]||{},c[d]||(c[d]=[],p[u]=(p[u]||0)+1),c[d].push(a)):(p[l]=p[l]||[],p[l].push(a));return this},hasEventListeners:function(t){var e=this[s];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,i){if(!this[s])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,i))return this;var n,r,a,l,h,u,c,p,d,f=this[s],m=i&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,r=t.length;r>n;n++)if(a=t[n],u=a+"_idx",c=u+"_len",p=f[u],e){if(l=i&&p?p[m]:f[a]){for(h=l.length-1;h>=0;h--)l[h].action!==e||i&&l[h].context!==i||(d=l.splice(h,1),d[0].action=o.Util.falseFn);i&&p&&0===l.length&&(delete p[m],f[c]--)}}else delete f[a],delete f[u];return this},clearAllEventListeners:function(){return delete this[s],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var i,n,r,a,l,h=o.Util.extend({},e,{type:t,target:this}),u=this[s];if(u[t])for(i=u[t].slice(),n=0,r=i.length;r>n;n++)i[n].action.call(i[n].context||this,h);a=u[t+"_idx"];for(l in a)if(i=a[l].slice())for(n=0,r=i.length;r>n;n++)i[n].action.call(i[n].context||this,h);return this},addOneTimeEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,i))return this;var n=o.bind(function(){this.removeEventListener(t,e,i).removeEventListener(t,n,i)},this);return this.addEventListener(t,e,i).addEventListener(t,n,i)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var e=!!t.ActiveXObject,r=e&&!t.XMLHttpRequest,s=e&&!i.querySelector,a=e&&!i.addEventListener,l=navigator.userAgent.toLowerCase(),h=-1!==l.indexOf("webkit"),u=-1!==l.indexOf("chrome"),c=-1!==l.indexOf("phantom"),p=-1!==l.indexOf("android"),d=-1!==l.search("android [23]"),f=typeof orientation!=n+"",m=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=i.documentElement,y=e&&"transition"in v.style,_="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix,x="MozPerspective"in v.style,b="OTransition"in v.style,w=!t.L_DISABLE_3D&&(y||_||x||b)&&!c,L=!t.L_NO_TOUCH&&!c&&function(){var t="ontouchstart";if(m||t in v)return!0;var e=i.createElement("div"),n=!1;return e.setAttribute?(e.setAttribute(t,"return;"),"function"==typeof e[t]&&(n=!0),e.removeAttribute(t),e=null,n):!1}();o.Browser={ie:e,ie6:r,ie7:s,ielt9:a,webkit:h,android:p,android23:d,chrome:u,ie3d:y,webkit3d:_,gecko3d:x,opera3d:b,any3d:w,mobile:f,mobileWebkit:f&&h,mobileWebkit3d:f&&_,mobileOpera:f&&t.opera,touch:L,msTouch:m,retina:g}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,i){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===n||null===t?t:new o.Point(t,e,i)},o.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;r>n;n++)this.extend(i[n])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,r=t.max,s=r.x>=e.x&&n.x<=i.x,a=r.y>=e.y&&n.y<=i.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?i.getElementById(t):t},getStyle:function(t,e){var n=t.style[e];if(!n&&t.currentStyle&&(n=t.currentStyle[e]),(!n||"auto"===n)&&i.defaultView){var r=i.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n},getViewportOffset:function(t){var e,n=0,r=0,s=t,a=i.body,l=i.documentElement,h=o.Browser.ie7;do{if(n+=s.offsetTop||0,r+=s.offsetLeft||0,n+=parseInt(o.DomUtil.getStyle(s,"borderTopWidth"),10)||0,r+=parseInt(o.DomUtil.getStyle(s,"borderLeftWidth"),10)||0,e=o.DomUtil.getStyle(s,"position"),s.offsetParent===a&&"absolute"===e)break;if("fixed"===e){n+=a.scrollTop||l.scrollTop||0,r+=a.scrollLeft||l.scrollLeft||0;break}if("relative"===e&&!s.offsetLeft){var u=o.DomUtil.getStyle(s,"width"),c=o.DomUtil.getStyle(s,"max-width"),p=s.getBoundingClientRect();("none"!==u||"none"!==c)&&(r+=p.left+s.clientLeft),n+=p.top+(a.scrollTop||l.scrollTop||0);break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;n-=s.scrollTop||0,r-=s.scrollLeft||0,o.DomUtil.documentIsLtr()||!o.Browser.webkit&&!h||(r+=s.scrollWidth-s.clientWidth,h&&"hidden"!==o.DomUtil.getStyle(s,"overflow-y")&&"hidden"!==o.DomUtil.getStyle(s,"overflow")&&(r+=17)),s=s.parentNode}while(s);return new o.Point(r,n)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(i.body,"direction")),o.DomUtil._docIsLtr},create:function(t,e,n){var r=i.createElement(t);return r.className=e,n&&n.appendChild(r),r},hasClass:function(t,e){return t.className.length>0&&RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){o.DomUtil.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},removeClass:function(t,e){t.className=o.Util.trim((" "+t.className+" ").replace(" "+e+" "," "))},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(r){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}},testProp:function(t){for(var e=i.documentElement.style,n=0;t.length>n;n++)if(t[n]in e)return t[n];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",n=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+n},getScaleString:function(t,e){var i=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),n=" scale("+t+") ";return i+n},setPosition:function(t,e,i){t._leaflet_pos=e,!i&&o.Browser.any3d?(t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden")):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){var e=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),n=o.DomUtil.testProp(["userDrag","WebkitUserDrag","OUserDrag","MozUserDrag","msUserDrag"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(e){var n=i.documentElement.style;this._userSelect=n[e],n[e]="none"}else o.DomEvent.on(t,"selectstart",o.DomEvent.stop)},enableTextSelection:function(){e?(i.documentElement.style[e]=this._userSelect,delete this._userSelect):o.DomEvent.off(t,"selectstart",o.DomEvent.stop)},disableImageDrag:function(){if(n){var e=i.documentElement.style;this._userDrag=e[n],e[n]="none"}else o.DomEvent.on(t,"dragstart",o.DomEvent.stop)},enableImageDrag:function(){n?(i.documentElement.style[n]=this._userDrag,delete this._userDrag):o.DomEvent.off(t,"dragstart",o.DomEvent.stop)}})}(),o.LatLng=function(t,e){var i=parseFloat(t),n=parseFloat(e);if(isNaN(i)||isNaN(n))throw Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=i,this.lng=n},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o.LatLng.MAX_MARGIN>=e},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,i=o.LatLng.DEG_TO_RAD,n=(t.lat-this.lat)*i,r=(t.lng-this.lng)*i,s=this.lat*i,a=t.lat*i,l=Math.sin(n/2),h=Math.sin(r/2),u=l*l+h*h*Math.cos(s)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},wrap:function(t,e){var i=this.lng;return t=t||-180,e=e||180,i=(i+e)%(e-t)+(t>i||i===e?e:t),new o.LatLng(this.lat,i)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?new o.LatLng(t[0],t[1]):t===n||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;r>n;n++)this.extend(i[n])},o.LatLngBounds.prototype={extend:function(t){return t?(t="number"==typeof t[0]||"string"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this):this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,r=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-r),new o.LatLng(i.lat+n,i.lng+r))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,r=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=r.lat&&e.lng>=n.lng&&i.lng<=r.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=e.lat&&n.lat<=i.lat,a=r.lng>=e.lng&&n.lng<=i.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),r=t.lng*e,s=n*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new o.Point(r,s)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,i=t.x*e,n=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(n,i)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==n&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this.setView(this.getCenter(),t,{zoom:e})},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),r=this.getSize().divideBy(2),s=t instanceof o.Point?t:this.latLngToContainerPoint(t),a=s.subtract(r).multiplyBy(1-1/n),l=this.containerPointToLatLng(r.add(a));return this.setView(l,e,{zoom:i})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,i.add(n)),s=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),r),l=this.project(t.getNorthEast(),r),h=this.unproject(a.add(l).divideBy(2).add(s),r);return this.setView(h,r,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){if(t=o.latLngBounds(t),this.options.maxBounds=t,!t)return this._boundsMinZoom=null,this.off("moveend",this._panInsideMaxBounds,this),this;var e=this.getBoundsZoom(t,!0);return this._boundsMinZoom=e,this._loaded&&(e>this._zoom?this.setView(t.getCenter(),e):this.panInsideBounds(t)),this.on("moveend",this._panInsideMaxBounds,this),this},panInsideBounds:function(t){t=o.latLngBounds(t);var e=this.getPixelBounds(),i=e.getBottomLeft(),n=e.getTopRight(),r=this.project(t.getSouthWest()),s=this.project(t.getNorthEast()),a=0,l=0;return n.y<s.y&&(l=Math.ceil(s.y-n.y)),n.x>s.x&&(a=Math.floor(s.x-n.x)),i.y>r.y&&(l=Math.floor(r.y-i.y)),i.x<r.x&&(a=Math.ceil(r.x-i.x)),a||l?this.panBy([a,l]):this},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);if(this._layers[e])return this._loaded&&(t.onRemove(this),this.fire("layerremove",{layer:t})),delete this._layers[e],this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},invalidateSize:function(t){t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var i=this.getSize(),n=e.subtract(i).divideBy(2).round();return n.x||n.y?(t.animate&&t.pan?this.panBy(n):(t.pan&&this._rawPanBy(n),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)),this.fire("resize",{oldSize:e,newSize:i})):this},addHandler:function(t,e){if(e){var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this}},remove:function(){return this._loaded&&this.fire("unload"),this._initEvents("off"),delete this._container._leaflet,this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._moved()?this.layerPointToLatLng(this._getCenterLayerPoint()):this._initialCenter},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},getMinZoom:function(){var t=this.options.minZoom||0,e=this._layersMinZoom||0,i=this._boundsMinZoom||0;return Math.max(t,e,i)},getMaxZoom:function(){var t=this.options.maxZoom===n?1/0:this.options.maxZoom,e=this._layersMaxZoom===n?1/0:this._layersMaxZoom;return Math.min(t,e)},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t);var n,r=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),l=t.getNorthWest(),h=t.getSouthEast(),u=!0;i=o.point(i||[0,0]);do r++,n=this.project(h,r).subtract(this.project(l,r)).add(i),u=e?n.x<a.x||n.y<a.y:a.contains(n);while(u&&s>=r);return u&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)
},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw Error("Map container not found.");if(e._leaflet)throw Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,i,n){var r=this._zoom!==e;n||(this.fire("movestart"),r&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),i?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!i}),this.fire("move"),(r||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!i})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,i=-1/0,r=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(i=Math.max(i,o.options.maxZoom))}t===n?this._layersMaxZoom=this._layersMinZoom=n:(this._layersMaxZoom=i,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var i,n,r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(i=0,n=r.length;n>i;i++)o.DomEvent[e](this._container,r[i],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&this.dragging&&this.dragging.moved()||t._leaflet_stop||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!t._leaflet_stop){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var i=this.mouseEventToContainerPoint(t),n=this.containerPointToLayerPoint(i),r=this.layerPointToLatLng(n);this.fire(e,{latlng:r,layerPoint:n,containerPoint:i,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),r=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*r,l=n*e,h=s/r,u=Math.sqrt(1-h*h),c=u*Math.sin(l);c=Math.pow((1-c)/(1+c),.5*u);var p=Math.tan(.5*(.5*Math.PI-l))/c;return l=-r*Math.log(p),new o.Point(a,l)},unproject:function(t){for(var e,i=o.LatLng.RAD_TO_DEG,n=this.R_MAJOR,r=this.R_MINOR,s=t.x*i/n,a=r/n,l=Math.sqrt(1-a*a),h=Math.exp(-t.y/n),u=Math.PI/2-2*Math.atan(h),c=15,p=1e-7,d=c,f=.1;Math.abs(f)>p&&--d>0;)e=l*Math.sin(u),f=Math.PI/2-2*Math.atan(h*Math.pow((1-e)/(1+e),.5*l))-u,u+=f;return new o.LatLng(u*i,s)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,i=t.R_MINOR;return new o.Transformation(.5/(Math.PI*e),.5,-.5/(Math.PI*i),.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),this._createTileProto(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,r,o=t.children,s=-e(1/0,-1/0);for(n=0,r=o.length;r>n;n++)o[n]!==this._container&&(i=parseInt(o[n].style.zIndex,10),isNaN(i)||(s=e(s,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container leaflet-zoom-animated";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),1>this.options.opacity&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_update:function(){if(this._map){var t=this._map.getPixelBounds(),e=this._map.getZoom(),i=this.options.tileSize;if(!(e>this.options.maxZoom||this.options.minZoom>e)){var n=o.bounds(t.min.divideBy(i)._floor(),t.max.divideBy(i)._floor());this._addTilesFromCenterOut(n),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(n)}}},_addTilesFromCenterOut:function(t){var e,n,r,s=[],a=t.getCenter();for(e=t.min.y;t.max.y>=e;e++)for(n=t.min.x;t.max.x>=n;n++)r=new o.Point(n,e),this._tileShouldBeLoaded(r)&&s.push(r);var l=s.length;if(0!==l){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var h=i.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=l,n=0;l>n;n++)this._addTile(s[n],h);this._tileContainer.appendChild(h)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var i=this._getWrapTileNum();if(e.noWrap&&(0>t.x||t.x>=i)||0>t.y||t.y>=i)return!1}if(e.bounds){var n=e.tileSize,r=t.multiplyBy(n),o=r.add([n,n]),s=this._map.unproject(r),a=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,i,n,r;for(r in this._tiles)e=r.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(t.min.x>i||i>t.max.x||t.min.y>n||n>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var i=this._getTilePos(t),n=this._getTile();o.DomUtil.setPosition(n,i,o.Browser.chrome||o.Browser.android23),this._tiles[t.x+":"+t.y]=n,this._loadTile(n,t),n.parentNode!==this._tileContainer&&e.appendChild(n)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+t.zoomOffset},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this.options.tileSize;return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e+e)%e),this.options.tms&&(t.y=e-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_createTileProto:function(){var t=this._tileImg=o.DomUtil.create("img","leaflet-tile");t.style.width=t.style.height=this.options.tileSize+"px",t.galleryimg="no"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=this._tileImg.cloneNode(!1);return t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==n&&o.DomUtil.setOpacity(t,this.options.opacity),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams),n=e.tileSize||this.options.tileSize;i.width=i.height=e.detectRetina&&o.Browser.retina?2*n:n;for(var r in e)this.options.hasOwnProperty(r)||"crs"===r||(i[r]=e[r]);this.wmsParams=i,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs;var e=parseFloat(this.wmsParams.version)>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t,e){var i=this._map,n=this.options.tileSize,r=t.multiplyBy(n),s=r.add([n,n]),a=this._crs.project(i.unproject(r,e)),l=this._crs.project(i.unproject(s,e)),h=[a.x,l.y,l.x,a.y].join(","),u=o.Util.template(this._url,{s:this._getSubdomain(t)});return u+o.Util.getParamString(this.wmsParams,u,!0)+"&BBOX="+h},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTileProto:function(){var t=this._canvasProto=o.DomUtil.create("canvas","leaflet-tile");t.width=t.height=this.options.tileSize},_createTile:function(){var t=this._canvasProto.cloneNode(!1);return t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,i=this._image,n=e.getZoomScale(t.zoom),r=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(r,t.zoom,t.center),l=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),h=a._add(l._multiplyBy(.5*(1-1/n)));i.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(h)+" scale("+n+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=i.x+"px",t.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=e&&"IMG"===e.tagName?this._createImg(i,e):this._createImg(i),this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i,n=this.options,r=o.point(n[e+"Size"]);i="shadow"===e?o.point(n.shadowAnchor||n.iconAnchor):o.point(n.iconAnchor),!i&&r&&(i=r.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+n.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return o.Browser.ie6?(e||(e=i.createElement("div")),e.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'")'):(e||(e=i.createElement("img")),e.src=t),e},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var i=o.Icon.Default.imagePath;if(!i)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,e,n,r,o,s=i.getElementsByTagName("script"),a=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=s.length;e>t;t++)if(n=s[t].src,r=n.match(a))return o=n.split(a)[0],(o?o+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e=this._map,i=e.options.zoomAnimation&&e.options.markerZoomAnimation,n=i?"leaflet-zoom-animated":"leaflet-zoom-hide",r=t.icon.createIcon(this._icon),s=!1;r!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(r.title=t.title)),o.DomUtil.addClass(r,n),t.keyboard&&(r.tabIndex="0"),this._icon=r,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(r,"mouseover",this._bringToFront,this).on(r,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),l=!1;a!==this._shadow&&(this._removeShadow(),l=!0,a&&o.DomUtil.addClass(a,n)),this._shadow=a,1>t.opacity&&this._updateOpacity();var h=this._map._panes;s&&h.markerPane.appendChild(this._icon),a&&l&&h.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var i=0;e.length>i;i++)o.DomEvent.on(t,e[i],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){this.options.opacity=t,this._map&&this._updateOpacity()},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:i.createElement("div"),n=this.options;return e.innerHTML=n.html!==!1?n.html:"",n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout(),this._updateContent();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this._update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},setLatLng:function(t){return this._latlng=o.latLng(t),this._update(),this},setContent:function(t){return this._content=t,this._update(),this},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",i=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=o.DomUtil.create("div",i);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",n),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var r=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",n);o.DomEvent.disableClickPropagation(r),this._contentNode=o.DomUtil.create("div",e+"-content",r),o.DomEvent.on(this._contentNode,"mousewheel",o.DomEvent.stopPropagation),o.DomEvent.on(r,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",n),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&n>r?(e.height=r+"px",o.DomUtil.addClass(t,s)):o.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,i=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-i.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&n._add(o.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(n),s=o.point(this.options.autoPanPadding),a=t.getSize(),l=0,h=0;r.x+i>a.x&&(l=r.x+i-a.x+s.x),0>r.x-l&&(l=r.x-s.x),r.y+e>a.y&&(h=r.y+e-a.y+s.y),0>r.y-h&&(h=r.y-s.y),(l||h)&&t.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,i){if(this.closePopup(),!(t instanceof o.Popup)){var n=t;t=new o.Popup(i).setLatLng(e).setContent(n)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var i=o.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(o.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=o.extend({offset:i},e),this._popup||this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup).off("remove",this.closePopup).off("move",this._movePopup)),this},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:(t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))
},removeLayer:function(t){return t in this._layers&&(t=this._layers[t]),t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t.layer||(t.layer=t.target),t.target=this,this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:o.Browser.mobile?Math.max(0,Math.min(.5,(1280/Math.max(t.innerWidth,t.innerHeight)-1)/2)):.5},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),i=o.DomUtil.getPosition(this._mapPane),n=i.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),r=n.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(n,r)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!i.createElementNS||!i.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return i.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&this._path.setAttribute("class","leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;t.length>e;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,i=e.mouseEventToContainerPoint(t),n=e.containerPointToLayerPoint(i),r=e.layerPointToLatLng(n);this.fire(t.type,{latlng:r,layerPoint:n,containerPoint:i,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),i=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(i)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max,n=i.x-e.x,r=i.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;o.Browser.mobileWebkit&&a.removeChild(s),o.DomUtil.setPosition(s,e),s.setAttribute("width",n),s.setAttribute("height",r),s.setAttribute("viewBox",[e.x,e.y,n,r].join(" ")),o.Browser.mobileWebkit&&a.appendChild(s)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=i.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(n){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return i.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return i.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return i.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",n.appendChild(t)),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,t.dashStyle=i.dashArray?i.dashArray instanceof Array?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):""):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement("fill"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=i.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!i.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,i,n,r,s;for(this._ctx.beginPath(),t=0,i=this._parts.length;i>t;t++){for(e=0,n=this._parts[t].length;n>e;e++)r=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](r.x,r.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill()),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire("click",t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=i.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max.subtract(e),n=this._pathRoot;o.DomUtil.setPosition(n,e),n.width=i.x,n.height=i.y,n.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var i=t.length,r=typeof Uint8Array!=n+""?Uint8Array:Array,o=new r(i);o[0]=o[i-1]=1,this._simplifyDPStep(t,o,e,0,i-1);var s,a=[];for(s=0;i>s;s++)o[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,i,n,r){var o,s,a,l=0;for(s=n+1;r-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[n],t[r],!0),a>l&&(o=s,l=a);l>i&&(e[o]=1,this._simplifyDPStep(t,e,i,n,o),this._simplifyDPStep(t,e,i,o,r))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,r=0,o=t.length;o>n;n++)this._sqDist(t[n],t[r])>e&&(i.push(t[n]),r=n);return o-1>r&&i.push(t[o-1]),i},clipSegment:function(t,e,i,n){var r,o,s,a=n?this._lastCode:this._getBitCode(t,i),l=this._getBitCode(e,i);for(this._lastCode=l;;){if(!(a|l))return[t,e];if(a&l)return!1;r=a||l,o=this._getEdgeIntersection(t,e,r,i),s=this._getBitCode(o,i),r===a?(t=o,a=s):(e=o,l=s)}},_getEdgeIntersection:function(t,e,i,r){var s=e.x-t.x,a=e.y-t.y,l=r.min,h=r.max;return 8&i?new o.Point(t.x+s*(h.y-t.y)/a,h.y):4&i?new o.Point(t.x+s*(l.y-t.y)/a,l.y):2&i?new o.Point(h.x,t.y+a*(h.x-t.x)/s):1&i?new o.Point(l.x,t.y+a*(l.x-t.x)/s):n},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var r,s=e.x,a=e.y,l=i.x-s,h=i.y-a,u=l*l+h*h;return u>0&&(r=((t.x-s)*l+(t.y-a)*h)/u,r>1?(s=i.x,a=i.y):r>0&&(s+=l*r,a+=h*r)),l=t.x-s,h=t.y-a,n?l*l+h*h:new o.Point(s,a)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i="";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,i,n=1/0,r=this._parts,s=null,a=0,l=r.length;l>a;a++)for(var h=r[a],u=1,c=h.length;c>u;u++){e=h[u-1],i=h[u];var p=o.LineUtil._sqClosestPointOnSegment(t,e,i,!0);n>p&&(n=p,s=o.LineUtil._sqClosestPointOnSegment(t,e,i))}return s&&(s.distance=Math.sqrt(n)),s},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var i,n,r=e?t:[];for(i=0,n=t.length;n>i;i++){if(o.Util.isArray(t[i])&&"number"!=typeof t[i][0])return;r[i]=o.latLng(t[i])}return r},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,i=o.Path.VML,n=0,r=t.length,s="";r>n;n++)e=t[n],i&&e._round(),s+=(n?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,i,r=this._originalPoints,s=r.length;if(this.options.noClip)return this._parts=[r],n;this._parts=[];var a=this._parts,l=this._map._pathViewport,h=o.LineUtil;for(t=0,e=0;s-1>t;t++)i=h.clipSegment(r[t],r[t+1],l,t),i&&(a[e]=a[e]||[],a[e].push(i[0]),(i[1]!==r[t+1]||t===s-2)&&(a[e].push(i[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,i=0,n=t.length;n>i;i++)t[i]=e.simplify(t[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var i,n,r,s,a,l,h,u,c,p=[1,4,2,8],d=o.LineUtil;for(n=0,h=t.length;h>n;n++)t[n]._code=d._getBitCode(t[n],e);for(s=0;4>s;s++){for(u=p[s],i=[],n=0,h=t.length,r=h-1;h>n;r=n++)a=t[n],l=t[r],a._code&u?l._code&u||(c=d._getEdgeIntersection(l,a,u,e),c._code=d._getBitCode(c,e),i.push(c)):(l._code&u&&(c=d._getEdgeIntersection(l,a,u,e),c._code=d._getBitCode(c,e),i.push(c)),i.push(a));t=i}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){var i,n,r;if(o.Polyline.prototype.initialize.call(this,t,e),t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),i=0,n=this._holes.length;n>i;i++)r=this._holes[i]=this._convertLatLngs(this._holes[i]),r[0].equals(r[r.length-1])&&r.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,i,n;for(t=0,i=this._holes.length;i>t;t++)for(this._holePoints[t]=[],e=0,n=this._holes[t].length;n>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var i=0,n=this._parts.length;n>i;i++){var r=o.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);r.length&&e.push(r)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,i){o.Path.prototype.initialize.call(this,i),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,i=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var t=this._getLngRadius(),e=360*(this._mRadius/40075017),i=this._latlng;return new o.LatLngBounds([i.lat-e,i.lng-t],[i.lat+e,i.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,"+23592600)},getRadius:function(){return this._mRadius},_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var i,n,r,s,a,l,h,u=this.options.weight/2;for(o.Browser.touch&&(u+=10),i=0,s=this._parts.length;s>i;i++)for(h=this._parts[i],n=0,a=h.length,r=a-1;a>n;r=n++)if((e||0!==n)&&(l=o.LineUtil.pointToSegmentDistance(t,h[r],h[n]),u>=l))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,i,n,r,s,a,l,h,u=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(r=0,l=this._parts.length;l>r;r++)for(e=this._parts[r],s=0,h=e.length,a=h-1;h>s;a=s++)i=e[s],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n=o.Util.isArray(t)?t:t.features;if(n){for(e=0,i=n.length;i>e;e++)(n[e].geometries||n[e].geometry||n[e].features)&&this.addData(n[e]);return this}var r=this.options;if(!r.filter||r.filter(t)){var s=o.GeoJSON.geometryToLayer(t,r.pointToLayer,r.coordsToLatLng);return s.feature=o.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,i){var n,r,s,a,l,h="Feature"===t.type?t.geometry:t,u=h.coordinates,c=[];switch(i=i||this.coordsToLatLng,h.type){case"Point":return n=i(u),e?e(t,n):new o.Marker(n);case"MultiPoint":for(s=0,a=u.length;a>s;s++)n=i(u[s]),l=e?e(t,n):new o.Marker(n),c.push(l);return new o.FeatureGroup(c);case"LineString":return r=this.coordsToLatLngs(u,0,i),new o.Polyline(r);case"Polygon":return r=this.coordsToLatLngs(u,1,i),new o.Polygon(r);case"MultiLineString":return r=this.coordsToLatLngs(u,1,i),new o.MultiPolyline(r);case"MultiPolygon":return r=this.coordsToLatLngs(u,2,i),new o.MultiPolygon(r);case"GeometryCollection":for(s=0,a=h.geometries.length;a>s;s++)l=this.geometryToLayer({geometry:h.geometries[s],type:"Feature",properties:t.properties},e,i),c.push(l);return new o.FeatureGroup(c);default:throw Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0])},coordsToLatLngs:function(t,e,i){var n,r,o,s=[];for(r=0,o=t.length;o>r;r++)n=e?this.coordsToLatLngs(t[r],e-1,i):(i||this.coordsToLatLng)(t[r]),s.push(n);return s},latLngToCoords:function(t){return[t.lng,t.lat]},latLngsToCoords:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(o.GeoJSON.latLngToCoords(t[i]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(a),o.Circle.include(a),o.CircleMarker.include(a),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,i,n=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)i=o.GeoJSON.latLngsToCoords(this._holes[t]),i.push(i[0]),n.push(i);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function t(t,e){t.include({toGeoJSON:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:e,coordinates:t})}})}t(o.MultiPolyline,"MultiLineString"),t(o.MultiPolygon,"MultiPolygon")}(),o.LayerGroup.include({toGeoJSON:function(){var t=[];return this.eachLayer(function(e){e.toGeoJSON&&t.push(o.GeoJSON.asFeature(e.toGeoJSON()))}),{type:"FeatureCollection",features:t}}}),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,i,r){var s,a,l,h=o.stamp(i),u="_leaflet_"+e+h;return t[u]?this:(s=function(e){return i.call(r||t,e||o.DomEvent._getEvent())},o.Browser.msTouch&&0===e.indexOf("touch")?this.addMsTouchListener(t,e,s,h):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,s,h),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?(a=s,l="mouseenter"===e?"mouseover":"mouseout",s=function(e){return o.DomEvent._checkMouse(t,e)?a(e):n},t.addEventListener(l,s,!1)):"click"===e&&o.Browser.android?(a=s,s=function(t){return o.DomEvent._filterClick(t,a)},t.addEventListener(e,s,!1)):t.addEventListener(e,s,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[u]=s,this))},removeListener:function(t,e,i){var n=o.stamp(i),r="_leaflet_"+e+n,s=t[r];return s?(o.Browser.msTouch&&0===e.indexOf("touch")?this.removeMsTouchListener(t,e,n):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[r]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,i=o.Draggable.START.length-1;i>=0;i--)o.DomEvent.addListener(t,o.Draggable.START[i],e);return o.DomEvent.addListener(t,"click",o.DomEvent._fakeStop).addListener(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){var n=i.body,r=i.documentElement,s=t.pageX?t.pageX:t.clientX+n.scrollLeft+r.scrollLeft,a=t.pageY?t.pageY:t.clientY+n.scrollTop+r.scrollTop,l=new o.Point(s,a);return e?l._subtract(o.DomUtil.getViewportOffset(e)):l},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_fakeStop:function(t){t._leaflet_stop=!0},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent.timeStamp,r=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return r&&r>100&&1e3>r||t.target._simulatedClick&&!t._simulated?(o.DomEvent.stop(t),n):(o.DomEvent._lastClick=i,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(o.DomEvent.stopPropagation(t),!o.Draggable._disabled)){o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection();var e=t.touches?t.touches[0]:t,n=e.target;o.Browser.touch&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._moved=!1,this._moving||(this._startPoint=new o.Point(e.clientX,e.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(i,o.Draggable.MOVE[t.type],this._onMove,this).on(i,o.Draggable.END[t.type],this._onUp,this))}},_onMove:function(t){if(!(t.touches&&t.touches.length>1)){var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new o.Point(e.clientX,e.clientY),r=n.subtract(this._startPoint);(r.x||r.y)&&(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(r),o.Browser.touch||o.DomUtil.addClass(i.body,"leaflet-dragging")),this._newPos=this._startPos.add(r),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.Browser.touch||o.DomUtil.removeClass(i.body,"leaflet-dragging");for(var t in o.Draggable.MOVE)o.DomEvent.off(i,o.Draggable.MOVE[t],this._onMove).off(i,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend")),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-e+i)%t+e-i,o=(n+e+i)%t-e-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._newPos.x=s},_onDragEnd:function(){var t=this._map,e=t.options,i=+new Date-this._lastTime,n=!e.inertia||i>e.inertiaThreshold||!this._positions[0];if(t.fire("dragend"),n)t.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),s=(this._lastTime+i-this._times[0])/1e3,a=e.easeLinearity,l=r.multiplyBy(a/s),h=l.distanceTo([0,0]),u=Math.min(e.inertiaMaxSpeed,h),c=l.multiplyBy(u/h),p=u/(e.inertiaDeceleration*a),d=c.multiplyBy(-p/2).round();d.x&&d.y?o.Util.requestAnimFrame(function(){t.panBy(d,{duration:p,easeLinearity:a,noMoveStart:!0})
}):t.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(t){this.setZoomAround(t.containerPoint,this._zoom+1)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),i),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,i=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e&&t.setZoomAround(this._lastMousePos,i+e)}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msTouch?"MSPointerDown":"touchstart",_touchend:o.Browser.msTouch?"MSPointerUp":"touchend",addDoubleTapListener:function(t,e,n){function r(t){var e;if(o.Browser.msTouch?(f.push(t.pointerId),e=f.length):e=t.touches.length,!(e>1)){var i=Date.now(),n=i-(a||i);l=t.touches?t.touches[0]:t,h=n>0&&u>=n,a=i}}function s(t){if(o.Browser.msTouch){var i=f.indexOf(t.pointerId);if(-1===i)return;f.splice(i,1)}if(h){if(o.Browser.msTouch){var n,r={};for(var s in l)n=l[s],r[s]="function"==typeof n?n.bind(l):n;l=r}l.type="dblclick",e(l),a=null}}var a,l,h=!1,u=250,c="_leaflet_",p=this._touchstart,d=this._touchend,f=[];t[c+p+n]=r,t[c+d+n]=s;var m=o.Browser.msTouch?i.documentElement:t;return t.addEventListener(p,r,!1),m.addEventListener(d,s,!1),o.Browser.msTouch&&m.addEventListener("MSPointerCancel",s,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+e],!1),(o.Browser.msTouch?i.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+e],!1),o.Browser.msTouch&&i.documentElement.removeEventListener("MSPointerCancel",t[n+this._touchend+e],!1),this}}),o.extend(o.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(t,e,i,n){switch(e){case"touchstart":return this.addMsTouchListenerStart(t,e,i,n);case"touchend":return this.addMsTouchListenerEnd(t,e,i,n);case"touchmove":return this.addMsTouchListenerMove(t,e,i,n);default:throw"Unknown touch event type"}},addMsTouchListenerStart:function(t,e,n,r){var o="_leaflet_",s=this._msTouches,a=function(t){for(var e=!1,i=0;s.length>i;i++)if(s[i].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],n(t)};if(t[o+"touchstart"+r]=a,t.addEventListener("MSPointerDown",a,!1),!this._msDocumentListener){var l=function(t){for(var e=0;s.length>e;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};i.documentElement.addEventListener("MSPointerUp",l,!1),i.documentElement.addEventListener("MSPointerCancel",l,!1),this._msDocumentListener=!0}return this},addMsTouchListenerMove:function(t,e,i,n){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE||0!==t.buttons){for(var e=0;s.length>e;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],i(t)}}var o="_leaflet_",s=this._msTouches;return t[o+"touchmove"+n]=r,t.addEventListener("MSPointerMove",r,!1),this},addMsTouchListenerEnd:function(t,e,i,n){var r="_leaflet_",o=this._msTouches,s=function(t){for(var e=0;o.length>e;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}t.touches=o.slice(),t.changedTouches=[t],i(t)};return t[r+"touchend"+n]=s,t.addEventListener("MSPointerUp",s,!1),t.addEventListener("MSPointerCancel",s,!1),this},removeMsTouchListener:function(t,e,i){var n="_leaflet_",r=t[n+e+i];switch(e){case"touchstart":t.removeEventListener("MSPointerDown",r,!1);break;case"touchmove":t.removeEventListener("MSPointerMove",r,!1);break;case"touchend":t.removeEventListener("MSPointerUp",r,!1),t.removeEventListener("MSPointerCancel",r,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),r=e.mouseEventToLayerPoint(t.touches[1]),s=e._getCenterLayerPoint();this._startCenter=n.add(r)._divideBy(2),this._startDist=n.distanceTo(r),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),o.DomEvent.on(i,"touchmove",this._onTouchMove,this).on(i,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),n=e.mouseEventToLayerPoint(t.touches[1]);this._scale=i.distanceTo(n)/this._startDist,this._delta=i._add(n)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),n=t.getScaleZoom(this._scale);t._animateZoom(i,n,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return this._zooming=!1,n;var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(i,"touchmove",this._onTouchMove).off(i,"touchend",this._onTouchEnd);var e=this._getScaleOrigin(),r=t.layerPointToLatLng(e),s=t.getZoom(),a=t.getScaleZoom(this._scale)-s,l=a>0?Math.ceil(a):Math.floor(a),h=t._limitZoom(s+l),u=t.getZoomScale(h)/this._scale;t._animateZoom(r,h,e,u)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,clearTimeout(this._holdTimeout),n;var e=t.touches[0],r=e.target;this._startPos=this._newPos=new o.Point(e.clientX,e.clientY),"a"===r.tagName.toLowerCase()&&o.DomUtil.addClass(r,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),o.DomEvent.on(i,"touchmove",this._onMove,this).on(i,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(i,"touchmove",this._onMove,this).off(i,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(e,n){var r=i.createEvent("MouseEvents");r._simulated=!0,n.target._simulatedClick=!0,r.initMouseEvent(e,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(r)}}),o.Browser.touch&&!o.Browser.msTouch&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",o.DomEvent.on(i,"mousemove",this._onMouseMove,this).on(i,"mouseup",this._onMouseUp,this).on(i,"keydown",this._onKeyDown,this),this._map.fire("boxzoomstart"),n)},_onMouseMove:function(t){var e=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(t),r=n.subtract(e),s=new o.Point(Math.min(n.x,e.x),Math.min(n.y,e.y));o.DomUtil.setPosition(i,s),i.style.width=Math.max(0,Math.abs(r.x)-4)+"px",i.style.height=Math.max(0,Math.abs(r.y)-4)+"px"},_finish:function(){this._pane.removeChild(this._box),this._container.style.cursor="",o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(i,"mousemove",this._onMouseMove).off(i,"mouseup",this._onMouseUp).off(i,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,i=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(i)){var n=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(n),e.fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=i.body,n=i.documentElement,r=e.scrollTop||n.scrollTop,o=e.scrollTop||n.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,i,n=this._panKeys={},r=this.keyCodes;for(e=0,i=r.left.length;i>e;e++)n[r.left[e]]=[-1*t,0];for(e=0,i=r.right.length;i>e;e++)n[r.right[e]]=[t,0];for(e=0,i=r.down.length;i>e;e++)n[r.down[e]]=[0,t];for(e=0,i=r.up.length;i>e;e++)n[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},r=this.keyCodes;for(e=0,i=r.zoomIn.length;i>e;e++)n[r.zoomIn[e]]=t;for(e=0,i=r.zoomOut.length;i>e;e++)n[r.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(i,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(i,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,i=this._map;if(e in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;i.panBy(this._panKeys[e]),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else{if(!(e in this._zoomKeys))return;i.setZoom(i.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable()},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,i=o.DomUtil.getPosition(t._icon),n=t._map.layerPointToLatLng(i);e&&o.DomUtil.setPosition(e,i),t._latlng=n,t.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,r){var s=i+t+" "+i+r;e[t+r]=o.DomUtil.create("div",s,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton("+","Zoom in",e+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton("-","Zoom out",e+"-out",i,this._zoomOut,this),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,i,n,r,s){var a=o.DomUtil.create("a",i,n);a.innerHTML=t,a.href="#",a.title=e;var l=o.DomEvent.stopPropagation;return o.DomEvent.on(a,"click",l).on(a,"mousedown",l).on(a,"dblclick",l).on(a,"click",o.DomEvent.preventDefault).on(a,"click",r,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){return this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container),t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):n},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):n},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e,i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",i))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,s=0;r.x>0&&(s=n*(o.maxWidth/r.x)),this._updateScales(o,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,i,n,r=3.2808399*t,o=this._iScale;r>5280?(e=r/5280,i=this._getRoundNum(e),o.style.width=this._getScaleWidth(i/e)+"px",o.innerHTML=i+" mi"):(n=this._getRoundNum(r),o.style.width=this._getScaleWidth(n/r)+"px",o.innerHTML=n+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,i){o.setOptions(this,i),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):(o.DomEvent.disableClickPropagation(e),o.DomEvent.on(e,"mousewheel",o.DomEvent.stopPropagation));var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this._expand,this):o.DomEvent.on(n,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i){var n=o.stamp(t);this._layers[n]={layer:t,name:e,overlay:i},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,i=!1,n=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),n=n||e.overlay,i=i||!e.overlay;this._separator.style.display=n&&i?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var i=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)}},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(n+=' checked="checked"'),n+="/>";var r=i.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=i.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=i.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),e.layerId=o.stamp(t.layer),o.DomEvent.on(e,"click",this._onInputClick,this);var s=i.createElement("span");s.innerHTML=" "+t.name,n.appendChild(e),n.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(n),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),r=n.length;for(this._handlingClick=!0,t=0;r>t;t++)e=n[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);this._handlingClick=!1},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){this._el._leaflet_pos=this._getPos(),this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,i,n,r=this._el,s=t.getComputedStyle(r);return o.Browser.any3d?(n=s[o.DomUtil.TRANSFORM].match(this._transformRe),e=n?parseFloat(n[1]):0,i=n?parseFloat(n[2]):0):(e=parseFloat(s.left),i=parseFloat(s.top)),new o.Point(e,i,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,i){if(e=this._limitZoom(e),t=o.latLng(t),i=i||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==n&&(i.zoom=o.extend({animate:i.animate},i.zoom),i.pan=o.extend({animate:i.animate},i.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(i)?(this.panBy(i,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/n),o=this._getCenterLayerPoint()._add(r);return i.animate===!0||this.getSize().contains(r)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,n,null,!0),!0):!1},_animateZoom:function(t,e,i,n,r,s){this._animatingZoom=!0,o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),this.fire("zoomanim",{center:t,zoom:e,origin:i,scale:n,delta:r,backwards:s})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,i=o.DomUtil.TRANSFORM,n=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[i],r=o.DomUtil.getScaleString(t.scale,t.origin);e.style[i]=t.backwards?r+" "+n:n+" "+r},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,i=this._getLoadedTilesPercentage(e),r=this._getLoadedTilesPercentage(t);return e&&i>.5&&.5>r?(t.style.visibility="hidden",this._stopLoadingImages(t),n):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),clearTimeout(this._clearBgBufferTimer),n)},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName("img"),r=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&r++;return r/i},_stopLoadingImages:function(t){var e,i,n,r=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,i=r.length;i>e;e++)n=r[e],n.complete||(n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.src=o.Util.emptyImageUrl,n.parentNode.removeChild(n))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),r=180*t.coords.accuracy/40075017,s=r/Math.cos(o.LatLng.DEG_TO_RAD*e),a=o.latLngBounds([e-r,i-s],[e+r,i+s]),l=this._locateOptions;if(l.setView){var h=Math.min(this.getBoundsZoom(a),l.maxZoom);this.setView(n,h)}var u={latlng:n,bounds:a};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})})(window,document)},{}],4:[function(t,e){"use strict";var i=t("underscore"),n=t("jquery-browserify"),r=t("../lib/backbone");e.exports.OtpPlanRequest=r.Model.extend({initialize:function(){i.bindAll(this,"request","processRequest"),this.on("change",this.request)},defaults:{fromPlace:null,toPlace:null,intermediatePlaces:null,intermediatePlacesOrdered:null,date:null,time:null,routerId:null,arriveBy:null,wheelchair:null,maxWalkDistance:null,walkSpeed:null,bikeSpeed:null,triangleSafetyFactor:null,triangleSlopeFactor:null,triangleTimeFactor:null,optimize:null,mode:null,minTransferTime:null,preferredRoutes:null,preferredAgencies:null,unpreferredRoutes:null,unpreferredAgencies:null,showIntermediateStops:null,bannedRoutes:null,bannedAgencies:null,bannedTrips:null,transferPenalty:null,maxTransfers:null},request:function(){var t=this;return this.attributes.fromPlace&&this.attributes.toPlace?(n.ajax(this.urlRoot,{dataType:"jsonp",data:OTP.utils.filterParams(this.attributes)}).done(function(e){t.trigger("success",t.processRequest(e))}).fail(function(e){t.trigger("failure",t.processRequest(e))}),void 0):!1},processRequest:function(t){var e=new OTP.models.OtpPlanResponse(t);return e.set("request",this),e},getFromLatLng:function(){if(!this.get("fromPlace"))return null;var t=this.get("fromPlace").split("::")[0].split(",");
return[parseFloat(t[0]),parseFloat(t[1])]},getToLatLng:function(){if(!this.get("toPlace"))return null;var t=this.get("toPlace").split("::")[0].split(",");return[parseFloat(t[0]),parseFloat(t[1])]}}),e.exports.OtpPlanResponse=r.Model.extend({initialize:function(){this.unset("plan");var t=arguments[0].plan;if(t){var e=i.omit(t,["itineraries","to","from"]);e.to=new OTP.models.OtpItineraryStop(t.to),e.from=new OTP.models.OtpItineraryStop(t.from),e.itineraries=new OTP.models.OtpItineraries,e.itineraries.add(t.itineraries),this.set(e)}},defaults:{request:null,to:null,from:null,date:null,itineraries:[]}}),e.exports.OtpItinerary=r.Model.extend({initialize:function(){var t=arguments[0],e=i.omit(t,["legs"]);e.legs=new OTP.models.OtpItineraryLegs,e.legs.add(t.legs),this.set(e)},defaults:{duration:null,startTime:null,endTime:null,walkTime:null,transitTime:null,elevationLost:null,locationLon:null,elevationGained:null,transfers:null,fare:[],legs:[]},getBoundsArray:function(){var t=this.get("legs"),e=t.at(0).get("from"),i=t.at(t.length-1).get("to");return[[Math.min(e.lat,i.lat),Math.min(e.lon,i.lon)],[Math.max(e.lat,i.lat),Math.max(e.lon,i.lon)]]}}),e.exports.OtpItineraries=r.Collection.extend({type:"OtpItineraries",model:e.exports.OtpItinerary,initialize:function(){this.on("add",function(t){this.listenTo(t,"activate",function(){this.activeItinerary&&this.activeItinerary.trigger("deactivate"),this.activeItinerary=t})})}}),e.exports.OtpItineraryLeg=r.Model.extend({initialize:function(){var t=arguments[0],e=i.omit(t,["steps"]);e.steps=new OTP.models.OtpItineraryWalkSteps,e.steps.add(t.steps),this.set(e)},defaults:{mode:null,route:null,agencyName:null,agencyUrl:null,agencyTimeZoneOffset:null,routeColor:null,routeType:null,routeId:null,routeTextColor:null,interlineWithPreviousLeg:null,tripShortName:null,headsign:null,agencyId:null,tripId:null,routeShortName:null,routeLongName:null,boardRule:null,alightRule:null,rentedBike:null,startTime:null,endTime:null,distance:null,toStop:null,fromStop:null,legGeometry:null,intermediateStops:[],steps:[],notes:[],alerts:[]},isTransit:function(t){return t=t||this.get("mode"),"TRANSIT"===t||"SUBWAY"===t||"RAIL"===t||"BUS"===t||"TRAM"===t||"GONDOLA"===t||"TRAINISH"===t||"BUSISH"===t},isWalk:function(t){return t=t||this.get("mode"),"WALK"===t},isBicycle:function(t){return t=t||this.get("mode"),"BICYCLE"===t},isCar:function(t){return t=t||this.get("mode"),"CAR"===t},getMapColor:function(t){return t=t||this.get("mode"),"WALK"===t?"#444":"BICYCLE"===t?"#0073e5":"SUBWAY"===t?"#f00":"RAIL"===t?"#b00":"BUS"===t?"#080":"TRAM"===t?"#800":"CAR"===t?"#444":"#aaa"}}),e.exports.OtpItineraryLegs=r.Collection.extend({type:"OtpItineraryLegs",model:e.exports.OtpItineraryLeg}),e.exports.OtpItineraryStop=r.Model.extend({initialize:function(){},defaults:{name:null,stopId:null,agencyId:null,stopCode:null,lat:null,lon:null,arrival:null,departure:null}}),e.exports.OtpItineraryWalkStep=r.Model.extend({initialize:function(){},defaults:{distance:null,relativeDirection:null,absoluteDirection:null,streetName:null,exit:null,stayOn:null,bogusName:null,lon:null,lat:null}}),e.exports.OtpItineraryWalkSteps=r.Collection.extend({type:"OtpItineraryWalkSteps",model:e.exports.OtpItineraryWalkStep}),e.exports.OtpStopsInRectangleRequest=r.Model.extend({initialize:function(){i.bindAll(this,"request","processRequest"),this.on("change",this.request)},defaults:{routerId:null,agency:null,leftUpLat:null,leftUpLon:null,rightDownLat:null,rightDownLon:null,extended:!1},request:function(){var t=this;return this.attributes.leftUpLat&&this.attributes.leftUpLon&&this.attributes.rightDownLat&&this.attributes.rightDownLon?(n.ajax(this.urlRoot,{dataType:"jsonp",data:OTP.utils.filterParams(this.attributes)}).done(function(e){t.trigger("success",t.processRequest(e))}).fail(function(e){t.trigger("failure",e)}),void 0):!1},processRequest:function(t){var e=new OTP.models.OtpStopsResponse(t);return e.set("request",this),e}}),e.exports.OtpStopsResponse=r.Model.extend({initialize:function(){var t=arguments[0],e=i.omit(t,["stops"]);i.each(t.stops,function(t){t.stopId=t.id,delete t.id}),e.stops=new OTP.models.OtpStops,e.stops.add(t.stops),this.set(e)},defaults:{request:null,stops:[]}}),e.exports.OtpStop=r.Model.extend({initialize:function(){},defaults:{stopId:null,direction:null,locationType:null,parentStation:null,stopName:null,stopLon:null,stopLat:null,stopDesc:null,stopCode:null,stopUrl:null,wheelchairBoarding:null,zoneId:null,routes:[]}}),e.exports.OtpStops=r.Collection.extend({type:"OtpStops",model:e.exports.OtpStop})},{"../lib/backbone":14,"jquery-browserify":16,underscore:15}],5:[function(t,e){"use strict";var i=t("underscore"),n=t("moment"),r=function(t){var e=i.map(i.pairs(t),function(t){return void 0==t[1]?t[0]:void 0});return i.omit(t,e)};e.exports.filterParams=r;var o=function(t){for(var e=0,i=0,n=0,r=t.length,o=[];r>e;){var s,a=0,l=0;do s=t.charCodeAt(e++)-63,l|=(31&s)<<a,a+=5;while(s>=32);var h=1&l?~(l>>1):l>>1;i+=h,a=0,l=0;do s=t.charCodeAt(e++)-63,l|=(31&s)<<a,a+=5;while(s>=32);var u=1&l?~(l>>1):l>>1;n+=u,o.push(new L.LatLng(1e-5*i,1e-5*n))}return o};e.exports.decodePolyline=o;var s=function(t,e){var e=e||"h:mma",i=n(t);return i.format(e)};e.exports.formatTime=s;var a=function(t){var e=Math.floor(t/36e5),i=Math.floor(t/6e4)%60,n=(e>0?e+" hr, ":"")+i+" min";return n};e.exports.msToHrMin=a;var l=function(t){var e=3.28084*t;return 528>e?Math.round(e)+" feet":Math.round(e/528)/10+" miles"},h=function(t){return l(t)};e.exports.distanceString=h},{moment:17,underscore:15}],6:[function(t,e){var i=t("underscore");t("jquery-browserify");var n=t("../lib/backbone");t("handlebars");var r=n.View.extend({initialize:function(){this.render()},render:function(){if(this.options.narrative){var t=new OTP.narrative_views.OtpPlanResponseNarrativeView({el:this.options.narrative,model:this.model});t.render()}if(this.model){var e=this.model.get("itineraries");i.size(e)>0&&(i.each(e.models,this.processItinerary,this),e.at(0).trigger("activate"))}},processItinerary:function(t){this.options.map&&new OTP.map_views.OtpItineraryMapView({map:this.options.map,model:t,planView:this}),this.options.topo&&new OTP.topo_views.OtpItineraryTopoView({map:this.options.map,el:this.options.topo,model:t,planView:this})},newResponse:function(t){this.model&&this.model.get("itineraries")&&this.model.get("itineraries").activeItinerary&&this.model.get("itineraries").activeItinerary.trigger("deactivate"),this.model=t,this.render()}});e.exports.OtpPlanResponseView=r},{"../lib/backbone":14,handlebars:18,"jquery-browserify":16,underscore:15}],7:[function(t,e){var i=t("underscore"),n=t("jquery-browserify"),r=t("../lib/backbone"),o=t("handlebars"),s=o.compile(['<div id="messageWell" class="well">','<p class="text-info">',"<strong>To plan a trip:</strong> select a start and end location by clicking the map, or by entering an address above.","</p>","</div>",'<div id="itineraries"></div>'].join("\n")),a=o.compile(['<div id="messageWell" class="well">','<p class="text-info">',"Drag start and end location pins on the map or use the form above to adjust trip settings.","</p>","</div>",'<div id="itineraries"></div>'].join("\n")),l=r.View.extend({render:function(){if(this.model){this.$el.html(a());var t=this.model.get("itineraries");i.each(t.models,this.processItinerary,this),n("#itineraries").height(n(window).height()-(n("#request").height()+n("#messageWell").height()+80)),n(window).resize(function(){n("#itineraries").height(n(window).height()-(n("#request").height()+n("#messageWell").height()+80))})}else this.$el.html(s())},processItinerary:function(t,e){var i=new u({model:t,planView:this,index:e});i.render(),this.$("#itineraries").append(i.el)}});e.exports.OtpPlanResponseNarrativeView=l;var h=o.compile(['<div class="well">','<div class="otp-itinHeader">','<span style="float:right;">{{formatDuration duration}}</span>Option {{index}}: {{#each legs}}<nobr><div class="otp-legMode-icon otp-legMode-icon-{{ attributes.mode }}"></div>{{#if attributes.routeShortName }}{{attributes.routeShortName}}{{/if}}<div class="otp-legMode-icon otp-legMode-icon-arrow-right"></div></nobr>{{/each}}',"<br/><span>{{formatTime startTime}} - {{formatTime endTime}}</span>","</div>",'<div class="otp-itinBody"></div>',"</div>"].join("\n")),u=r.View.extend({events:{"click .otp-itinHeader":"headerClicked","mouseenter .otp-itinHeader":"headerMouseenter","mouseleave .otp-itinHeader":"headerMouseleave"},initialize:function(){i.bindAll(this,"headerClicked","headerMouseenter","headerMouseleave"),this.listenTo(this.model,"activate",this.expand),this.listenTo(this.model,"deactivate",this.collapse)},render:function(){var t=this.model.get("legs"),e=this.model.get("duration"),n=i.clone(this.model.attributes);n.index=this.options.index+1,n.legs=t.models,n.duration=e,this.$el.html(h(n)),i.each(t.models,this.processLeg,this),this.$el.find(".otp-itinBody").hide()},processLeg:function(t){var e=new f({model:t});e.render(),this.$el.find(".otp-itinBody").append(e.el)},collapse:function(){this.$el.find(".otp-itinBody").slideUp("fast")},expand:function(){this.$el.find(".otp-itinBody").slideDown("fast")},headerClicked:function(){this.isActive()||this.model.trigger("activate")},headerMouseenter:function(){this.isActive()||this.model.trigger("mouseenter")},headerMouseleave:function(){this.isActive()||this.model.trigger("mouseleave")},isActive:function(){return this.options.planView.model.get("itineraries").activeItinerary===this.model}});e.exports.OtpItineraryNarrativeView=u,o.registerHelper("formatTime",function(t,e){return t?OTP.utils.formatTime(t,e.hash.format):""}),o.registerHelper("formatDuration",function(t){return t?OTP.utils.msToHrMin(t):""});var c=o.compile(['<div class="otp-leg">','<div class="otp-legHeader">','<span style="float:right;">{{formatDuration duration}}</span><b><div class="otp-legMode-icon otp-legMode-icon-{{ mode }}"></div></b> to {{to.name}}',"</div>",'<div class="otp-legBody">',"</div>","</div>"].join("\n")),p=o.compile(['<div class="otp-leg">','<div class="otp-legHeader">','<b><div class="otp-legMode-icon otp-legMode-icon-{{ mode }}"></div> {{routeShortName}}</b> {{routeLongName}} to {{to.name}}',"</div>",'<div class="otp-legBody">','<div class="otp-transitLeg-leftCol">{{formatTime startTime}}</div>','<div class="otp-transitLeg-endpointDesc otp-from"><b>Depart</b>: {{from.name}}</div>','<div class="otp-transitLeg-endpointDescSub">Stop #{{from.stopId.id}}</div>','<div class="otp-transitLeg-buffer"></div>','<div class="otp-transitLeg-elapsedDesc"><i>Time in transit: {{formatDuration duration}}</i></div>','<div class="otp-transitLeg-buffer"></div>','<div class="otp-transitLeg-leftCol">{{formatTime endTime}}</div>','<div class="otp-transitLeg-endpointDesc otp-to"><b>Arrive</b>: {{to.name}}</div>',"</div>","</div>"].join("\n")),d=o.compile(['<div class="otp-leg">','<div class="otp-legHeader">','<span style="float:right;">{{formatDuration duration}}</span><b><div class="otp-legMode-icon otp-legMode-icon-{{ mode }}"></div></b> to {{to.name}}',"</div>","</div>"].join("\n")),f=r.View.extend({events:{"click .otp-legHeader":"headerClicked","mouseenter .otp-legHeader":"headerMouseenter","mouseleave .otp-legHeader":"headerMouseleave","click .otp-from":"fromClicked","click .otp-to":"toClicked"},render:function(){this.model.isWalk()||this.model.isBicycle()||this.model.isCar()?(this.$el.html(c(this.model.attributes)),i.each(this.model.get("steps").models,this.processStep,this)):this.model.isTransit()?this.$el.html(p(this.model.attributes)):this.$el.html(d(this.model.attributes)),this.model.isTransit()||this.$el.find(".otp-legBody").hide()},processStep:function(t,e){var i=new g({model:t,index:e});i.render(),this.$el.find(".otp-legBody").append(i.el)},headerClicked:function(){var t=this.$el.find(".otp-legBody");t.is(":visible")?t.slideUp("fast"):t.slideDown("fast")},headerMouseenter:function(){this.model.trigger("mouseenter")},headerMouseleave:function(){this.model.trigger("mouseleave")},fromClicked:function(){this.model.trigger("fromclick")},toClicked:function(){this.model.trigger("toclick")}});e.exports.OtpLegNarrativeView=f,o.registerHelper("ordinal",function(t){if(t>10&&14>t)return t+"th";switch(t%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"});var m=o.compile(['<div class="otp-legStep-row">','<div class="otp-legStep-icon otp-legStep-icon-{{relativeDirection}}"></div>','<div class="otp-legStep-dist">','<span style="font-weight:bold; font-size: 1.2em;">{{distanceValue}}</span><br>{{distanceUnit}}',"</div>",'<div class="otp-legStep-text">',"{{#if isRoundabout}}","Take roundabout {{relativeDirection}} to {{ordinal exit}} exit on {{streetName}}","{{else}}","{{#if isFirst}}","Start on <b>{{streetName}}</b> heading {{absoluteDirection}}","{{else}}","{{#if stayOn}}","<b>{{relativeDirection}}</b> to continue on <b>{{streetName}}</b>","{{else}}","<b>{{relativeDirection}}</b> on to <b>{{streetName}}</b>","{{/if}}","{{/if}}","{{/if}}","</div>",'<div style="clear:both;"></div>',"</div>"].join("\n")),g=r.View.extend({events:{"click .otp-legStep-row":"rowClicked","mouseenter .otp-legStep-row":"rowMouseenter","mouseleave .otp-legStep-row":"rowMouseleave"},render:function(){var t=i.clone(this.model.attributes),e=this.model.get("relativeDirection");t.isFirst=0===this.options.index,("CIRCLE_COUNTERCLOCKWISE"===e||"CIRCLE_CLOCKWISE"===e)&&(t.isRoundabout=!0,t.roundaboutDirection="CIRCLE_CLOCKWISE"===e?"clockwise":"counterclockwise");var n=OTP.utils.distanceString(this.model.get("distance"));t.distanceValue=n.split(" ")[0],t.distanceUnit=n.split(" ")[1],this.$el.html(m(t))},rowClicked:function(){this.model.trigger("click")},rowMouseenter:function(){this.model.trigger("mouseenter")},rowMouseleave:function(){this.model.trigger("mouseleave")}});e.exports.OtpStepNarrativeView=g},{"../lib/backbone":14,handlebars:18,"jquery-browserify":16,underscore:15}],8:[function(t,e){var i=t("underscore"),n=t("jquery-browserify"),r=t("../lib/backbone"),o=t("handlebars");o.compile(['<div class="otp-legBubble-icon-topRow-{{orientation}}">','<div class="otp-legBubble-arrow-right" style="float: left; margin-left:4px;"></div>','<div style="width: 16px; height: 16px; margin-left: 12px;">','<div class="otp-modeIcon-{{mode}}" style="margin: auto auto;"></div>','<div class="otp-routeShortName">{{routeShortName}}</div>',"</div>","</div>",'{{{formatTime from.departure format="h:mm"}}}'].join("\n")),e.exports.OtpItineraryMapView=r.View.extend({initialize:function(){this.attachedToMap=!1,this.pathLayer=new L.LayerGroup,this.pathMarkerLayer=new L.LayerGroup,this.highlightLayer=new L.LayerGroup,this.listenTo(this.model,"activate",function(){this.preview=!1,this.render()}),this.listenTo(this.model,"deactivate",this.clearLayers),this.listenTo(this.model,"mouseenter",function(){this.preview=!0,this.render()}),this.listenTo(this.model,"mouseleave",this.clearLayers);for(var t=0;this.model.get("legs").length>t;t++){var e=this.model.get("legs").at(t);this.listenTo(e,"mouseenter",i.bind(function(){this.view.highlightLeg=this.leg,this.view.render()},{view:this,leg:e})),this.listenTo(e,"mouseleave",i.bind(function(){this.view.highlightLeg=null,this.view.render()},{view:this,leg:e})),this.listenTo(e,"fromclick",i.bind(function(){this.view.options.map.panTo([this.leg.get("from").lat,this.leg.get("from").lon])},{view:this,leg:e})),this.listenTo(e,"toclick",i.bind(function(){this.view.options.map.panTo([this.leg.get("to").lat,this.leg.get("to").lon])},{view:this,leg:e}));var n=e.get("steps");if(n)for(var r=0;n.length>r;r++){var o=n.at(r);this.listenTo(o,"click",i.bind(function(){this.view.options.map.panTo([this.step.get("lat"),this.step.get("lon")])},{view:this,step:o})),this.listenTo(o,"mouseenter",i.bind(function(){},{view:this,step:o})),this.listenTo(o,"mouseleave",i.bind(function(){this.view.options.map.closePopup()},{view:this,step:o}))}}},attachToMap:function(){this.options.map.addLayer(this.highlightLayer),this.options.map.addLayer(this.pathLayer),this.options.map.addLayer(this.pathMarkerLayer),this.attachedToMap=!0},detachFromMap:function(){this.options.map.removeLayer(this.highlightLayer),this.options.map.removeLayer(this.pathLayer),this.options.map.removeLayer(this.pathMarkerLayer),this.attachedToMap=!1},render:function(){this.attachedToMap||this.attachToMap(),this.clearLayers();for(var t=new L.LatLngBounds,e=0;this.model.get("legs").length>e;e++){var i=this.model.get("legs").at(e),n=OTP.utils.decodePolyline(i.get("legGeometry").points),r=8;if(this.highlightLeg===i){var o=new L.Polyline(n);o.setStyle({color:"#ffff00",weight:2*r,opacity:this.preview?.75:.75}),this.highlightLayer.addLayer(o)}var s=new L.Polyline(n);if(s.setStyle({color:i.getMapColor(),weight:r,opacity:this.preview?.75:.75}),this.pathLayer.addLayer(s),s.leg=i,t.extend(s.getBounds()),"WALK"==i.get("mode")||"BICYCLE"==i.get("mode")){var a='<img src="../src/images/mode/'+i.get("mode").toLowerCase()+'.png"/> <img src="../src/images/mode/arrow_right.png"/> '+i.get("to").name;a+="<br/>";var l=i.get("duration")/1e3/60;a+=Math.round(l)+" mins ";var h=OTP.utils.distanceString(i.get("distance"));a+=h,s.bindLabel(a);for(var u in i.get("steps").models)this.pathMarkerLayer.addLayer(this.getStepBubbleMarker(i,i.get("steps").models[u]))}else if("BUS"==i.get("mode")){var a='<img src="../src/images/mode/bus.png"/> ';i.get("routeShortName")&&(a+=i.get("routeShortName")),i.get("routeLongName")&&(""!=a&&(a+=" "),a+=i.get("routeLongName")+"<br/> "),a+=' <img src="../src/images/mode/arrow_right.png"/> '+i.get("to").name;var l=i.get("duration")/1e3/60;a+=" ("+Math.round(l)+" mins)",s.bindLabel(a)}var c=this.getLegFromBubbleMarker(i,this.highlightLeg===i);this.pathMarkerLayer.addLayer(c)}this.options.map.fitBounds(t)},getStepBubbleMarker:function(t,e){var i=new L.CircleMarker([e.get("lat"),e.get("lon")],{color:"#666",stroke:3,radius:5,fillColor:"#aaa",opacity:1,fillOpacity:1});if(e.get("relativeDirection")){var n='<span class="otp-legStepLabel-icon otp-legStep-icon-'+e.get("relativeDirection")+'"></span>'+' <img src="../src/images/mode/'+t.get("mode").toLowerCase()+'.png"/> '+e.get("streetName");n+=" (";var r=OTP.utils.distanceString(e.get("distance"));n+=r+" )",i.bindLabel(n)}return i},getLegFromBubbleMarker:function(t){var e='<img src="../src/images/mode/arrow_right.png"/> <img src="../src/images/mode/'+t.get("mode").toLowerCase()+'.png"/> ';t.get("routeShortName")&&(e+=t.get("routeShortName")),t.get("routeLongName")&&(""!=e&&(e+=" "),e+=t.get("routeLongName")),e+=" "+OTP.utils.formatTime(t.get("startTime"))+" ";var i=new L.CircleMarker([t.get("from").lat,t.get("from").lon],{color:"#000",stroke:10,radius:5,fillColor:"#fff",opacity:1,fillOpacity:1});return i.bindLabel(e),i},getLegBubbleAnchor:function(t){return"nw"===t?[32,44]:"ne"===t?[0,44]:"sw"===t?[32,0]:"se"===t?[0,0]:void 0},clearLayers:function(){this.pathLayer.clearLayers(),this.pathMarkerLayer.clearLayers(),this.highlightLayer.clearLayers()}}),e.exports.OtpRequestMapView=r.View.extend({initialize:function(){i.bindAll(this,"markerMove","mapClick"),this.model.on("change",this.render,this);var t=this;this.options.map.on("click",function(e){t.mapClick(e.latlng)}),this.attachedToMap=!1,this.markerLayer=new L.LayerGroup},attachToMap:function(){this.options.map.addLayer(this.markerLayer),this.attachedToMap=!0},detachFromMap:function(){this.options.map.removeLayer(this.markerLayer),this.attachedToMap=!1},render:function(){this.attachedToMap||this.attachToMap(),this.clearLayers(),this.model.getFromLatLng()&&(this.startMarker=new L.Marker(this.model.getFromLatLng(),{icon:new L.DivIcon({className:"otp-startFlagIcon",iconSize:null,iconAnchor:null}),draggable:!0}),this.startMarker.bindLabel("<strong>Start</strong>"),this.startMarker.on("dragend",n.proxy(function(){this.markerMove(this.startMarker.getLatLng(),null)},this)),this.markerLayer.addLayer(this.startMarker)),this.model.getToLatLng()&&(this.endMarker=new L.Marker(this.model.getToLatLng(),{icon:new L.DivIcon({className:"otp-endFlagIcon",iconSize:null,iconAnchor:null}),draggable:!0}),this.endMarker.bindLabel("<strong>End</strong>"),this.endMarker.on("dragend",n.proxy(function(){this.markerMove(null,this.endMarker.getLatLng())},this)),this.markerLayer.addLayer(this.endMarker))},mapClick:function(t){this.model.attributes.fromPlace?this.model.attributes.toPlace||this.model.set({toPlace:t.lat+","+t.lng}):this.model.set({fromPlace:t.lat+","+t.lng})},markerMove:function(t,e){t&&this.model.set({fromPlace:t.lat+","+t.lng}),e&&this.model.set({toPlace:e.lat+","+e.lng})},clearLayers:function(){this.markerLayer.clearLayers()}}),e.exports.OtpStopsRequestMapView=r.View.extend({initialize:function(){i.bindAll(this,"mapViewChanged"),this.options.minimumZoom||(this.options.minimumZoom=15),this.options.map.on("viewreset dragend",this.mapViewChanged)},mapViewChanged:function(){if(!(this.options.map.getZoom()<this.options.minimumZoom)){var t={leftUpLat:this.options.map.getBounds().getNorth(),leftUpLon:this.options.map.getBounds().getWest(),rightDownLat:this.options.map.getBounds().getSouth(),rightDownLon:this.options.map.getBounds().getEast()};this.model.set(t)}}}),e.exports.OtpStopsResponseMapView=r.View.extend({initialize:function(){i.bindAll(this,"mapViewChanged"),this.markerLayer=new L.LayerGroup,this.options.map.addLayer(this.markerLayer),this.options.map.on("viewreset dragend",this.mapViewChanged)},render:function(){this.markerLayer.clearLayers(),i.each(this.model.get("stops").models,function(t){var e=new L.CircleMarker([t.get("stopLat"),t.get("stopLon")],{color:"#666",stroke:2,radius:4,fillColor:"#eee",opacity:1,fillOpacity:1});e.bindLabel(t.get("stopName")),this.markerLayer.addLayer(e)},this)},newResponse:function(t){this.model=t,this.render()},mapViewChanged:function(){this.markerLayer.clearLayers()}})},{"../lib/backbone":14,handlebars:18,"jquery-browserify":16,underscore:15}],9:[function(t,e){var i=t("underscore"),n=t("jquery-browserify"),r=t("../lib/backbone"),o=t("raphael"),s=function(t){return 3.28084*t.second},a=r.View.extend({initialize:function(){i.bindAll(this,"refresh","mousemove","mouseleave","click"),this.refresh(),this.$el.resize(this.refresh),this.listenTo(this.model,"activate",this.render)},render:function(){this.$el.empty(),this.$el.append(this._graph)},refresh:function(){this.$el.css({width:"100%",height:"100%"});var t=this.$el.width(),e=this.$el.height();if(0!==t&&0!==e&&(t!==this._renderedW||e!==this._renderedH)){var r=this.model.get("legs"),a=100,l=30,h=e,u=t-l;this._graph=n("<div>"),this.options.map&&this._graph.mousemove(this.mousemove).mouseleave(this.mouseleave).click(this.click);var c=o(this._graph[0],t,e),p=0,d=999999,f=-999999;i.each(r.models,function(t){(t.isWalk()||t.isBicycle())&&(p+=t.get("distance"),i.each(t.get("steps").models,function(t){i.each(t.get("elevation"),function(t){d=Math.min(d,s(t)),f=Math.max(f,s(t))},this)},this))},this),d=a*Math.floor(d/a),f=a*Math.ceil(f/a);for(var m=d;f>=m;m+=a){var g=h-(m-d)/(f-d)*h;m>d&&f>m&&c.rect(0,g,t,1).attr({fill:"#bbb",stroke:null}),f>m&&(g-=15),n("<div>").html(m+"'").css({position:"absolute",top:g,left:0,width:25,"text-align":"right"}).appendTo(this._graph[0])}var v=0,y=0;this._legXCoords=[l],this._legLatLngs=[],this._legDistances=[],i.each(r.models,function(t){if(t.isWalk()||t.isBicycle()){var e=t.get("distance"),n=0,r=[],o=OTP.utils.decodePolyline(t.get("legGeometry").points);this._legLatLngs.push(o);for(var a=0,m=0;o.length-1>m;m++){var g=o[m],_=o[m+1];a+=Math.sqrt(Math.pow(_.lat-g.lat,2)+Math.pow(_.lng-g.lng,2))}if(this._legDistances.push(a),i.each(t.get("steps").models,function(t){var e,o=t.get("distance");if(i.isArray(t.get("elevation")))e=t.get("elevation");else{var a=i([]);e=i.reduce(t.get("elevation").split(","),function(t,e){if(t.last()&&1==t.last().size()){var n=t.last();n.push(e),t[t.length]=n}else t.push(i([e]));return t},a)}e.sort(function(t,e){return t.first<e.first?-1:t.first>e.first?1:0}),i.each(e,function(t,i){var a=t.first,c=s(t);if(a>o){if(!(i>0))return;var m=e[i-1],g=a-m.first,y=c-s(m),_=(o-m.first)/g;a=o,c=s(m)+_*y}var x=l+(v+(n+a))/p*u,b=(1-(c-d)/(f-d))*h;r.push([x,b])},this),n+=t.get("distance")},this),r.length>0){var x="";i.each(r,function(t,e){x+=0===e?"M"+t[0]+" "+t[1]:" L"+t[0]+" "+t[1]});var b=x+" L"+r[r.length-1][0]+" "+h;b+=" L"+r[0][0]+" "+h,w=c.path(b),w.attr({fill:"#aaa",stroke:null,opacity:.5});var w=c.path(x);w.attr({stroke:"#888","stroke-width":3})}v+=e;var L=v/p;if(1>L){var k=l+Math.round(L*u);c.rect(k,0,1,h).attr({fill:"#aaa",stroke:null}),this._legXCoords.push(k)}y=L}},this),this._legXCoords.push(l+u),this._renderedH=e,this._renderedW=t,this.options.planView.model.get("itineraries").activeItinerary===this.model&&this.render()}},mousemove:function(t){if(this._legXCoords&&this.options.map){x=void 0===t.offsetX?t.pageX-this._graph.offset().left:t.offsetX;for(var e=0;this._legXCoords.length-1>e;e++)if(x>=this._legXCoords[e]&&this._legXCoords[e+1]>x){this._xCursor?this._xCursor.css({left:x}):this._xCursor=n("<div/>").css({position:"absolute",left:x,top:0,height:this._graph.height(),width:1,background:"black"}).appendTo(this._graph);var i=(x-this._legXCoords[e])/(this._legXCoords[e+1]-this._legXCoords[e]),r=i*this._legDistances[e],o=this.pointAlongPath(this._legLatLngs[e],r);this._marker?this._marker.setLatLng(o):this._marker=new L.Marker(o,{icon:new L.DivIcon({className:"otp-crosshairIcon",iconSize:null,iconAnchor:null})}).addTo(this.options.map),this._lastLatLng=o}}},mouseleave:function(){this._xCursor&&(this._xCursor.remove(),this._xCursor=null),this._marker&&this.options.map&&(this.options.map.removeLayer(this._marker),this._marker=this._lastLatLng=null)},click:function(){this._lastLatLng&&this.options.map&&this.options.map.panTo(this._lastLatLng)},pointAlongPath:function(t,e){if(0>=e)return t[0];for(var i=0;t.length-1>i;i++){var n=t[i],r=t[i+1],o=Math.sqrt(Math.pow(r.lat-n.lat,2)+Math.pow(r.lng-n.lng,2));if(o>=e){var s=t[i].lat+e/o*(t[i+1].lat-t[i].lat),a=t[i].lng+e/o*(t[i+1].lng-t[i].lng);return new L.LatLng(s,a)}e-=o}return t[t.length-1]}});e.exports.OtpItineraryTopoView=a;var l=L.Control.extend({options:{collapsed:!0,position:"bottomright",autoZIndex:!0},initialize:function(t){L.setOptions(this,t)},onAdd:function(t){this._map=t;var e="leaflet-control-topo",i=this._container=L.DomUtil.create("div",e);L.DomUtil.addClass(this._container,"leaflet-control-topo-collapsed"),this._graphContainer=n("<div>").addClass("leaflet-control-topo-graph").appendTo(this._container),this._graphDiv=n("<div>").appendTo(this._graphContainer);var r=this._layersLink=L.DomUtil.create("div",e+"-toggle",i);return L.DomEvent.on(r,"click",this._toggle,this),this._container},getGraphElement:function(){return this._graphDiv},_toggle:function(){this._expanded?this._collapse():this._expand()},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-topo-expanded"),n(this._container).width(.8*n(this._map._container).width()),this._graphDiv.trigger(n.Event("resize")),this._expanded=!0},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-topo-expanded",""),n(this._container).width("36px"),this._expanded=!1}});e.exports.LeafletTopoGraphControl=l},{"../lib/backbone":14,"jquery-browserify":16,raphael:19,underscore:15}],10:[function(t,e){t("underscore"),t("jquery-browserify");var i=t("../lib/backbone"),n=t("raphael"),r=i.View.extend({cursor_size:19,barWidth:0,tri_size:0,trianglequickFactor:null,triangleflatFactor:null,trianglesafeFactor:null,quickFactor:.333,flatFactor:.333,safeFactor:.334,onChanged:null,quickBar:null,flatBar:null,safeBar:null,quickLabel:null,flatLabel:null,safeLabel:null,cursorVert:null,cursorHoriz:null,cursor:null,quickName:"Quick",flatName:"Flat",safeName:"Bike Friendly",initialize:function(){this.render()},render:function(){var t=this,e=this.$el.width(),i=this.$el.height(),r=1*2*(i-this.cursor_size)/Math.sqrt(3);this.tri_side=r;var o=this.cursor_size/2,s=n(this.$el.attr("id"),e,i);s.rect(0,0,e,i).attr({stroke:"none",fill:"none"});var a=s.path(["M",o+r/2,o,"L",o+r,i-o,"L",o,i-o,"z"]);a.attr({fill:"#fff",stroke:"#aaa"});var l="18px",h="#bbe070",u="#77b300",c="B",p="#8cc4ff",d="#61a7f2",f="F",m="#ffb2b2",g="#f27979",v="Q",y=s.text(o+r/2,o+24,v);y.attr({fill:g,"font-size":l,"font-weight":"bold"});var _=s.text(o+22,i-o-14,f);_.attr({fill:d,"font-size":l,"font-weight":"bold"});var x=s.text(o+r-22,i-o-14,c);x.attr({fill:u,"font-size":l,"font-weight":"bold"});var b=2*o+r;this.barWidth=e-3*o-r;var w=this.barWidth,L=(i-4*o)/3;this.quickBar=s.rect(b,o,.333*w,L),this.quickBar.attr({fill:m,stroke:"none"}),this.flatBar=s.rect(b,2*o+L,.333*w,L),this.flatBar.attr({fill:p,stroke:"none"}),this.safeBar=s.rect(b,3*o+2*L,.333*w,L),this.safeBar.attr({fill:h,stroke:"none"}),this.quickLabel=s.text(b+o,o+L/2,this.quickName+": 33%"),this.quickLabel.attr({"font-size":"13px","text-anchor":"start",opacity:1}),this.flatLabel=s.text(b+o,2*o+L+L/2,this.flatName+": 33%"),this.flatLabel.attr({"font-size":"13px","text-anchor":"start",opacity:1}),this.safeLabel=s.text(b+o,3*o+2*L+L/2,this.safeName+": 33%"),this.safeLabel.attr({"font-size":"13px","text-anchor":"start",opacity:1});var k=o+r/2,T=i-o-1/Math.sqrt(3)*(r/2);this.cursorVert=s.rect(k-.5,T-this.cursor_size/2-2,1,this.cursor_size+4).attr({fill:"rgb(0,0,0)",stroke:"none"}),this.cursorHoriz=s.rect(k-this.cursor_size/2-2,T-.5,this.cursor_size+4,1).attr({fill:"rgb(0,0,0)",stroke:"none"}),this.cursor=s.circle(k,T,this.cursor_size/2).attr({fill:"rgb(128,128,128)",stroke:"none",opacity:.25});var P,S,C,t=this,E=250,M=function(){this.ox=this.attr("cx"),this.oy=this.attr("cy"),t.quickBar.animate({opacity:.25},E),t.flatBar.animateWith(t.quickBar,{opacity:.25},E),t.safeBar.animateWith(t.quickBar,{opacity:.25},E)},D=function(e,n){var s=this.ox+e,a=this.oy+n;a>i-o&&(a=i-o),o>a&&(a=o);var l=(a-o)/(i-2*o)*r/2;o+r/2-l>s&&(s=o+r/2-l),s>o+r/2+l&&(s=o+r/2+l),P=(i-2*o-(a-o))/(i-2*o),S=t.distToSegment(s,a,o+r/2,o,o+r,i-o)/(i-2*o),C=1-P-S,t.quickBar.attr({width:w*P}),t.flatBar.attr({width:w*S}),t.safeBar.attr({width:w*C}),t.quickLabel.attr("text",t.quickName+": "+Math.round(100*P)+"%"),t.flatLabel.attr("text",t.flatName+": "+Math.round(100*S)+"%"),t.safeLabel.attr("text",t.safeName+": "+Math.round(100*C)+"%"),t.moveCursor(s,a)},A=function(){t.quickBar.animate({opacity:1},E),t.flatBar.animateWith(t.quickBar,{opacity:1},E),t.safeBar.animateWith(t.quickBar,{opacity:1},E),.005>S&&(S=0),t.quickFactor=P,t.flatFactor=S,t.safeFactor=C,t.updateModel(),t.onChanged&&"function"==typeof t.onChanged&&t.onChanged()};this.cursor.drag(D,M,A),this.cursor.mouseover(function(){this.animate({opacity:.5},E)}),this.cursor.mouseout(function(){this.animate({opacity:.25},E)})},updateModel:function(){this.model.set({triangleSafetyFactor:this.safeFactor,triangleSlopeFactor:this.quickFactor,triangleTimeFactor:this.flatFactor,optimize:"TRIANGLE"})},moveCursor:function(t,e){this.cursor.attr({cx:t,cy:e}),this.cursorVert.attr({x:t-.5,y:e-this.cursor_size/2-2}),this.cursorHoriz.attr({x:t-this.cursor_size/2-2,y:e-.5})},enable:function(){null==this.container.findById("trip-bike-triangle")&&this.container.add(this.panel),this.panel.show(),this.container.doLayout()},disable:function(){this.panel.hidden||this.panel.hide()},distance:function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},distToSegment:function(t,e,i,n,r,o){var s,a,l;return a=r-i,l=o-n,s=((t-i)*a+(e-n)*l)/(a*a+l*l),this.distance(t,e,(1-s)*i+s*r,(1-s)*n+s*o)},setValues:function(t,e,i){this.quickFactor=t,this.flatFactor=e,this.safeFactor=i,this.quickBar.attr({width:this.barWidth*t}),this.flatBar.attr({width:this.barWidth*e}),this.safeBar.attr({width:this.barWidth*i}),this.quickLabel.attr("text",this.quickName+": "+Math.round(100*t)+"%"),this.flatLabel.attr("text",this.flatName+": "+Math.round(100*e)+"%"),this.safeLabel.attr("text",this.safeName+": "+Math.round(100*i)+"%");var n=this.cursor_size/2,r=n+this.tri_side/2,o=n+this.tri_side/Math.sqrt(3),s=0,a=-this.tri_side/Math.sqrt(3),l=-this.tri_side/2,h=this.tri_side/2/Math.sqrt(3),u=this.tri_side/2,c=this.tri_side/2/Math.sqrt(3);
r=r+t*s+e*l+i*u,o=o+t*a+e*h+i*c,this.moveCursor(r,o)}});e.exports.OtpBikeTrianglePanel=r},{"../lib/backbone":14,"jquery-browserify":16,raphael:19,underscore:15}],11:[function(t,e){var i=t("underscore"),n=t("jquery-browserify"),r=t("../lib/backbone"),o=t("handlebars"),s=o.compile(['<div class="row">','<select id="fromPlace" class="apiParam col-md-12" placeholder="Start Address"></select>',"</div>",'<div class="row">','<select id="toPlace" class="apiParam col-md-12" placeholder="End Address"></select>',"</div>",'<div id="hidableSettings">','<div class="row">','<div class="col-md-12">','<select id="arriveBy" class="apiParam form-control" placeholder="Arrive"><option value="true">Arrive at</option><option value="false" selected>Depart by</option></select>',"</div>","</div>",'<div class="row">','<div class="input-group date col-md-12" id="time">','<input type="text" class="form-control apiParam" data-format="HH:mm PP"/>','<span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>',"</div>","</div>",'<div class="row">','<div class="input-group date col-md-12" id="date">','<input type="text" class="form-control apiParam"/>','<span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span>',"</div>","</div>",'<div class="row">','<div class="col-sm-4">','<label for="mode">Travel by: </label>',"</div>",'<div class="col-sm-8">','<select id="mode" class="apiParam form-control" placeholder="Arrive">','<option value="TRANSIT,WALK">Transit</option>','<option value="WALK">Walk only</option>','<option value="BICYCLE">Bike only</option>','<option value="TRANSIT,BICYCLE">Transit & Bike</option>',"</select>","</div>","</div>",'<div class="row optimizeControl">','<div class="col-sm-4">','<label for="type">Find: </label>',"</div>",'<div class="col-sm-8">','<select id="optimize" class="apiParam form-control" placeholder="Arrive">','<option value="QUICK" selected>Quickest trip</option>','<option value="TRANSFERS">Fewest transfers</option>',"</select>","</div>","</div>",'<div class="maxWalkControl row">','<div class="col-sm-6">','<label for="maxWalkDist">Maximum walk:</label>',"</div>",'<div class="col-sm-6">','<select id="maxWalkDistance" class="apiParam form-control" placeholder="Arrive">','<option value="402">1/4 mile</option>','<option value="804">1/2 mile</option>','<option value="1223">3/4 mile</option>','<option value="1609" selected>1 mile</option>','<option value="3218">2 miles</option>','<option value="4828">3 miles</option>',"</select>","</div>","</div>",'<div class="maxBikeControl row">','<div class="col-sm-6">','<label class="control-label" for="maxWalkDist">Maximum bike: </label>',"</div>",'<div class="col-sm-6">','<select id="maxBikeDistance" class="apiParam form-control" placeholder="Arrive">','<option value="804">1/2 mile</option>','<option value="1609">1 mile</option>','<option value="4026" selected>2.5 miles</option>','<option value="8047">5 miles</option>','<option value="16093">10 miles</option>',"</select>","</div>","</div>",'<div class="row bikeTriangleControl">','<div class=" col-md-offset-2 col-lg-offset-4">','<div id="bikeTriangle" style="height: 110px; cursor: pointer;"></div>',"</div>","</div>","</div>",'<div class="row" id="hideSettings">','<div class="col-sm-12">','<button class="btn toggleSettings btn-default col-sm-12">Hide Settings <span class="glyphicon glyphicon-chevron-up"></span></button>',"</div>","</div>",'<div class="row" id="showSettings">','<div class="col-sm-12">','<button class="btn toggleSettings btn-default col-sm-12">Show Settings <span class="glyphicon glyphicon-chevron-down"></span></button>',"</div>","</div>"].join("\n")),a=o.compile(["<div>",'<span class="title">{{address}}</span>','{{#if city}}<span class="description">{{city}}, {{state}}</span>{{/if}}',"</div>"].join("\n")),l=r.View.extend({events:{"change .apiParam":"changeForm","change #mode":"updateModeControls","click .toggleSettings":"toggleSettings"},initialize:function(){i.bindAll(this,"changeForm");var t=this;this.updatingForm=!1,this.model.on("change",function(e){var r=OTP.config.reverseGeocode;if(i.has(e.changed,"fromPlace")&&e.attributes.fromPlace&&t.selectFrom){var o=t.selectFrom[0].selectize;r?n.ajax({url:OTP.config.simplecoderApi+"/r/"+encodeURIComponent(e.attributes.fromPlace),type:"GET",error:function(){t.updatingForm=!0,o.clearOptions(),o.addOption({address:"From marker location",latlon:e.attributes.fromPlace,lat:"",lon:"",city:"",state:""}),o.setValue(e.attributes.fromPlace),t.updatingForm=!1},success:function(e){t.updatingForm=!0,e.address="From "+e.address,e.latlon=e.lat+","+e.lon,o.clearOptions(),o.addOption(e),o.setValue(e.latlon),t.updatingForm=!1}}):(t.updatingForm=!0,o.clearOptions(),o.addOption({address:"From marker location",latlon:e.attributes.fromPlace,lat:"",lon:"",city:"",state:""}),o.setValue(e.attributes.fromPlace),t.updatingForm=!1)}if(i.has(e.changed,"toPlace")&&e.attributes.toPlace&&t.selectTo){var o=t.selectTo[0].selectize;r?n.ajax({url:OTP.config.simplecoderApi+"/r/"+encodeURIComponent(e.attributes.toPlace),type:"GET",error:function(){t.updatingForm=!0,o.clearOptions(),o.addOption({address:"To marker location",latlon:e.attributes.toPlace,lat:"",lon:"",city:"",state:""}),o.setValue(e.attributes.toPlace),t.updatingForm=!1},success:function(e){t.updatingForm=!0,e.address="To "+e.address,e.latlon=e.lat+","+e.lon,o.clearOptions(),o.addOption(e),o.setValue(e.latlon),t.updatingForm=!1}}):(t.updatingForm=!0,o.clearOptions(),o.addOption({address:"To marker location",latlon:e.attributes.toPlace,lat:"",lon:"",city:"",state:""}),o.setValue(e.attributes.toPlace),t.updatingForm=!1)}})},render:function(){var t=this,e=s();this.$el.html(e),this.$("#showSettings").hide(),t.updatingForm=!0,this.$("#date").datetimepicker({pickTime:!1}),this.datepicker=this.$("#date").data("datetimepicker"),this.datepicker.setLocalDate(new Date),this.$("#date").on("changeDate",this.changeForm),this.$("#time").datetimepicker({pick12HourFormat:!0,pickSeconds:!1,pickDate:!1}),this.timepicker=this.$("#time").data("datetimepicker"),this.timepicker.setLocalDate(new Date),this.$("#time").on("changeDate",this.changeForm),this.bikeTriangle=new OTP.bike_views.OtpBikeTrianglePanel({model:this.model,el:this.$("#bikeTriangle")});var i=function(t,e,i){return t.length?(n.ajax({url:OTP.config.simplecoderApi+"/q/"+encodeURIComponent(t)+"/"+encodeURIComponent("Salem, OR"),type:"GET",error:function(){e()},success:function(t){i.clearOptions();var n=[];for(var r in t.slice(0,10))t[r].latlon=t[r].lat+","+t[r].lon,n.push(t[r]);e(n)}}),void 0):e()};this.selectFrom=n("#fromPlace").selectize({valueField:"latlon",labelField:"address",searchField:"address",plugins:["remove_button"],loadThrottle:1e3,create:!1,render:{option:function(t){return a(t)}},load:function(e,n){i(e,n,t.selectFrom[0].selectize)}}),this.selectTo=n("#toPlace").selectize({valueField:"latlon",labelField:"address",searchField:"address",plugins:["remove_button"],loadThrottle:1e3,create:!1,render:{option:function(t){return a(t)}},load:function(e,n){i(e,n,t.selectTo[0].selectize)}}),t.updatingForm=!1,this.changeForm(),this.updateModeControls()},changeForm:function(){if(!this.updatingForm){var t=-1!=n("#mode").val().indexOf("WALK")?n("#maxWalkDistance").val():n("#maxBikeDistance").val(),e={fromPlace:this.$("#fromPlace").val(),toPlace:this.$("#toPlace").val(),date:this.$("#date input").val(),time:this.$("#time input").val(),arriveBy:this.$("#arriveBy").val(),maxWalkDistance:t,optimize:this.$("#optimize").val(),mode:this.$("#mode").val()},i=n("#mode").val();-1!=i.indexOf("BICYCLE")?(e.triangleSafetyFactor=n("#").val(),e.triangleSlopeFactor=n("#").val(),e.triangleTimeFactor=n("#").val()):(this.model.unset("triangleSafetyFactor",{silent:!0}),this.model.unset("triangleSlopeFactor",{silent:!0}),this.model.unset("triangleTimeFactor",{silent:!0})),this.model.set(e)}},updateModeControls:function(){var t=n("#mode").val();-1!=t.indexOf("WALK")&&-1!=t.indexOf("TRANSIT")?this.$el.find(".maxWalkControl").show():this.$el.find(".maxWalkControl").hide(),-1!=t.indexOf("BICYCLE")&&-1!=t.indexOf("TRANSIT")?this.$el.find(".maxBikeControl").show():this.$el.find(".maxBikeControl").hide(),-1!=t.indexOf("TRANSIT")&&-1==t.indexOf("BICYCLE")?this.$el.find(".optimizeControl").show():this.$el.find(".optimizeControl").hide(),-1!=t.indexOf("BICYCLE")?this.$el.find(".bikeTriangleControl").show():this.$el.find(".bikeTriangleControl").hide()},toggleSettings:function(){n("#hidableSettings").is(":visible")?(n("#hidableSettings").slideUp("fast",function(){n("#itineraries").height(n(window).height()-(n("#request").height()+n("#messageWell").height()+80))}),n("#showSettings").show(),n("#hideSettings").hide()):(n("#hidableSettings").slideDown("fast",function(){n("#itineraries").height(n(window).height()-(n("#request").height()+n("#messageWell").height()+80))}),n("#showSettings").hide(),n("#hideSettings").show())}});e.exports.OtpRequestFormView=l},{"../lib/backbone":14,handlebars:18,"jquery-browserify":16,underscore:15}],15:[function(t,e,i){(function(){var t=this,n=t._,r={},o=Array.prototype,s=Object.prototype,a=Function.prototype,l=o.push,h=o.slice,u=o.concat,c=s.toString,p=s.hasOwnProperty,d=o.forEach,f=o.map,m=o.reduce,g=o.reduceRight,v=o.filter,y=o.every,_=o.some,x=o.indexOf,b=o.lastIndexOf,w=Array.isArray,L=Object.keys,k=a.bind,T=function(t){return t instanceof T?t:this instanceof T?(this._wrapped=t,void 0):new T(t)};i!==void 0?(e!==void 0&&e.exports&&(i=e.exports=T),i._=T):t._=T,T.VERSION="1.5.2";var P=T.each=T.forEach=function(t,e,i){if(null!=t)if(d&&t.forEach===d)t.forEach(e,i);else if(t.length===+t.length){for(var n=0,o=t.length;o>n;n++)if(e.call(i,t[n],n,t)===r)return}else for(var s=T.keys(t),n=0,o=s.length;o>n;n++)if(e.call(i,t[s[n]],s[n],t)===r)return};T.map=T.collect=function(t,e,i){var n=[];return null==t?n:f&&t.map===f?t.map(e,i):(P(t,function(t,r,o){n.push(e.call(i,t,r,o))}),n)};var S="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),m&&t.reduce===m)return n&&(e=T.bind(e,n)),r?t.reduce(e,i):t.reduce(e);if(P(t,function(t,o,s){r?i=e.call(n,i,t,o,s):(i=t,r=!0)}),!r)throw new TypeError(S);return i},T.reduceRight=T.foldr=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return n&&(e=T.bind(e,n)),r?t.reduceRight(e,i):t.reduceRight(e);var o=t.length;if(o!==+o){var s=T.keys(t);o=s.length}if(P(t,function(a,l,h){l=s?s[--o]:--o,r?i=e.call(n,i,t[l],l,h):(i=t[l],r=!0)}),!r)throw new TypeError(S);return i},T.find=T.detect=function(t,e,i){var n;return C(t,function(t,r,o){return e.call(i,t,r,o)?(n=t,!0):void 0}),n},T.filter=T.select=function(t,e,i){var n=[];return null==t?n:v&&t.filter===v?t.filter(e,i):(P(t,function(t,r,o){e.call(i,t,r,o)&&n.push(t)}),n)},T.reject=function(t,e,i){return T.filter(t,function(t,n,r){return!e.call(i,t,n,r)},i)},T.every=T.all=function(t,e,i){e||(e=T.identity);var n=!0;return null==t?n:y&&t.every===y?t.every(e,i):(P(t,function(t,o,s){return(n=n&&e.call(i,t,o,s))?void 0:r}),!!n)};var C=T.some=T.any=function(t,e,i){e||(e=T.identity);var n=!1;return null==t?n:_&&t.some===_?t.some(e,i):(P(t,function(t,o,s){return n||(n=e.call(i,t,o,s))?r:void 0}),!!n)};T.contains=T.include=function(t,e){return null==t?!1:x&&t.indexOf===x?-1!=t.indexOf(e):C(t,function(t){return t===e})},T.invoke=function(t,e){var i=h.call(arguments,2),n=T.isFunction(e);return T.map(t,function(t){return(n?e:t[e]).apply(t,i)})},T.pluck=function(t,e){return T.map(t,function(t){return t[e]})},T.where=function(t,e,i){return T.isEmpty(e)?i?void 0:[]:T[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},T.findWhere=function(t,e){return T.where(t,e,!0)},T.max=function(t,e,i){if(!e&&T.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&T.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return P(t,function(t,r,o){var s=e?e.call(i,t,r,o):t;s>n.computed&&(n={value:t,computed:s})}),n.value},T.min=function(t,e,i){if(!e&&T.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&T.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return P(t,function(t,r,o){var s=e?e.call(i,t,r,o):t;n.computed>s&&(n={value:t,computed:s})}),n.value},T.shuffle=function(t){var e,i=0,n=[];return P(t,function(t){e=T.random(i++),n[i-1]=n[e],n[e]=t}),n},T.sample=function(t,e,i){return 2>arguments.length||i?t[T.random(t.length-1)]:T.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return T.isFunction(t)?t:function(e){return e[t]}};T.sortBy=function(t,e,i){var n=E(e);return T.pluck(T.map(t,function(t,e,r){return{value:t,index:e,criteria:n.call(i,t,e,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,i,n){var r={},o=null==i?T.identity:E(i);return P(e,function(i,s){var a=o.call(n,i,s,e);t(r,a,i)}),r}};T.groupBy=M(function(t,e,i){(T.has(t,e)?t[e]:t[e]=[]).push(i)}),T.indexBy=M(function(t,e,i){t[e]=i}),T.countBy=M(function(t,e){T.has(t,e)?t[e]++:t[e]=1}),T.sortedIndex=function(t,e,i,n){i=null==i?T.identity:E(i);for(var r=i.call(n,e),o=0,s=t.length;s>o;){var a=o+s>>>1;r>i.call(n,t[a])?o=a+1:s=a}return o},T.toArray=function(t){return t?T.isArray(t)?h.call(t):t.length===+t.length?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:t.length===+t.length?t.length:T.keys(t).length},T.first=T.head=T.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:h.call(t,0,e)},T.initial=function(t,e,i){return h.call(t,0,t.length-(null==e||i?1:e))},T.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:h.call(t,Math.max(t.length-e,0))},T.rest=T.tail=T.drop=function(t,e,i){return h.call(t,null==e||i?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var D=function(t,e,i){return e&&T.every(t,T.isArray)?u.apply(i,t):(P(t,function(t){T.isArray(t)||T.isArguments(t)?e?l.apply(i,t):D(t,e,i):i.push(t)}),i)};T.flatten=function(t,e){return D(t,e,[])},T.without=function(t){return T.difference(t,h.call(arguments,1))},T.uniq=T.unique=function(t,e,i,n){T.isFunction(e)&&(n=i,i=e,e=!1);var r=i?T.map(t,i,n):t,o=[],s=[];return P(r,function(i,n){(e?n&&s[s.length-1]===i:T.contains(s,i))||(s.push(i),o.push(t[n]))}),o},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(t){var e=h.call(arguments,1);return T.filter(T.uniq(t),function(t){return T.every(e,function(e){return T.indexOf(e,t)>=0})})},T.difference=function(t){var e=u.apply(o,h.call(arguments,1));return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){for(var t=T.max(T.pluck(arguments,"length").concat(0)),e=Array(t),i=0;t>i;i++)e[i]=T.pluck(arguments,""+i);return e},T.object=function(t,e){if(null==t)return{};for(var i={},n=0,r=t.length;r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},T.indexOf=function(t,e,i){if(null==t)return-1;var n=0,r=t.length;if(i){if("number"!=typeof i)return n=T.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,r+i):i}if(x&&t.indexOf===x)return t.indexOf(e,i);for(;r>n;n++)if(t[n]===e)return n;return-1},T.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var r=n?i:t.length;r--;)if(t[r]===e)return r;return-1},T.range=function(t,e,i){1>=arguments.length&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=0,o=Array(n);n>r;)o[r++]=t,t+=i;return o};var A=function(){};T.bind=function(t,e){var i,n;if(k&&t.bind===k)return k.apply(t,h.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=h.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(h.call(arguments)));A.prototype=t.prototype;var r=new A;A.prototype=null;var o=t.apply(r,i.concat(h.call(arguments)));return Object(o)===o?o:r}},T.partial=function(t){var e=h.call(arguments,1);return function(){return t.apply(this,e.concat(h.call(arguments)))}},T.bindAll=function(t){var e=h.call(arguments,1);if(0===e.length)throw Error("bindAll must be passed function names");return P(e,function(e){t[e]=T.bind(t[e],t)}),t},T.memoize=function(t,e){var i={};return e||(e=T.identity),function(){var n=e.apply(this,arguments);return T.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},T.delay=function(t,e){var i=h.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},T.defer=function(t){return T.delay.apply(T,[t,1].concat(h.call(arguments,1)))},T.throttle=function(t,e,i){var n,r,o,s=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:new Date,s=null,o=t.apply(n,r)};return function(){var h=new Date;a||i.leading!==!1||(a=h);var u=e-(h-a);return n=this,r=arguments,0>=u?(clearTimeout(s),s=null,a=h,o=t.apply(n,r)):s||i.trailing===!1||(s=setTimeout(l,u)),o}},T.debounce=function(t,e,i){var n,r,o,s,a;return function(){o=this,r=arguments,s=new Date;var l=function(){var h=new Date-s;e>h?n=setTimeout(l,e-h):(n=null,i||(a=t.apply(o,r)))},h=i&&!n;return n||(n=setTimeout(l,e)),h&&(a=t.apply(o,r)),a}},T.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},T.wrap=function(t,e){return function(){var i=[t];return l.apply(i,arguments),e.apply(this,i)}},T.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},T.after=function(t,e){return function(){return 1>--t?e.apply(this,arguments):void 0}},T.keys=L||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)T.has(t,i)&&e.push(i);return e},T.values=function(t){for(var e=T.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=t[e[r]];return n},T.pairs=function(t){for(var e=T.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=[e[r],t[e[r]]];return n},T.invert=function(t){for(var e={},i=T.keys(t),n=0,r=i.length;r>n;n++)e[t[i[n]]]=i[n];return e},T.functions=T.methods=function(t){var e=[];for(var i in t)T.isFunction(t[i])&&e.push(i);return e.sort()},T.extend=function(t){return P(h.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},T.pick=function(t){var e={},i=u.apply(o,h.call(arguments,1));return P(i,function(i){i in t&&(e[i]=t[i])}),e},T.omit=function(t){var e={},i=u.apply(o,h.call(arguments,1));for(var n in t)T.contains(i,n)||(e[n]=t[n]);return e},T.defaults=function(t){return P(h.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t};var N=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var r=c.call(t);if(r!=c.call(e))return!1;switch(r){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=i.length;o--;)if(i[o]==t)return n[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(T.isFunction(s)&&s instanceof s&&T.isFunction(a)&&a instanceof a))return!1;i.push(t),n.push(e);var l=0,h=!0;if("[object Array]"==r){if(l=t.length,h=l==e.length)for(;l--&&(h=N(t[l],e[l],i,n)););}else{for(var u in t)if(T.has(t,u)&&(l++,!(h=T.has(e,u)&&N(t[u],e[u],i,n))))break;if(h){for(u in e)if(T.has(e,u)&&!l--)break;h=!l}}return i.pop(),n.pop(),h};T.isEqual=function(t,e){return N(t,e,[],[])},T.isEmpty=function(t){if(null==t)return!0;if(T.isArray(t)||T.isString(t))return 0===t.length;for(var e in t)if(T.has(t,e))return!1;return!0},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=w||function(t){return"[object Array]"==c.call(t)},T.isObject=function(t){return t===Object(t)},P(["Arguments","Function","String","Number","Date","RegExp"],function(t){T["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return!(!t||!T.has(t,"callee"))}),T.isFunction=function(t){return"function"==typeof t},T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!=+t},T.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return p.call(t,e)},T.noConflict=function(){return t._=n,this},T.identity=function(t){return t},T.times=function(t,e,i){for(var n=Array(Math.max(0,t)),r=0;t>r;r++)n[r]=e.call(i,r);return n},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};O.unescape=T.invert(O.escape);var B={escape:RegExp("["+T.keys(O.escape).join("")+"]","g"),unescape:RegExp("("+T.keys(O.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(t){T[t]=function(e){return null==e?"":(""+e).replace(B[t],function(e){return O[t][e]})}}),T.result=function(t,e){if(null==t)return void 0;var i=t[e];return T.isFunction(i)?i.call(t):i},T.mixin=function(t){P(T.functions(t),function(e){var i=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),U.call(this,i.apply(T,t))}})};var I=0;T.uniqueId=function(t){var e=++I+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(t,e,i){var n;i=T.defaults({},i,T.templateSettings);var r=RegExp([(i.escape||z).source,(i.interpolate||z).source,(i.evaluate||z).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,i,n,r,a){return s+=t.slice(o,a).replace(F,function(t){return"\\"+R[t]}),i&&(s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+e.length,e}),s+="';\n",i.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=Function(i.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return n(e,T);var l=function(t){return n.call(this,t,T)};return l.source="function("+(i.variable||"obj")+"){\n"+s+"}",l},T.chain=function(t){return T(t).chain()};var U=function(t){return this._chain?T(t).chain():t};T.mixin(T),P(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];T.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],U.call(this,i)}}),P(["concat","join","slice"],function(t){var e=o[t];T.prototype[t]=function(){return U.call(this,e.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],17:[function(t,e){(function(i){function n(t,e){return function(i){return u(t.call(this,i),e)}}function r(t,e){return function(i){return this.lang().ordinal(t.call(this,i),e)}}function o(){}function s(t){l(this,t)}function a(t){var e=t.years||t.year||t.y||0,i=t.months||t.month||t.M||0,n=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,s=t.minutes||t.minute||t.m||0,a=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=l+1e3*a+6e4*s+36e5*o,this._days=r+7*n,this._months=i+12*e,this._data={},this._bubble()}function l(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t){return 0>t?Math.ceil(t):Math.floor(t)}function u(t,e){for(var i=t+"";e>i.length;)i="0"+i;return i}function c(t,e,i,n){var r,o,s=e._milliseconds,a=e._days,l=e._months;s&&t._d.setTime(+t._d+s*i),(a||l)&&(r=t.minute(),o=t.hour()),a&&t.date(t.date()+a*i),l&&t.month(t.month()+l*i),s&&!n&&B.updateOffset(t),(a||l)&&(t.minute(r),t.hour(o))}function p(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){var i,n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(i=0;n>i;i++)~~t[i]!==~~e[i]&&o++;return o+r}function f(t){return t?se[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function m(t,e){return e.abbr=t,F[t]||(F[t]=new o),F[t].set(e),F[t]}function g(e){if(!e)return B.fn._lang;if(!F[e]&&U)try{t("./lang/"+e)}catch(i){return B.fn._lang}return F[e]}function v(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function y(t){var e,i,n=t.match(W);for(e=0,i=n.length;i>e;e++)n[e]=ue[n[e]]?ue[n[e]]:v(n[e]);return function(r){var o="";for(e=0;i>e;e++)o+=n[e]instanceof Function?n[e].call(r,t):n[e];return o}}function _(t,e){function i(e){return t.lang().longDateFormat(e)||e}for(var n=5;n--&&q.test(e);)e=e.replace(q,i);return ae[e]||(ae[e]=y(e)),ae[e](t)}function x(t,e){switch(t){case"DDDD":return Z;case"YYYY":return G;case"YYYYY":return Y;case"S":case"SS":case"SSS":case"DDD":return $;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return X;case"a":case"A":return g(e._l)._meridiemParse;case"X":return Q;case"Z":case"ZZ":return J;case"T":return K;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return RegExp(t.replace("\\",""))}}function b(t){var e=(J.exec(t)||[])[0],i=(e+"").match(ne)||["-",0,0],n=+(60*i[1])+~~i[2];return"+"===i[0]?-n:n}function w(t,e,i){var n,r=i._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":n=g(i._l).monthsParse(e),null!=n?r[1]=n:i._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":i._isPm=g(i._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=b(e)}null==e&&(i._isValid=!1)}function L(t){var e,i,n=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];n[3]+=~~((t._tzm||0)/60),n[4]+=~~((t._tzm||0)%60),i=new Date(0),t._useUTC?(i.setUTCFullYear(n[0],n[1],n[2]),i.setUTCHours(n[3],n[4],n[5],n[6])):(i.setFullYear(n[0],n[1],n[2]),i.setHours(n[3],n[4],n[5],n[6])),t._d=i}}function k(t){var e,i,n=t._f.match(W),r=t._i;for(t._a=[],e=0;n.length>e;e++)i=(x(n[e],t).exec(r)||[])[0],i&&(r=r.slice(r.indexOf(i)+i.length)),ue[n[e]]&&w(n[e],i,t);r&&(t._il=r),t._isPm&&12>t._a[3]&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),L(t)}function T(t){var e,i,n,r,o,a=99;for(r=0;t._f.length>r;r++)e=l({},t),e._f=t._f[r],k(e),i=new s(e),o=d(e._a,i.toArray()),i._il&&(o+=i._il.length),a>o&&(a=o,n=i);l(t,n)}function P(t){var e,i=t._i,n=te.exec(i);if(n){for(t._f="YYYY-MM-DD"+(n[2]||" "),e=0;4>e;e++)if(ie[e][1].exec(i)){t._f+=ie[e][0];break}J.exec(i)&&(t._f+=" Z"),k(t)}else t._d=new Date(i)}function S(t){var e=t._i,n=H.exec(e);e===i?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?P(t):p(e)?(t._a=e.slice(0),L(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}function C(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function E(t,e,i){var n=R(Math.abs(t)/1e3),r=R(n/60),o=R(r/60),s=R(o/24),a=R(s/365),l=45>n&&["s",n]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",R(s/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=i,C.apply({},l)}function M(t,e,i){var n,r=i-e,o=i-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),n=B(t).add("d",o),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function D(t){var e=t._i,i=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=g().preparse(e)),B.isMoment(e)?(t=l({},e),t._d=new Date(+e._d)):i?p(i)?T(t):k(t):S(t),new s(t))}function A(t,e){B.fn[t]=B.fn[t+"s"]=function(t){var i=this._isUTC?"UTC":"";return null!=t?(this._d["set"+i+e](t),B.updateOffset(this),this):this._d["get"+i+e]()}}function N(t){B.duration.fn[t]=function(){return this._data[t]}}function O(t,e){B.duration.fn["as"+t]=function(){return+this/e}}for(var B,I,z="2.1.0",R=Math.round,F={},U=e!==i&&e.exports,H=/^\/?Date\((\-?\d+)/i,j=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,W=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,$=/\d{1,3}/,Z=/\d{3}/,G=/\d{1,4}/,Y=/[+\-]?\d{1,6}/,X=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,J=/Z|[\+\-]\d\d:?\d\d/i,K=/T/i,Q=/[\+\-]?\d+(\.\d{1,3})?/,te=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ee="YYYY-MM-DDTHH:mm:ssZ",ie=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ne=/([\+\-]|\d\d)/gi,re="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),oe={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},se={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},ae={},le="DDD w W M D d".split(" "),he="M D H h m s w W".split(" "),ue={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(t/60),2)+":"+u(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};le.length;)I=le.pop(),ue[I+"o"]=r(ue[I],I);for(;he.length;)I=he.pop(),ue[I+I]=n(ue[I],2);for(ue.DDDD=n(ue.DDD,3),o.prototype={set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,i,n;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(i=B([2e3,e]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[e]=RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]
},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=B([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var i=this._calendar[t];return"function"==typeof i?i.apply(e):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(t,e,i,n):r.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return M(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},B=function(t,e,i){return D({_i:t,_f:e,_l:i,_isUTC:!1})},B.utc=function(t,e,i){return D({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:e})},B.unix=function(t){return B(1e3*t)},B.duration=function(t,e){var i,n,r=B.isDuration(t),o="number"==typeof t,s=r?t._input:o?{}:t,l=j.exec(t);return o?e?s[e]=t:s.milliseconds=t:l&&(i="-"===l[1]?-1:1,s={y:0,d:~~l[2]*i,h:~~l[3]*i,m:~~l[4]*i,s:~~l[5]*i,ms:~~l[6]*i}),n=new a(s),r&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},B.version=z,B.defaultFormat=ee,B.updateOffset=function(){},B.lang=function(t,e){return t?(e?m(t,e):F[t]||g(t),B.duration.fn._lang=B.fn._lang=g(t),i):B.fn._lang._abbr},B.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),g(t)},B.isMoment=function(t){return t instanceof s},B.isDuration=function(t){return t instanceof a},B.fn=s.prototype={clone:function(){return B(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return _(B(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?B.utc(this._a):B(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=_(this,t||B.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var i;return i="string"==typeof t?B.duration(+e,t):B.duration(t,e),c(this,i,1),this},subtract:function(t,e){var i;return i="string"==typeof t?B.duration(+e,t):B.duration(t,e),c(this,i,-1),this},diff:function(t,e,i){var n,r,o=this._isUTC?B(t).zone(this._offset||0):B(t).local(),s=6e4*(this.zone()-o.zone());return e=f(e),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-B(this).startOf("month")-(o-B(o).startOf("month")))/n,r-=6e4*(this.zone()-B(this).startOf("month").zone()-(o.zone()-B(o).startOf("month").zone()))/n,"year"===e&&(r/=12)):(n=this-o,r="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-s)/864e5:"week"===e?(n-s)/6048e5:n),i?r:h(r)},from:function(t,e){return B.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(B(),t)},calendar:function(){var t=this.diff(B().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,i=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+i+"Month"](t),this.date(Math.min(e,this.daysInMonth())),B.updateOffset(this),this):this._d["get"+i+"Month"]()},startOf:function(t){switch(t=f(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=e!==i?e:"millisecond",+this.clone().startOf(e)>+B(t).startOf(e)},isBefore:function(t,e){return e=e!==i?e:"millisecond",+this.clone().startOf(e)<+B(t).startOf(e)},isSame:function(t,e){return e=e!==i?e:"millisecond",+this.clone().startOf(e)===+B(t).startOf(e)},min:function(t){return t=B.apply(null,arguments),this>t?this:t},max:function(t){return t=B.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=b(t)),16>Math.abs(t)&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&c(this,B.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return B.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=R((B(this).startOf("day")-B(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=M(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=M(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=M(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===i?this._lang:(this._lang=g(t),this)}},I=0;re.length>I;I++)A(re[I].toLowerCase().replace(/s$/,""),re[I]);A("year","FullYear"),B.fn.days=B.fn.day,B.fn.months=B.fn.month,B.fn.weeks=B.fn.week,B.fn.isoWeeks=B.fn.isoWeek,B.fn.toJSON=B.fn.toISOString,B.duration.fn=a.prototype={_bubble:function(){var t,e,i,n,r=this._milliseconds,o=this._days,s=this._months,a=this._data;a.milliseconds=r%1e3,t=h(r/1e3),a.seconds=t%60,e=h(t/60),a.minutes=e%60,i=h(e/60),a.hours=i%24,o+=h(i/24),a.days=o%30,s+=h(o/30),a.months=s%12,n=h(s/12),a.years=n},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,i=E(e,!t,this.lang());return t&&(i=this.lang().pastFuture(e,i)),this.lang().postformat(i)},add:function(t,e){var i=B.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=B.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=f(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=f(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:B.fn.lang};for(I in oe)oe.hasOwnProperty(I)&&(O(I,oe[I]),N(I.toLowerCase()));O("Weeks",6048e5),B.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},B.lang("en",{ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),U&&(e.exports=B),"undefined"==typeof ender&&(this.moment=B),"function"==typeof define&&define.amd&&define("moment",[],function(){return B})}).call(this)},{}],16:[function(t,e,i){(function(t,n){"object"==typeof i?e.exports=n():"function"==typeof define&&define.amd?define([],n):t.returnExports=n()})(this,function(){return function(t,e){function i(t){var e=fe[t]={};return K.each(t.split(ee),function(t,i){e[i]=!0}),e}function n(t,i,n){if(n===e&&1===t.nodeType){var r="data-"+i.replace(ge,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:me.test(n)?K.parseJSON(n):n}catch(o){}K.data(t,i,n)}else n=e}return n}function r(t){var e;for(e in t)if(("data"!==e||!K.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(){return!1}function s(){return!0}function a(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function h(t,e,i){if(e=e||0,K.isFunction(e))return K.grep(t,function(t,n){var r=!!e.call(t,n,t);return r===i});if(e.nodeType)return K.grep(t,function(t){return t===e===i});if("string"==typeof e){var n=K.grep(t,function(t){return 1===t.nodeType});if(Ie.test(e))return K.filter(e,n,!i);e=K.filter(e,n)}return K.grep(t,function(t){return K.inArray(t,e)>=0===i})}function u(t){var e=Fe.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function c(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function p(t,e){if(1===e.nodeType&&K.hasData(t)){var i,n,r,o=K._data(t),s=K._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)K.event.add(e,i,a[i][n])}s.data&&(s.data=K.extend({},s.data))}}function d(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),K.support.html5Clone&&t.innerHTML&&!K.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Ye.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(K.expando))}function f(t){return t.getElementsByTagName!==e?t.getElementsByTagName("*"):t.querySelectorAll!==e?t.querySelectorAll("*"):[]}function m(t){Ye.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=vi.length;r--;)if(e=vi[r]+i,e in t)return e;return n}function v(t,e){return t=e||t,"none"===K.css(t,"display")||!K.contains(t.ownerDocument,t)}function y(t,e){for(var i,n,r=[],o=0,s=t.length;s>o;o++)i=t[o],i.style&&(r[o]=K._data(i,"olddisplay"),e?(r[o]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&v(i)&&(r[o]=K._data(i,"olddisplay",w(i.nodeName)))):(n=ii(i,"display"),r[o]||"none"===n||K._data(i,"olddisplay",n)));for(o=0;s>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[o]||"":"none"));return t}function _(t,e,i){var n=ui.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function x(t,e,i,n){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,o=0;4>r;r+=2)"margin"===i&&(o+=K.css(t,i+gi[r],!0)),n?("content"===i&&(o-=parseFloat(ii(t,"padding"+gi[r]))||0),"margin"!==i&&(o-=parseFloat(ii(t,"border"+gi[r]+"Width"))||0)):(o+=parseFloat(ii(t,"padding"+gi[r]))||0,"padding"!==i&&(o+=parseFloat(ii(t,"border"+gi[r]+"Width"))||0));return o}function b(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,r=!0,o=K.support.boxSizing&&"border-box"===K.css(t,"boxSizing");if(0>=n||null==n){if(n=ii(t,e),(0>n||null==n)&&(n=t.style[e]),ci.test(n))return n;r=o&&(K.support.boxSizingReliable||n===t.style[e]),n=parseFloat(n)||0}return n+x(t,e,i||(o?"border":"content"),r)+"px"}function w(t){if(di[t])return di[t];var e=K("<"+t+">").appendTo(H.body),i=e.css("display");return e.remove(),("none"===i||""===i)&&(ni=H.body.appendChild(ni||K.extend(H.createElement("iframe"),{frameBorder:0,width:0,height:0})),ri&&ni.createElement||(ri=(ni.contentWindow||ni.contentDocument).document,ri.write("<!doctype html><html><body>"),ri.close()),e=ri.body.appendChild(ri.createElement(t)),i=ii(e,"display"),H.body.removeChild(ni)),di[t]=i,i}function L(t,e,i,n){var r;if(K.isArray(e))K.each(e,function(e,r){i||xi.test(t)?n(t,r):L(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==K.type(e))n(t,e);else for(r in e)L(t+"["+r+"]",e[r],i,n)}function k(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r,o,s=e.toLowerCase().split(ee),a=0,l=s.length;if(K.isFunction(i))for(;l>a;a++)n=s[a],o=/^\+/.test(n),o&&(n=n.substr(1)||"*"),r=t[n]=t[n]||[],r[o?"unshift":"push"](i)}}function T(t,i,n,r,o,s){o=o||i.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=t[o],h=0,u=l?l.length:0,c=t===Ii;u>h&&(c||!a);h++)a=l[h](i,n,r),"string"==typeof a&&(!c||s[a]?a=e:(i.dataTypes.unshift(a),a=T(t,i,n,r,a,s)));return!c&&a||s["*"]||(a=T(t,i,n,r,"*",s)),a}function P(t,i){var n,r,o=K.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((o[n]?t:r||(r={}))[n]=i[n]);r&&K.extend(!0,t,r)}function S(t,i,n){var r,o,s,a,l=t.contents,h=t.dataTypes,u=t.responseFields;for(o in u)o in n&&(i[u[o]]=n[o]);for(;"*"===h[0];)h.shift(),r===e&&(r=t.mimeType||i.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){h.unshift(o);break}if(h[0]in n)s=h[0];else{for(o in n){if(!h[0]||t.converters[o+" "+h[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==h[0]&&h.unshift(s),n[s]):e}function C(t,e){var i,n,r,o,s=t.dataTypes.slice(),a=s[0],l={},h=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s[1])for(i in t.converters)l[i.toLowerCase()]=t.converters[i];for(;r=s[++h];)if("*"!==r){if("*"!==a&&a!==r){if(i=l[a+" "+r]||l["* "+r],!i)for(n in l)if(o=n.split(" "),o[1]===r&&(i=l[a+" "+o[0]]||l["* "+o[0]])){i===!0?i=l[n]:l[n]!==!0&&(r=o[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&t["throws"])e=i(e);else try{e=i(e)}catch(u){return{state:"parsererror",error:i?u:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:e}}function E(){try{return new t.XMLHttpRequest}catch(e){}}function M(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function D(){return setTimeout(function(){Zi=e},0),Zi=K.now()}function A(t,e){K.each(e,function(e,i){for(var n=(Qi[e]||[]).concat(Qi["*"]),r=0,o=n.length;o>r;r++)if(n[r].call(t,e,i))return})}function N(t,e,i){var n,r=0,o=Ki.length,s=K.Deferred().always(function(){delete a.elem}),a=function(){for(var e=Zi||D(),i=Math.max(0,l.startTime+l.duration-e),n=1-(i/l.duration||0),r=0,o=l.tweens.length;o>r;r++)l.tweens[r].run(n);return s.notifyWith(t,[l,n,i]),1>n&&o?i:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:K.extend({},e),opts:K.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Zi||D(),duration:i.duration,tweens:[],createTween:function(e,i){var n=K.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){for(var i=0,n=e?l.tweens.length:0;n>i;i++)l.tweens[i].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),h=l.props;for(O(h,l.opts.specialEasing);o>r;r++)if(n=Ki[r].call(l,t,h,l.opts))return n;return A(l,h),K.isFunction(l.opts.start)&&l.opts.start.call(t,l),K.fx.timer(K.extend(a,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function O(t,e){var i,n,r,o,s;for(i in t)if(n=K.camelCase(i),r=e[n],o=t[i],K.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=K.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function B(t,e,i){var n,r,o,s,a,l,h,u,c=this,p=t.style,d={},f=[],m=t.nodeType&&v(t);i.queue||(h=K._queueHooks(t,"fx"),null==h.unqueued&&(h.unqueued=0,u=h.empty.fire,h.empty.fire=function(){h.unqueued||u()}),h.unqueued++,c.always(function(){c.always(function(){h.unqueued--,K.queue(t,"fx").length||h.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===K.css(t,"display")&&"none"===K.css(t,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==w(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",K.support.shrinkWrapBlocks||c.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Yi.exec(o)){if(delete e[n],o===(m?"hide":"show"))continue;f.push(n)}if(s=f.length)for(a=K._data(t,"fxshow")||K._data(t,"fxshow",{}),m?K(t).show():c.done(function(){K(t).hide()}),c.done(function(){var e;K.removeData(t,"fxshow",!0);for(e in d)K.style(t,e,d[e])}),n=0;s>n;n++)r=f[n],l=c.createTween(r,m?a[r]:0),d[r]=a[r]||K.style(t,r),r in a||(a[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}function I(t,e,i,n,r){return new I.prototype.init(t,e,i,n,r)}function z(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=gi[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function R(t){return K.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var F,U,H=t.document,j=t.location,W=t.navigator,q=t.jQuery,V=t.$,$=Array.prototype.push,Z=Array.prototype.slice,G=Array.prototype.indexOf,Y=Object.prototype.toString,X=Object.prototype.hasOwnProperty,J=String.prototype.trim,K=function(t,e){return new K.fn.init(t,e,F)},Q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,te=/\S/,ee=/\s+/,ie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ne=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^[\],:{}\s]*$/,se=/(?:^|:|,)(?:\s*\[)+/g,ae=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,he=/^-ms-/,ue=/-([\da-z])/gi,ce=function(t,e){return(e+"").toUpperCase()},pe=function(){H.addEventListener?(H.removeEventListener("DOMContentLoaded",pe,!1),K.ready()):"complete"===H.readyState&&(H.detachEvent("onreadystatechange",pe),K.ready())},de={};K.fn=K.prototype={constructor:K,init:function(t,i,n){var r,o,s;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ne.exec(t),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(r[1])return i=i instanceof K?i[0]:i,s=i&&i.nodeType?i.ownerDocument||i:H,t=K.parseHTML(r[1],s,!0),re.test(r[1])&&K.isPlainObject(i)&&this.attr.call(t,i,!0),K.merge(this,t);if(o=H.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return n.find(t);this.length=1,this[0]=o}return this.context=H,this.selector=t,this}return K.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),K.makeArray(t,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return Z.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=K.merge(this.constructor(),t);return n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return K.each(this,t,e)},ready:function(t){return K.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Z.apply(this,arguments),"slice",Z.call(arguments).join(","))},map:function(t){return this.pushStack(K.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:[].sort,splice:[].splice},K.fn.init.prototype=K.fn,K.extend=K.fn.extend=function(){var t,i,n,r,o,s,a=arguments[0]||{},l=1,h=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||K.isFunction(a)||(a={}),h===l&&(a=this,--l);h>l;l++)if(null!=(t=arguments[l]))for(i in t)n=a[i],r=t[i],a!==r&&(u&&r&&(K.isPlainObject(r)||(o=K.isArray(r)))?(o?(o=!1,s=n&&K.isArray(n)?n:[]):s=n&&K.isPlainObject(n)?n:{},a[i]=K.extend(u,s,r)):r!==e&&(a[i]=r));return a},K.extend({noConflict:function(e){return t.$===K&&(t.$=V),e&&t.jQuery===K&&(t.jQuery=q),K},isReady:!1,readyWait:1,holdReady:function(t){t?K.readyWait++:K.ready(!0)},ready:function(t){if(t===!0?!--K.readyWait:!K.isReady){if(!H.body)return setTimeout(K.ready,1);K.isReady=!0,t!==!0&&--K.readyWait>0||(U.resolveWith(H,[K]),K.fn.trigger&&K(H).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===K.type(t)},isArray:Array.isArray||function(t){return"array"===K.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":de[Y.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==K.type(t)||t.nodeType||K.isWindow(t))return!1;try{if(t.constructor&&!X.call(t,"constructor")&&!X.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||X.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,i){var n;return t&&"string"==typeof t?("boolean"==typeof e&&(i=e,e=0),e=e||H,(n=re.exec(t))?[e.createElement(n[1])]:(n=K.buildFragment([t],e,i?null:[]),K.merge([],(n.cacheable?K.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(i){return i&&"string"==typeof i?(i=K.trim(i),t.JSON&&t.JSON.parse?t.JSON.parse(i):oe.test(i.replace(ae,"@").replace(le,"]").replace(se,""))?Function("return "+i)():(K.error("Invalid JSON: "+i),e)):null},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&te.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(he,"ms-").replace(ue,ce)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,i,n){var r,o=0,s=t.length,a=s===e||K.isFunction(t);if(n)if(a){for(r in t)if(i.apply(t[r],n)===!1)break}else for(;s>o&&i.apply(t[o++],n)!==!1;);else if(a){for(r in t)if(i.call(t[r],r,t[r])===!1)break}else for(;s>o&&i.call(t[o],o,t[o++])!==!1;);return t},trim:J&&!J.call("")?function(t){return null==t?"":J.call(t)}:function(t){return null==t?"":(""+t).replace(ie,"")},makeArray:function(t,e){var i,n=e||[];return null!=t&&(i=K.type(t),null==t.length||"string"===i||"function"===i||"regexp"===i||K.isWindow(t)?$.call(n,t):K.merge(n,t)),n},inArray:function(t,e,i){var n;if(e){if(G)return G.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,r=t.length,o=0;if("number"==typeof n)for(;n>o;o++)t[r++]=i[o];else for(;i[o]!==e;)t[r++]=i[o++];return t.length=r,t},grep:function(t,e,i){var n,r=[],o=0,s=t.length;for(i=!!i;s>o;o++)n=!!e(t[o],o),i!==n&&r.push(t[o]);return r},map:function(t,i,n){var r,o,s=[],a=0,l=t.length,h=t instanceof K||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||K.isArray(t));if(h)for(;l>a;a++)r=i(t[a],a,n),null!=r&&(s[s.length]=r);else for(o in t)r=i(t[o],o,n),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(t,i){var n,r,o;return"string"==typeof i&&(n=t[i],i=t,t=n),K.isFunction(t)?(r=Z.call(arguments,2),o=function(){return t.apply(i,r.concat(Z.call(arguments)))},o.guid=t.guid=t.guid||o.guid||K.guid++,o):e},access:function(t,i,n,r,o,s,a){var l,h=null==n,u=0,c=t.length;if(n&&"object"==typeof n){for(u in n)K.access(t,i,u,n[u],1,s,r);o=1}else if(r!==e){if(l=a===e&&K.isFunction(r),h&&(l?(l=i,i=function(t,e,i){return l.call(K(t),i)}):(i.call(t,r),i=null)),i)for(;c>u;u++)i(t[u],n,l?r.call(t[u],u,i(t[u],n)):r,a);o=1}return o?t:h?i.call(t):c?i(t[0],n):s},now:function(){return(new Date).getTime()}}),K.ready.promise=function(e){if(!U)if(U=K.Deferred(),"complete"===H.readyState)setTimeout(K.ready,1);else if(H.addEventListener)H.addEventListener("DOMContentLoaded",pe,!1),t.addEventListener("load",K.ready,!1);else{H.attachEvent("onreadystatechange",pe),t.attachEvent("onload",K.ready);var i=!1;try{i=null==t.frameElement&&H.documentElement}catch(n){}i&&i.doScroll&&function r(){if(!K.isReady){try{i.doScroll("left")}catch(t){return setTimeout(r,50)}K.ready()}}()}return U.promise(e)},K.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){de["[object "+e+"]"]=e.toLowerCase()}),F=K(H);var fe={};K.Callbacks=function(t){t="string"==typeof t?fe[t]||i(t):K.extend({},t);var n,r,o,s,a,l,h=[],u=!t.once&&[],c=function(e){for(n=t.memory&&e,r=!0,l=s||0,s=0,a=h.length,o=!0;h&&a>l;l++)if(h[l].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}o=!1,h&&(u?u.length&&c(u.shift()):n?h=[]:p.disable())},p={add:function(){if(h){var e=h.length;(function i(e){K.each(e,function(e,n){var r=K.type(n);"function"!==r||t.unique&&p.has(n)?n&&n.length&&"string"!==r&&i(n):h.push(n)})})(arguments),o?a=h.length:n&&(s=e,c(n))}return this},remove:function(){return h&&K.each(arguments,function(t,e){for(var i;(i=K.inArray(e,h,i))>-1;)h.splice(i,1),o&&(a>=i&&a--,l>=i&&l--)}),this},has:function(t){return K.inArray(t,h)>-1},empty:function(){return h=[],this},disable:function(){return h=u=n=e,this},disabled:function(){return!h},lock:function(){return u=e,n||p.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!h||r&&!u||(o?u.push(e):c(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},K.extend({Deferred:function(t){var e=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return K.Deferred(function(i){K.each(e,function(e,n){var o=n[0],s=t[e];r[n[1]](K.isFunction(s)?function(){var t=s.apply(this,arguments);t&&K.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===r?i:this,[t])}:i[o])}),t=null}).promise()},promise:function(t){return"object"==typeof t?K.extend(t,n):n}},r={};return n.pipe=n.then,K.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=Z.call(arguments),s=o.length,a=1!==s||t&&K.isFunction(t.promise)?s:0,l=1===a?t:K.Deferred(),h=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?Z.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=Array(s),i=Array(s),n=Array(s);s>r;r++)o[r]&&K.isFunction(o[r].promise)?o[r].promise().done(h(r,n,o)).fail(l.reject).progress(h(r,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}}),K.support=function(){var i,n,r,o,s,a,l,h,u,c,p,d=H.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length||!r)return{};o=H.createElement("select"),s=o.appendChild(H.createElement("option")),a=d.getElementsByTagName("input")[0],i={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:s.selected,getSetAttribute:"t"!==d.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===H.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,i.noCloneChecked=a.cloneNode(!0).checked,o.disabled=!0,i.optDisabled=!s.disabled;try{delete d.test}catch(f){i.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",p=function(){i.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",p)),a=H.createElement("input"),a.value="t",a.setAttribute("type","radio"),i.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),d.appendChild(a),l=H.createDocumentFragment(),l.appendChild(d.lastChild),i.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,i.appendChecked=a.checked,l.removeChild(a),l.appendChild(d),d.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})h="on"+u,c=h in d,c||(d.setAttribute(h,"return;"),c="function"==typeof d[h]),i[u+"Bubbles"]=c;return K(function(){var n,r,o,s,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",l=H.getElementsByTagName("body")[0];l&&(n=H.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",l.insertBefore(n,l.firstChild),r=H.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=r.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",i.reliableHiddenOffsets=c&&0===o[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",i.boxSizing=4===r.offsetWidth,i.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,t.getComputedStyle&&(i.pixelPosition="1%"!==(t.getComputedStyle(r,null)||{}).top,i.boxSizingReliable="4px"===(t.getComputedStyle(r,null)||{width:"4px"}).width,s=H.createElement("div"),s.style.cssText=r.style.cssText=a,s.style.marginRight=s.style.width="0",r.style.width="1px",r.appendChild(s),i.reliableMarginRight=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight)),r.style.zoom!==e&&(r.innerHTML="",r.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",i.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",i.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),l.removeChild(n),n=r=o=s=null)}),l.removeChild(d),n=r=o=s=a=l=d=null,i}();var me=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ge=/([A-Z])/g;K.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?K.cache[t[K.expando]]:t[K.expando],!!t&&!r(t)},data:function(t,i,n,r){if(K.acceptData(t)){var o,s,a=K.expando,l="string"==typeof i,h=t.nodeType,u=h?K.cache:t,c=h?t[a]:t[a]&&a;
if(c&&u[c]&&(r||u[c].data)||!l||n!==e)return c||(h?t[a]=c=K.deletedIds.pop()||++K.uuid:c=a),u[c]||(u[c]={},h||(u[c].toJSON=K.noop)),("object"==typeof i||"function"==typeof i)&&(r?u[c]=K.extend(u[c],i):u[c].data=K.extend(u[c].data,i)),o=u[c],r||(o.data||(o.data={}),o=o.data),n!==e&&(o[K.camelCase(i)]=n),l?(s=o[i],null==s&&(s=o[K.camelCase(i)])):s=o,s}},removeData:function(t,e,i){if(K.acceptData(t)){var n,o,s,a=t.nodeType,l=a?K.cache:t,h=a?t[K.expando]:K.expando;if(l[h]){if(e&&(n=i?l[h]:l[h].data)){K.isArray(e)||(e in n?e=[e]:(e=K.camelCase(e),e=e in n?[e]:e.split(" ")));for(o=0,s=e.length;s>o;o++)delete n[e[o]];if(!(i?r:K.isEmptyObject)(n))return}(i||(delete l[h].data,r(l[h])))&&(a?K.cleanData([t],!0):K.support.deleteExpando||l!=l.window?delete l[h]:l[h]=null)}}},_data:function(t,e,i){return K.data(t,e,i,!0)},acceptData:function(t){var e=t.nodeName&&K.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),K.fn.extend({data:function(t,i){var r,o,s,a,l,h=this[0],u=0,c=null;if(t===e){if(this.length&&(c=K.data(h),1===h.nodeType&&!K._data(h,"parsedAttrs"))){for(s=h.attributes,l=s.length;l>u;u++)a=s[u].name,0===a.indexOf("data-")&&(a=K.camelCase(a.substring(5)),n(h,a,c[a]));K._data(h,"parsedAttrs",!0)}return c}return"object"==typeof t?this.each(function(){K.data(this,t)}):(r=t.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",K.access(this,function(i){return i===e?(c=this.triggerHandler("getData"+o,[r[0]]),c===e&&h&&(c=K.data(h,t),c=n(h,t,c)),c===e&&r[1]?this.data(r[0]):c):(r[1]=i,this.each(function(){var e=K(this);e.triggerHandler("setData"+o,r),K.data(this,t,i),e.triggerHandler("changeData"+o,r)}),e)},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){K.removeData(this,t)})}}),K.extend({queue:function(t,i,n){var r;return t?(i=(i||"fx")+"queue",r=K._data(t,i),n&&(!r||K.isArray(n)?r=K._data(t,i,K.makeArray(n)):r.push(n)),r||[]):e},dequeue:function(t,e){e=e||"fx";var i=K.queue(t,e),n=i.length,r=i.shift(),o=K._queueHooks(t,e),s=function(){K.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return K._data(t,i)||K._data(t,i,{empty:K.Callbacks("once memory").add(function(){K.removeData(t,e+"queue",!0),K.removeData(t,i,!0)})})}}),K.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),n>arguments.length?K.queue(this[0],t):i===e?this:this.each(function(){var e=K.queue(this,t,i);K._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&K.dequeue(this,t)})},dequeue:function(t){return this.each(function(){K.dequeue(this,t)})},delay:function(t,e){return t=K.fx?K.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,r=1,o=K.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)n=K._data(s[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(i)}});var ve,ye,_e,xe=/[\t\r\n]/g,be=/\r/g,we=/^(?:button|input)$/i,Le=/^(?:button|input|object|select|textarea)$/i,ke=/^a(?:rea|)$/i,Te=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Pe=K.support.getSetAttribute;K.fn.extend({attr:function(t,e){return K.access(this,K.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){K.removeAttr(this,t)})},prop:function(t,e){return K.access(this,K.prop,t,e,arguments.length>1)},removeProp:function(t){return t=K.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,r,o,s,a;if(K.isFunction(t))return this.each(function(e){K(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(ee),i=0,n=this.length;n>i;i++)if(r=this[i],1===r.nodeType)if(r.className||1!==e.length){for(o=" "+r.className+" ",s=0,a=e.length;a>s;s++)~o.indexOf(" "+e[s]+" ")||(o+=e[s]+" ");r.className=K.trim(o)}else r.className=t;return this},removeClass:function(t){var i,n,r,o,s,a,l;if(K.isFunction(t))return this.each(function(e){K(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(ee),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(n=(" "+r.className+" ").replace(xe," "),o=0,s=i.length;s>o;o++)for(;n.indexOf(" "+i[o]+" ")>-1;)n=n.replace(" "+i[o]+" "," ");r.className=t?K.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return K.isFunction(t)?this.each(function(i){K(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var r,o=0,s=K(this),a=e,l=t.split(ee);r=l[o++];)a=n?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===i||"boolean"===i)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||t===!1?"":K._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(xe," ").indexOf(e)>-1)return!0;return!1},val:function(t){var i,n,r,o=this[0];{if(arguments.length)return r=K.isFunction(t),this.each(function(n){var o,s=K(this);1===this.nodeType&&(o=r?t.call(this,n,s.val()):t,null==o?o="":"number"==typeof o?o+="":K.isArray(o)&&(o=K.map(o,function(t){return null==t?"":t+""})),i=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))});if(o)return i=K.valHooks[o.type]||K.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(be,""):null==n?"":n)}}}),K.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,i,n,r,o=t.selectedIndex,s=[],a=t.options,l="select-one"===t.type;if(0>o)return null;for(i=l?o:0,n=l?o+1:a.length;n>i;i++)if(r=a[i],!(!r.selected||(K.support.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&K.nodeName(r.parentNode,"optgroup"))){if(e=K(r).val(),l)return e;s.push(e)}return l&&!s.length&&a.length?K(a[o]).val():s},set:function(t,e){var i=K.makeArray(e);return K(t).find("option").each(function(){this.selected=K.inArray(K(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{},attr:function(t,i,n,r){var o,s,a,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return r&&K.isFunction(K.fn[i])?K(t)[i](n):t.getAttribute===e?K.prop(t,i,n):(a=1!==l||!K.isXMLDoc(t),a&&(i=i.toLowerCase(),s=K.attrHooks[i]||(Te.test(i)?ye:ve)),n!==e?null===n?(K.removeAttr(t,i),e):s&&"set"in s&&a&&(o=s.set(t,n,i))!==e?o:(t.setAttribute(i,""+n),n):s&&"get"in s&&a&&null!==(o=s.get(t,i))?o:(o=t.getAttribute(i),null===o?e:o))},removeAttr:function(t,e){var i,n,r,o,s=0;if(e&&1===t.nodeType)for(n=e.split(ee);n.length>s;s++)r=n[s],r&&(i=K.propFix[r]||r,o=Te.test(r),o||K.attr(t,r,""),t.removeAttribute(Pe?r:i),o&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(we.test(t.nodeName)&&t.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===e&&K.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return ve&&K.nodeName(t,"button")?ve.get(t,e):e in t?t.value:null},set:function(t,i,n){return ve&&K.nodeName(t,"button")?ve.set(t,i,n):(t.value=i,e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var r,o,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!K.isXMLDoc(t),s&&(i=K.propFix[i]||i,o=K.propHooks[i]),n!==e?o&&"set"in o&&(r=o.set(t,n,i))!==e?r:t[i]=n:o&&"get"in o&&null!==(r=o.get(t,i))?r:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Le.test(t.nodeName)||ke.test(t.nodeName)&&t.href?0:e}}}}),ye={get:function(t,i){var n,r=K.prop(t,i);return r===!0||"boolean"!=typeof r&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?K.removeAttr(t,i):(n=K.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},Pe||(_e={name:!0,id:!0,coords:!0},ve=K.valHooks.button={get:function(t,i){var n;return n=t.getAttributeNode(i),n&&(_e[i]?""!==n.value:n.specified)?n.value:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=H.createAttribute(i),t.setAttributeNode(n)),n.value=e+""}},K.each(["width","height"],function(t,i){K.attrHooks[i]=K.extend(K.attrHooks[i],{set:function(t,n){return""===n?(t.setAttribute(i,"auto"),n):e}})}),K.attrHooks.contenteditable={get:ve.get,set:function(t,e,i){""===e&&(e="false"),ve.set(t,e,i)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(t,i){K.attrHooks[i]=K.extend(K.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),K.support.style||(K.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(t,i){return K.isArray(i)?t.checked=K.inArray(K(t).val(),i)>=0:e}})});var Se=/^(?:textarea|input|select)$/i,Ce=/^([^\.]*|)(?:\.(.+)|)$/,Ee=/(?:^|\s)hover(\.\S+|)\b/,Me=/^key/,De=/^(?:mouse|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Ne=function(t){return K.event.special.hover?t:t.replace(Ee,"mouseenter$1 mouseleave$1")};K.event={add:function(t,i,n,r,o){var s,a,l,h,u,c,p,d,f,m,g;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(s=K._data(t))){for(n.handler&&(f=n,n=f.handler,o=f.selector),n.guid||(n.guid=K.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(t){return K===e||t&&K.event.triggered===t.type?e:K.event.dispatch.apply(a.elem,arguments)},a.elem=t),i=K.trim(Ne(i)).split(" "),h=0;i.length>h;h++)u=Ce.exec(i[h])||[],c=u[1],p=(u[2]||"").split(".").sort(),g=K.event.special[c]||{},c=(o?g.delegateType:g.bindType)||c,g=K.event.special[c]||{},d=K.extend({type:c,origType:u[1],data:r,handler:n,guid:n.guid,selector:o,namespace:p.join(".")},f),m=l[c],m||(m=l[c]=[],m.delegateCount=0,g.setup&&g.setup.call(t,r,p,a)!==!1||(t.addEventListener?t.addEventListener(c,a,!1):t.attachEvent&&t.attachEvent("on"+c,a))),g.add&&(g.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?m.splice(m.delegateCount++,0,d):m.push(d),K.event.global[c]=!0;t=null}},global:{},remove:function(t,e,i,n,r){var o,s,a,l,h,u,c,p,d,f,m,g=K.hasData(t)&&K._data(t);if(g&&(p=g.events)){for(e=K.trim(Ne(e||"")).split(" "),o=0;e.length>o;o++)if(s=Ce.exec(e[o])||[],a=l=s[1],h=s[2],a){for(d=K.event.special[a]||{},a=(n?d.delegateType:d.bindType)||a,f=p[a]||[],u=f.length,h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;f.length>c;c++)m=f[c],!r&&l!==m.origType||i&&i.guid!==m.guid||h&&!h.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(f.splice(c--,1),m.selector&&f.delegateCount--,d.remove&&d.remove.call(t,m));0===f.length&&u!==f.length&&(d.teardown&&d.teardown.call(t,h,g.handle)!==!1||K.removeEvent(t,a,g.handle),delete p[a])}else for(a in p)K.event.remove(t,a+e[o],i,n,!0);K.isEmptyObject(p)&&(delete g.handle,K.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,h,u,c,p,d,f,m,g=i.type||i,v=[];if(!Ae.test(g+K.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!K.event.customEvent[g]||K.event.global[g]))if(i="object"==typeof i?i[K.expando]?i:new K.Event(g,i):new K.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0>g.indexOf(":")?"on"+g:"",r){if(i.result=e,i.target||(i.target=r),n=null!=n?K.makeArray(n):[],n.unshift(i),p=K.event.special[g]||{},!p.trigger||p.trigger.apply(r,n)!==!1){if(f=[[r,p.bindType||g]],!o&&!p.noBubble&&!K.isWindow(r)){for(m=p.delegateType||g,h=Ae.test(m+g)?r:r.parentNode,u=r;h;h=h.parentNode)f.push([h,m]),u=h;u===(r.ownerDocument||H)&&f.push([u.defaultView||u.parentWindow||t,m])}for(l=0;f.length>l&&!i.isPropagationStopped();l++)h=f[l][0],i.type=f[l][1],d=(K._data(h,"events")||{})[i.type]&&K._data(h,"handle"),d&&d.apply(h,n),d=c&&h[c],d&&K.acceptData(h)&&d.apply(h,n)===!1&&i.preventDefault();return i.type=g,o||i.isDefaultPrevented()||p._default&&p._default.apply(r.ownerDocument,n)!==!1||"click"===g&&K.nodeName(r,"a")||!K.acceptData(r)||c&&r[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!K.isWindow(r)&&(u=r[c],u&&(r[c]=null),K.event.triggered=g,r[g](),K.event.triggered=e,u&&(r[c]=u)),i.result}}else{s=K.cache;for(l in s)s[l].events&&s[l].events[g]&&K.event.trigger(i,n,s[l].handle.elem,!0)}}},dispatch:function(i){i=K.event.fix(i||t.event);var n,r,o,s,a,l,h,u,c,p=(K._data(this,"events")||{})[i.type]||[],d=p.delegateCount,f=[].slice.call(arguments),m=!i.exclusive&&!i.namespace,g=K.event.special[i.type]||{},v=[];if(f[0]=i,i.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,i)!==!1){if(d&&(!i.button||"click"!==i.type))for(o=i.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==i.type){for(a={},h=[],n=0;d>n;n++)u=p[n],c=u.selector,a[c]===e&&(a[c]=K(c,this).index(o)>=0),a[c]&&h.push(u);h.length&&v.push({elem:o,matches:h})}for(p.length>d&&v.push({elem:this,matches:p.slice(d)}),n=0;v.length>n&&!i.isPropagationStopped();n++)for(l=v[n],i.currentTarget=l.elem,r=0;l.matches.length>r&&!i.isImmediatePropagationStopped();r++)u=l.matches[r],(m||!i.namespace&&!u.namespace||i.namespace_re&&i.namespace_re.test(u.namespace))&&(i.data=u.data,i.handleObj=u,s=((K.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,f),s!==e&&(i.result=s,s===!1&&(i.preventDefault(),i.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,r,o,s=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||H,r=n.documentElement,o=n.body,t.pageX=i.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=i.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[K.expando])return t;var e,i,n=t,r=K.event.fixHooks[t.type]||{},o=r.props?this.props.concat(r.props):this.props;for(t=K.Event(n),e=o.length;e;)i=o[--e],t[i]=n[i];return t.target||(t.target=n.srcElement||H),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,n):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){K.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var r=K.extend(new K.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?K.event.trigger(r,null,e):K.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=H.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,i,n){var r="on"+i;t.detachEvent&&(t[r]===e&&(t[r]=null),t.detachEvent(r,n))},K.Event=function(t,i){return this instanceof K.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?s:o):this.type=t,i&&K.extend(this,i),this.timeStamp=t&&t.timeStamp||K.now(),this[K.expando]=!0,e):new K.Event(t,i)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){K.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return o.selector,(!r||r!==n&&!K.contains(n,r))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:(K.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=K.nodeName(i,"input")||K.nodeName(i,"button")?i.form:e;n&&!K._data(n,"_submit_attached")&&(K.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),K._data(n,"_submit_attached",!0))}),e)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&K.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return K.nodeName(this,"form")?!1:(K.event.remove(this,"._submit"),e)}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return Se.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),K.event.simulate("change",this,t,!0)})),!1):(K.event.add(this,"beforeactivate._change",function(t){var e=t.target;Se.test(e.nodeName)&&!K._data(e,"_change_attached")&&(K.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||K.event.simulate("change",this.parentNode,t,!0)}),K._data(e,"_change_attached",!0))}),e)},handle:function(t){var i=t.target;return this!==i||t.isSimulated||t.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return K.event.remove(this,"._change"),!Se.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){K.event.simulate(e,t.target,K.event.fix(t),!0)};K.event.special[e]={setup:function(){0===i++&&H.addEventListener(t,n,!0)},teardown:function(){0===--i&&H.removeEventListener(t,n,!0)}}}),K.fn.extend({on:function(t,i,n,r,s){var a,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],s);return this}if(null==n&&null==r?(r=i,n=i=e):null==r&&("string"==typeof i?(r=n,n=e):(r=n,n=i,i=e)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(t){return K().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=K.guid++)),this.each(function(){K.event.add(this,t,r,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var r,s;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,K(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(s in t)this.off(s,i,t[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=o),this.each(function(){K.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return K(this.context).on(t,this.selector,e,i),this},die:function(t,e){return K(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1==arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},trigger:function(t,e){return this.each(function(){K.event.trigger(t,e,this)})},triggerHandler:function(t,i){return this[0]?K.event.trigger(t,i,this[0],!0):e},toggle:function(t){var e=arguments,i=t.guid||K.guid++,n=0,r=function(i){var r=(K._data(this,"lastToggle"+t.guid)||0)%n;return K._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),e[r].apply(this,arguments)||!1};for(r.guid=i;e.length>n;)e[n++].guid=i;return this.click(r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){K.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},Me.test(e)&&(K.event.fixHooks[e]=K.event.keyHooks),De.test(e)&&(K.event.fixHooks[e]=K.event.mouseHooks)}),function(t,e){function i(t,e,i,n){i=i||[],e=e||C;var r,o,s,a,l=e.nodeType;if(1!==l&&9!==l)return[];if(!t||"string"!=typeof t)return i;if(s=x(e),!s&&!n&&(r=Y.exec(t)))if(a=r[1]){if(9===l){if(o=e.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&b(e,o)&&o.id===a)return i.push(o),i}else{if(r[2])return A.apply(i,D.call(e.getElementsByTagName(t),0)),i;if((a=r[3])&&ae&&e.getElementsByClassName)return A.apply(i,D.call(e.getElementsByClassName(a),0)),i}return f(t,e,i,n,s)}function n(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function r(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function o(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}function s(t,e,n,r){var o,s,a,l,h,u,c,p,d,f,m=!n&&e!==C,g=(m?"<s>":"")+t.replace(V,"$1<s>"),v=I[S][g];if(v)return r?0:D.call(v,0);for(h=t,u=[],p=0,d=y.preFilter,f=y.filter;h;){(!o||(s=$.exec(h)))&&(s&&(h=h.slice(s[0].length),a.selector=c),u.push(a=[]),c="",m&&(h=" "+h)),o=!1,(s=Z.exec(h))&&(c+=s[0],h=h.slice(s[0].length),o=a.push({part:s.pop().replace(V," "),string:s[0],captures:s}));for(l in f)!(s=ie[l].exec(h))||d[l]&&!(s=d[l](s,e,n))||(c+=s[0],h=h.slice(s[0].length),o=a.push({part:l,string:s.shift(),captures:s}));if(!o)break}return c&&(a.selector=c),r?h.length:h?i.error(t):D.call(I(g,u),0)}function a(t,e,i,n){var r=e.dir,o=M++;return t||(t=function(t){return t===i}),e.first?function(e){for(;e=e[r];)if(1===e.nodeType)return t(e)&&e}:n?function(e){for(;e=e[r];)if(1===e.nodeType&&t(e))return e}:function(e){for(var i,n=o+"."+m,s=n+"."+g;e=e[r];)if(1===e.nodeType){if((i=e[S])===s)return e.sizset;if("string"==typeof i&&0===i.indexOf(n)){if(e.sizset)return e}else{if(e[S]=s,t(e))return e.sizset=!0,e;e.sizset=!1}}}}function l(t,e){return t?function(i){var n=e(i);return n&&t(n===!0?i:n)}:e}function h(t,e,i){for(var n,r,o=0;n=t[o];o++)r=y.relative[n.part]?a(r,y.relative[n.part],e,i):l(r,y.filter[n.part].apply(null,n.captures.concat(e,i)));return r}function u(t){return function(e){for(var i,n=0;i=t[n];n++)if(i(e))return!0;return!1}}function c(t,e,n,r){for(var o=0,s=e.length;s>o;o++)i(t,e[o],n,r)}function p(t,e,n,r,o,s){var a,l=y.setFilters[e.toLowerCase()];return l||i.error(e),(t||!(a=o))&&c(t||"*",r,a=[],o),a.length>0?l(a,n,s):[]}function d(t,n,r,o){for(var s,a,l,h,u,d,f,m,g,v,y,_,x,b=0,w=t.length,L=ie.POS,k=RegExp("^"+L.source+"(?!"+R+")","i"),T=function(){for(var t=1,i=arguments.length-2;i>t;t++)arguments[t]===e&&(g[t]=e)};w>b;b++){for(s=t[b],a="",m=o,l=0,h=s.length;h>l;l++){if(u=s[l],d=u.string,"PSEUDO"===u.part)for(L.exec(""),f=0;g=L.exec(d);)v=!0,y=L.lastIndex=g.index+g[0].length,y>f&&(a+=d.slice(f,g.index),f=y,_=[n],Z.test(a)&&(m&&(_=m),m=o),(x=J.test(a))&&(a=a.slice(0,-5).replace(Z,"$&*"),f++),g.length>1&&g[0].replace(k,T),m=p(a,g[1],g[2],_,m,x)),a="";v||(a+=d),v=!1}a?Z.test(a)?c(a,m||[n],r,o):i(a,n,r,o?o.concat(m):m):A.apply(r,m)}return 1===w?r:i.uniqueSort(r)}function f(t,e,i,n,r){t=t.replace(V,"$1");var o,a,l,h,u,c,p,f,v,_=s(t,e,r),x=e.nodeType;if(ie.POS.test(t))return d(_,e,i,n);if(n)o=D.call(n,0);else if(1===_.length){if((u=D.call(_[0],0)).length>2&&"ID"===(c=u[0]).part&&9===x&&!r&&y.relative[u[1].part]){if(e=y.find.ID(c.captures[0].replace(ee,""),e,r)[0],!e)return i;t=t.slice(u.shift().string.length)}for(f=(_=X.exec(u[0].string))&&!_.index&&e.parentNode||e,p="",h=u.length-1;h>=0&&(c=u[h],v=c.part,p=c.string+p,!y.relative[v]);h--)if(y.order.test(v)){if(o=y.find[v](c.captures[0].replace(ee,""),f,r),null==o)continue;t=t.slice(0,t.length-p.length)+p.replace(ie[v],""),t||A.apply(i,D.call(o,0));break}}if(t)for(a=w(t,e,r),m=a.dirruns++,null==o&&(o=y.find.TAG("*",X.test(t)&&e.parentNode||e)),h=0;l=o[h];h++)g=a.runs++,a(l)&&i.push(l);return i}var m,g,v,y,_,x,b,w,L,k,T=!0,P="undefined",S=("sizcache"+Math.random()).replace(".",""),C=t.document,E=C.documentElement,M=0,D=[].slice,A=[].push,N=function(t,e){return t[S]=e||!0,t},O=function(){var t={},e=[];return N(function(i,n){return e.push(i)>y.cacheLength&&delete t[e.shift()],t[i]=n},t)},B=O(),I=O(),z=O(),R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=F.replace("w","w#"),H="([*^$|!~]?=)",j="\\["+R+"*("+F+")"+R+"*(?:"+H+R+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+R+"*\\]",W=":("+F+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+j+")|[^:]|\\\\.)*|.*))\\)|)",q=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",V=RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),$=RegExp("^"+R+"*,"+R+"*"),Z=RegExp("^"+R+"*([\\x20\\t\\r\\n\\f>+~])"+R+"*"),G=RegExp(W),Y=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,X=/[\x20\t\r\n\f]*[+~]/,J=/:not\($/,Q=/h\d/i,te=/input|select|textarea|button/i,ee=/\\(?!\\)/g,ie={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+j),PSEUDO:RegExp("^"+W),CHILD:RegExp("^:(only|nth|last|first)-child(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),POS:RegExp(q,"ig"),needsContext:RegExp("^"+R+"*[>+~]|"+q,"i")},ne=function(t){var e=C.createElement("div");try{return t(e)}catch(i){return!1}finally{e=null}},re=ne(function(t){return t.appendChild(C.createComment("")),!t.getElementsByTagName("*").length}),oe=ne(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==P&&"#"===t.firstChild.getAttribute("href")}),se=ne(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),ae=ne(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),le=ne(function(t){t.id=S+0,t.innerHTML="<a name='"+S+"'></a><div name='"+S+"'></div>",E.insertBefore(t,E.firstChild);var e=C.getElementsByName&&C.getElementsByName(S).length===2+C.getElementsByName(S+0).length;return v=!C.getElementById(S),E.removeChild(t),e});try{D.call(E.childNodes,0)[0].nodeType}catch(he){D=function(t){for(var e,i=[];e=this[t];t++)i.push(e);return i}}i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){return i(e,null,null,[t]).length>0},_=i.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n];n++)i+=_(e);return i},x=i.isXML=function x(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},b=i.contains=E.contains?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:E.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},i.attr=function(t,e){var i,n=x(t);return n||(e=e.toLowerCase()),y.attrHandle[e]?y.attrHandle[e](t):se||n?t.getAttribute(e):(i=t.getAttributeNode(e),i?"boolean"==typeof t[e]?t[e]?e:null:i.specified?i.value:null:null)},y=i.selectors={cacheLength:50,createPseudo:N,match:ie,order:RegExp("ID|TAG"+(le?"|NAME":"")+(ae?"|CLASS":"")),attrHandle:oe?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:v?function(t,e,i){if(typeof e.getElementById!==P&&!i){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}}:function(t,i,n){if(typeof i.getElementById!==P&&!n){var r=i.getElementById(t);return r?r.id===t||typeof r.getAttributeNode!==P&&r.getAttributeNode("id").value===t?[r]:e:[]}},TAG:re?function(t,i){return typeof i.getElementsByTagName!==P?i.getElementsByTagName(t):e}:function(t,e){var i=e.getElementsByTagName(t);if("*"===t){for(var n,r=[],o=0;n=i[o];o++)1===n.nodeType&&r.push(n);return r}return i},NAME:function(t,i){return typeof i.getElementsByName!==P?i.getElementsByName(name):e},CLASS:function(t,i,n){return typeof i.getElementsByClassName===P||n?e:i.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ee,""),t[3]=(t[4]||t[5]||"").replace(ee,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||i.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&i.error(t[0]),t},PSEUDO:function(t,e,i){var n,r;return ie.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(n=t[4])&&(G.test(n)&&(r=s(n,e,i,!0))&&(r=n.indexOf(")",n.length-r)-n.length)&&(n=n.slice(0,r),t[0]=t[0].slice(0,r)),t[2]=n),t.slice(0,3))}},filter:{ID:v?function(t){return t=t.replace(ee,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(ee,""),function(e){var i=typeof e.getAttributeNode!==P&&e.getAttributeNode("id");return i&&i.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(ee,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=B[S][t];return e||(e=B(t,RegExp("(^|"+R+")"+t+"("+R+"|$)"))),function(t){return e.test(t.className||typeof t.getAttribute!==P&&t.getAttribute("class")||"")}},ATTR:function(t,e,n){return e?function(r){var o=i.attr(r,t),s=o+"";if(null==o)return"!="===e;switch(e){case"=":return s===n;case"!=":return s!==n;case"^=":return n&&0===s.indexOf(n);case"*=":return n&&s.indexOf(n)>-1;case"$=":return n&&s.substr(s.length-n.length)===n;case"~=":return(" "+s+" ").indexOf(n)>-1;case"|=":return s===n||s.substr(0,n.length+1)===n+"-"}}:function(e){return null!=i.attr(e,t)}},CHILD:function(t,e,i,n){if("nth"===t){var r=M++;return function(t){var e,o,s=0,a=t;if(1===i&&0===n)return!0;if(e=t.parentNode,e&&(e[S]!==r||!t.sizset)){for(a=e.firstChild;a&&(1!==a.nodeType||(a.sizset=++s,a!==t));a=a.nextSibling);e[S]=r}return o=t.sizset-n,0===i?0===o:0===o%i&&o/i>=0}}return function(e){var i=e;switch(t){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===t)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;
return!0}}},PSEUDO:function(t,e,n,r){var o,s=y.pseudos[t]||y.pseudos[t.toLowerCase()];return s||i.error("unsupported pseudo: "+t),s[S]?s(e,n,r):s.length>1?(o=[t,t,"",e],function(t){return s(t,0,o)}):s}},pseudos:{not:N(function(t,e,i){var n=w(t.replace(V,"$1"),e,i);return function(t){return!n(t)}}),enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!y.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},contains:N(function(t){return function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),has:N(function(t){return function(e){return i(t,e).length>0}}),header:function(t){return Q.test(t.nodeName)},text:function(t){var e,i;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(i=t.getAttribute("type"))||i.toLowerCase()===e)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:r("submit"),reset:r("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return te.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return!(t!==e.activeElement||e.hasFocus&&!e.hasFocus()||!t.type&&!t.href)},active:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e,i){return i?t.slice(1):[t[0]]},last:function(t,e,i){var n=t.pop();return i?t:[n]},even:function(t,e,i){for(var n=[],r=i?1:0,o=t.length;o>r;r+=2)n.push(t[r]);return n},odd:function(t,e,i){for(var n=[],r=i?0:1,o=t.length;o>r;r+=2)n.push(t[r]);return n},lt:function(t,e,i){return i?t.slice(+e):t.slice(0,+e)},gt:function(t,e,i){return i?t.slice(0,+e+1):t.slice(+e+1)},eq:function(t,e,i){var n=t.splice(+e,1);return i?t:n}}},L=E.compareDocumentPosition?function(t,e){return t===e?(k=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return k=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,r=[],s=[],a=t.parentNode,l=e.parentNode,h=a;if(a===l)return o(t,e);if(!a)return-1;if(!l)return 1;for(;h;)r.unshift(h),h=h.parentNode;for(h=l;h;)s.unshift(h),h=h.parentNode;i=r.length,n=s.length;for(var u=0;i>u&&n>u;u++)if(r[u]!==s[u])return o(r[u],s[u]);return u===i?o(t,s[u],-1):o(r[u],e,1)},[0,0].sort(L),T=!k,i.uniqueSort=function(t){var e,i=1;if(k=T,t.sort(L),k)for(;e=t[i];i++)e===t[i-1]&&t.splice(i--,1);return t},i.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},w=i.compile=function(t,e,i){var n,r,o,a=z[S][t];if(a&&a.context===e)return a;for(n=s(t,e,i),r=0,o=n.length;o>r;r++)n[r]=h(n[r],e,i);return a=z(t,u(n)),a.context=e,a.runs=a.dirruns=0,a},C.querySelectorAll&&function(){var t,e=f,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[],a=[":active"],l=E.matchesSelector||E.mozMatchesSelector||E.webkitMatchesSelector||E.oMatchesSelector||E.msMatchesSelector;ne(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||o.push("\\["+R+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||o.push(":checked")}),ne(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&o.push("[*^$]="+R+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=o.length&&RegExp(o.join("|")),f=function(t,i,r,a,l){if(!(a||l||o&&o.test(t)))if(9===i.nodeType)try{return A.apply(r,D.call(i.querySelectorAll(t),0)),r}catch(h){}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var u,c,p,d=i.getAttribute("id"),f=d||S,m=X.test(t)&&i.parentNode||i;for(d?f=f.replace(n,"\\$&"):i.setAttribute("id",f),u=s(t,i,l),f="[id='"+f+"']",c=0,p=u.length;p>c;c++)u[c]=f+u[c].selector;try{return A.apply(r,D.call(m.querySelectorAll(u.join(",")),0)),r}catch(h){}finally{d||i.removeAttribute("id")}}return e(t,i,r,a,l)},l&&(ne(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),a.push(ie.PSEUDO.source,ie.POS.source,"!=")}catch(i){}}),a=RegExp(a.join("|")),i.matchesSelector=function(e,n){if(n=n.replace(r,"='$1']"),!(x(e)||a.test(n)||o&&o.test(n)))try{var s=l.call(e,n);if(s||t||e.document&&11!==e.document.nodeType)return s}catch(h){}return i(n,null,null,[e]).length>0})}(),y.setFilters.nth=y.setFilters.eq,y.filters=y.pseudos,i.attr=K.attr,K.find=i,K.expr=i.selectors,K.expr[":"]=K.expr.pseudos,K.unique=i.uniqueSort,K.text=i.getText,K.isXMLDoc=i.isXML,K.contains=i.contains}(t);var Oe=/Until$/,Be=/^(?:parents|prev(?:Until|All))/,Ie=/^.[^:#\[\.,]*$/,ze=K.expr.match.needsContext,Re={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(t){var e,i,n,r,o,s,a=this;if("string"!=typeof t)return K(t).filter(function(){for(e=0,i=a.length;i>e;e++)if(K.contains(a[e],this))return!0});for(s=this.pushStack("","find",t),e=0,i=this.length;i>e;e++)if(n=s.length,K.find(t,this[e],s),e>0)for(r=n;s.length>r;r++)for(o=0;n>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(t){var e,i=K(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(K.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(h(this,t,!1),"not",t)},filter:function(t){return this.pushStack(h(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?ze.test(t)?K(t,this.context).index(this[0])>=0:K.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=ze.test(t)||"string"!=typeof t?K(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==e&&11!==i.nodeType;){if(s?s.index(i)>-1:K.find.matchesSelector(i,t)){o.push(i);break}i=i.parentNode}return o=o.length>1?K.unique(o):o,this.pushStack(o,"closest",t)},index:function(t){return t?"string"==typeof t?K.inArray(this[0],K(t)):K.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?K(t,e):K.makeArray(t&&t.nodeType?[t]:t),n=K.merge(this.get(),i);return this.pushStack(a(i[0])||a(n[0])?n:K.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),K.fn.andSelf=K.fn.addBack,K.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return K.dir(t,"parentNode")},parentsUntil:function(t,e,i){return K.dir(t,"parentNode",i)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return K.dir(t,"nextSibling")},prevAll:function(t){return K.dir(t,"previousSibling")},nextUntil:function(t,e,i){return K.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return K.dir(t,"previousSibling",i)},siblings:function(t){return K.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return K.sibling(t.firstChild)},contents:function(t){return K.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:K.merge([],t.childNodes)}},function(t,e){K.fn[t]=function(i,n){var r=K.map(this,e,i);return Oe.test(t)||(n=i),n&&"string"==typeof n&&(r=K.filter(n,r)),r=this.length>1&&!Re[t]?K.unique(r):r,this.length>1&&Be.test(t)&&(r=r.reverse()),this.pushStack(r,t,Z.call(arguments).join(","))}}),K.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?K.find.matchesSelector(e[0],t)?[e[0]]:[]:K.find.matches(t,e)},dir:function(t,i,n){for(var r=[],o=t[i];o&&9!==o.nodeType&&(n===e||1!==o.nodeType||!K(o).is(n));)1===o.nodeType&&r.push(o),o=o[i];return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ue=/ jQuery\d+="(?:null|\d+)"/g,He=/^\s+/,je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,qe=/<tbody/i,Ve=/<|&#?\w+;/,$e=/<(?:script|style|link)/i,Ze=/<(?:script|object|embed|option|style)/i,Ge=RegExp("<(?:"+Fe+")[\\s/>]","i"),Ye=/^(?:checkbox|radio)$/,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Je=/\/(java|ecma)script/i,Ke=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ti=u(H),ei=ti.appendChild(H.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,K.support.htmlSerialize||(Qe._default=[1,"X<div>","</div>"]),K.fn.extend({text:function(t){return K.access(this,function(t){return t===e?K.text(this):this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(K.isFunction(t))return this.each(function(e){K(this).wrapAll(t.call(this,e))});if(this[0]){var e=K(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return K.isFunction(t)?this.each(function(e){K(this).wrapInner(t.call(this,e))}):this.each(function(){var e=K(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=K.isFunction(t);return this.each(function(i){K(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=K.clean(arguments);return this.pushStack(K.merge(t,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=K.clean(arguments);return this.pushStack(K.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||K.filter(t,[i]).length)&&(e||1!==i.nodeType||(K.cleanData(i.getElementsByTagName("*")),K.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&K.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return K.clone(this,t,e)})},html:function(t){return K.access(this,function(t){var i=this[0]||{},n=0,r=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Ue,""):e;if(!("string"!=typeof t||$e.test(t)||!K.support.htmlSerialize&&Ge.test(t)||!K.support.leadingWhitespace&&He.test(t)||Qe[(We.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(je,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(K.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(o){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return a(this[0])?this.length?this.pushStack(K(K.isFunction(t)?t():t),"replaceWith",t):this:K.isFunction(t)?this.each(function(e){var i=K(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=K(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;K(this).remove(),e?K(e).before(t):K(i).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){t=[].concat.apply([],t);var r,o,s,a,l=0,h=t[0],u=[],p=this.length;if(!K.support.checkClone&&p>1&&"string"==typeof h&&Xe.test(h))return this.each(function(){K(this).domManip(t,i,n)});if(K.isFunction(h))return this.each(function(r){var o=K(this);t[0]=h.call(this,r,i?o.html():e),o.domManip(t,i,n)});if(this[0]){if(r=K.buildFragment(t,this,u),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(i=i&&K.nodeName(o,"tr"),a=r.cacheable||p-1;p>l;l++)n.call(i&&K.nodeName(this[l],"table")?c(this[l],"tbody"):this[l],l===a?s:K.clone(s,!0,!0));s=o=null,u.length&&K.each(u,function(t,e){e.src?K.ajax?K.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):K.error("no ajax"):K.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ke,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),K.buildFragment=function(t,i,n){var r,o,s,a=t[0];return i=i||H,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,!(1===t.length&&"string"==typeof a&&512>a.length&&i===H&&"<"===a.charAt(0))||Ze.test(a)||!K.support.checkClone&&Xe.test(a)||!K.support.html5Clone&&Ge.test(a)||(o=!0,r=K.fragments[a],s=r!==e),r||(r=i.createDocumentFragment(),K.clean(t,i,r,n),o&&(K.fragments[a]=s&&r)),{fragment:r,cacheable:o}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){K.fn[t]=function(i){var n,r=0,o=[],s=K(i),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[e](this[0]),this;for(;a>r;r++)n=(r>0?this.clone(!0):this).get(),K(s[r])[e](n),o=o.concat(n);return this.pushStack(o,t,s.selector)}}),K.extend({clone:function(t,e,i){var n,r,o,s;if(K.support.html5Clone||K.isXMLDoc(t)||!Ge.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(ei.innerHTML=t.outerHTML,ei.removeChild(s=ei.firstChild)),!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||K.isXMLDoc(t)))for(d(t,s),n=f(t),r=f(s),o=0;n[o];++o)r[o]&&d(n[o],r[o]);if(e&&(p(t,s),i))for(n=f(t),r=f(s),o=0;n[o];++o)p(n[o],r[o]);return n=r=null,s},clean:function(t,i,n,r){var o,s,a,l,h,c,p,d,f,g,v,y=i===H&&ti,_=[];for(i&&i.createDocumentFragment!==e||(i=H),o=0;null!=(a=t[o]);o++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Ve.test(a)){for(y=y||u(i),p=i.createElement("div"),y.appendChild(p),a=a.replace(je,"<$1></$2>"),l=(We.exec(a)||["",""])[1].toLowerCase(),h=Qe[l]||Qe._default,c=h[0],p.innerHTML=h[1]+a+h[2];c--;)p=p.lastChild;if(!K.support.tbody)for(d=qe.test(a),f="table"!==l||d?"<table>"!==h[1]||d?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,s=f.length-1;s>=0;--s)K.nodeName(f[s],"tbody")&&!f[s].childNodes.length&&f[s].parentNode.removeChild(f[s]);!K.support.leadingWhitespace&&He.test(a)&&p.insertBefore(i.createTextNode(He.exec(a)[0]),p.firstChild),a=p.childNodes,p.parentNode.removeChild(p)}else a=i.createTextNode(a);a.nodeType?_.push(a):K.merge(_,a)}if(p&&(a=p=y=null),!K.support.appendChecked)for(o=0;null!=(a=_[o]);o++)K.nodeName(a,"input")?m(a):a.getElementsByTagName!==e&&K.grep(a.getElementsByTagName("input"),m);if(n)for(g=function(t){return!t.type||Je.test(t.type)?r?r.push(t.parentNode?t.parentNode.removeChild(t):t):n.appendChild(t):e},o=0;null!=(a=_[o]);o++)K.nodeName(a,"script")&&g(a)||(n.appendChild(a),a.getElementsByTagName!==e&&(v=K.grep(K.merge([],a.getElementsByTagName("script")),g),_.splice.apply(_,[o+1,0].concat(v)),o+=v.length));return _},cleanData:function(t,e){for(var i,n,r,o,s=0,a=K.expando,l=K.cache,h=K.support.deleteExpando,u=K.event.special;null!=(r=t[s]);s++)if((e||K.acceptData(r))&&(n=r[a],i=n&&l[n])){if(i.events)for(o in i.events)u[o]?K.event.remove(r,o):K.removeEvent(r,o,i.handle);l[n]&&(delete l[n],h?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,K.deletedIds.push(n))}}}),function(){var t,e;K.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||0>t.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=K.uaMatch(W.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),K.browser=e,K.sub=function(){function t(e,i){return new t.fn.init(e,i)}K.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof K&&!(n instanceof t)&&(n=t(n)),K.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(H);return t}}();var ii,ni,ri,oi=/alpha\([^)]*\)/i,si=/opacity=([^)]*)/,ai=/^(top|right|bottom|left)$/,li=/^(none|table(?!-c[ea]).+)/,hi=/^margin/,ui=RegExp("^("+Q+")(.*)$","i"),ci=RegExp("^("+Q+")(?!px)[a-z%]+$","i"),pi=RegExp("^([-+])=("+Q+")","i"),di={},fi={position:"absolute",visibility:"hidden",display:"block"},mi={letterSpacing:0,fontWeight:400},gi=["Top","Right","Bottom","Left"],vi=["Webkit","O","Moz","ms"],yi=K.fn.toggle;K.fn.extend({css:function(t,i){return K.access(this,function(t,i,n){return n!==e?K.style(t,i,n):K.css(t,i)},t,i,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t,e){var i="boolean"==typeof t;return K.isFunction(t)&&K.isFunction(e)?yi.apply(this,arguments):this.each(function(){(i?t:v(this))?K(this).show():K(this).hide()})}}),K.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ii(t,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=K.camelCase(i),h=t.style;if(i=K.cssProps[l]||(K.cssProps[l]=g(h,l)),a=K.cssHooks[i]||K.cssHooks[l],n===e)return a&&"get"in a&&(o=a.get(t,!1,r))!==e?o:h[i];if(s=typeof n,"string"===s&&(o=pi.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(K.css(t,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||K.cssNumber[l]||(n+="px"),a&&"set"in a&&(n=a.set(t,n,r))===e)))try{h[i]=n}catch(u){}}},css:function(t,i,n,r){var o,s,a,l=K.camelCase(i);return i=K.cssProps[l]||(K.cssProps[l]=g(t.style,l)),a=K.cssHooks[i]||K.cssHooks[l],a&&"get"in a&&(o=a.get(t,!0,r)),o===e&&(o=ii(t,i)),"normal"===o&&i in mi&&(o=mi[i]),n||r!==e?(s=parseFloat(o),n||K.isNumeric(s)?s||0:o):o},swap:function(t,e,i){var n,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];n=i.call(t);for(r in e)t.style[r]=o[r];return n}}),t.getComputedStyle?ii=function(e,i){var n,r,o,s,a=t.getComputedStyle(e,null),l=e.style;return a&&(n=a[i],""!==n||K.contains(e.ownerDocument,e)||(n=K.style(e,i)),ci.test(n)&&hi.test(i)&&(r=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=a.width,l.width=r,l.minWidth=o,l.maxWidth=s)),n}:H.documentElement.currentStyle&&(ii=function(t,e){var i,n,r=t.currentStyle&&t.currentStyle[e],o=t.style;return null==r&&o&&o[e]&&(r=o[e]),ci.test(r)&&!ai.test(e)&&(i=o.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),o.left="fontSize"===e?"1em":r,r=o.pixelLeft+"px",o.left=i,n&&(t.runtimeStyle.left=n)),""===r?"auto":r}),K.each(["height","width"],function(t,i){K.cssHooks[i]={get:function(t,n,r){return n?0===t.offsetWidth&&li.test(ii(t,"display"))?K.swap(t,fi,function(){return b(t,i,r)}):b(t,i,r):e},set:function(t,e,n){return _(t,e,n?x(t,i,n,K.support.boxSizing&&"border-box"===K.css(t,"boxSizing")):0)}}}),K.support.opacity||(K.cssHooks.opacity={get:function(t,e){return si.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=K.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===K.trim(o.replace(oi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=oi.test(o)?o.replace(oi,r):o+" "+r)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(t,i){return K.swap(t,{display:"inline-block"},function(){return i?ii(t,"marginRight"):e})}}),!K.support.pixelPosition&&K.fn.position&&K.each(["top","left"],function(t,e){K.cssHooks[e]={get:function(t,i){if(i){var n=ii(t,e);return ci.test(n)?K(t).position()[e]+"px":n}}}})}),K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!K.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ii(t,"display"))},K.expr.filters.visible=function(t){return!K.expr.filters.hidden(t)}),K.each({margin:"",padding:"",border:"Width"},function(t,e){K.cssHooks[t+e]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],o={};for(n=0;4>n;n++)o[t+gi[n]+e]=r[n]||r[n-2]||r[0];return o}},hi.test(t)||(K.cssHooks[t+e].set=_)});var _i=/%20/g,xi=/\[\]$/,bi=/\r?\n/g,wi=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Li=/^(?:select|textarea)/i;K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Li.test(this.nodeName)||wi.test(this.type))}).map(function(t,e){var i=K(this).val();return null==i?null:K.isArray(i)?K.map(i,function(t){return{name:e.name,value:t.replace(bi,"\r\n")}}):{name:e.name,value:i.replace(bi,"\r\n")}}).get()}}),K.param=function(t,i){var n,r=[],o=function(t,e){e=K.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(t)||t.jquery&&!K.isPlainObject(t))K.each(t,function(){o(this.name,this.value)});else for(n in t)L(n,t[n],i,o);return r.join("&").replace(_i,"+")};var ki,Ti,Pi=/#.*$/,Si=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ci=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ei=/^(?:GET|HEAD)$/,Mi=/^\/\//,Di=/\?/,Ai=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ni=/([?&])_=[^&]*/,Oi=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bi=K.fn.load,Ii={},zi={},Ri=["*/"]+["*"];try{ki=j.href}catch(Fi){ki=H.createElement("a"),ki.href="",ki=ki.href}Ti=Oi.exec(ki.toLowerCase())||[],K.fn.load=function(t,i,n){if("string"!=typeof t&&Bi)return Bi.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),K.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(o="POST"),K.ajax({url:t,type:o,dataType:"html",data:i,complete:function(t,e){n&&a.each(n,s||[t.responseText,e,t])}}).done(function(t){s=arguments,a.html(r?K("<div>").append(t.replace(Ai,"")).find(r):t)}),this},K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){K.fn[e]=function(t){return this.on(e,t)}}),K.each(["get","post"],function(t,i){K[i]=function(t,n,r,o){return K.isFunction(n)&&(o=o||r,r=n,n=e),K.ajax({type:i,url:t,data:n,success:r,dataType:o})}}),K.extend({getScript:function(t,i){return K.get(t,e,i,"script")},getJSON:function(t,e,i){return K.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?P(t,K.ajaxSettings):(e=t,t=K.ajaxSettings),P(t,e),t},ajaxSettings:{url:ki,isLocal:Ci.test(Ti[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ri},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:k(Ii),ajaxTransport:k(zi),ajax:function(t,i){function n(t,i,n,s){var h,c,y,_,b,L=i;2!==x&&(x=2,l&&clearTimeout(l),a=e,o=s||"",w.readyState=t>0?4:0,n&&(_=S(p,w,n)),t>=200&&300>t||304===t?(p.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(K.lastModified[r]=b),b=w.getResponseHeader("Etag"),b&&(K.etag[r]=b)),304===t?(L="notmodified",h=!0):(h=C(p,_),L=h.state,c=h.data,y=h.error,h=!y)):(y=L,(!L||t)&&(L="error",0>t&&(t=0))),w.status=t,w.statusText=""+(i||L),h?m.resolveWith(d,[c,L,w]):m.rejectWith(d,[w,L,y]),w.statusCode(v),v=e,u&&f.trigger("ajax"+(h?"Success":"Error"),[w,p,h?c:y]),g.fireWith(d,[w,L]),u&&(f.trigger("ajaxComplete",[w,p]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var r,o,s,a,l,h,u,c,p=K.ajaxSetup({},i),d=p.context||p,f=d!==p&&(d.nodeType||d instanceof K)?K(d):K.event,m=K.Deferred(),g=K.Callbacks("once memory"),v=p.statusCode||{},y={},_={},x=0,b="canceled",w={readyState:0,setRequestHeader:function(t,e){if(!x){var i=t.toLowerCase();t=_[i]=_[i]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(t){var i;if(2===x){if(!s)for(s={};i=Si.exec(o);)s[i[1].toLowerCase()]=i[2];i=s[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return x||(p.mimeType=t),this},abort:function(t){return t=t||b,a&&a.abort(t),n(0,t),this}};if(m.promise(w),w.success=w.done,w.error=w.fail,w.complete=g.add,w.statusCode=function(t){if(t){var e;if(2>x)for(e in t)v[e]=[v[e],t[e]];else e=t[w.status],w.always(e)}return this},p.url=((t||p.url)+"").replace(Pi,"").replace(Mi,Ti[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(ee),null==p.crossDomain&&(h=Oi.exec(p.url.toLowerCase()),p.crossDomain=!(!h||h[1]==Ti[1]&&h[2]==Ti[2]&&(h[3]||("http:"===h[1]?80:443))==(Ti[3]||("http:"===Ti[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),T(Ii,p,i,w),2===x)return w;if(u=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Ei.test(p.type),u&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Di.test(p.url)?"&":"?")+p.data,delete p.data),r=p.url,p.cache===!1)){var L=K.now(),k=p.url.replace(Ni,"$1_="+L);p.url=k+(k===p.url?(Di.test(p.url)?"&":"?")+"_="+L:"")}(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(r=r||p.url,K.lastModified[r]&&w.setRequestHeader("If-Modified-Since",K.lastModified[r]),K.etag[r]&&w.setRequestHeader("If-None-Match",K.etag[r])),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ri+"; q=0.01":""):p.accepts["*"]);for(c in p.headers)w.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(p.beforeSend.call(d,w,p)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](p[c]);if(a=T(zi,p,i,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},p.timeout));try{x=1,a.send(y,n)}catch(P){if(!(2>x))throw P;n(-1,P)}}else n(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Ui=[],Hi=/\?/,ji=/(=)\?(?=&|$)|\?\?/,Wi=K.now();K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ui.pop()||K.expando+"_"+Wi++;return this[t]=!0,t}}),K.ajaxPrefilter("json jsonp",function(i,n,r){var o,s,a,l=i.data,h=i.url,u=i.jsonp!==!1,c=u&&ji.test(h),p=u&&!c&&"string"==typeof l&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&ji.test(l);return"jsonp"===i.dataTypes[0]||c||p?(o=i.jsonpCallback=K.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,s=t[o],c?i.url=h.replace(ji,"$1"+o):p?i.data=l.replace(ji,"$1"+o):u&&(i.url+=(Hi.test(h)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return a||K.error(o+" was not called"),a[0]},i.dataTypes[0]="json",t[o]=function(){a=arguments},r.always(function(){t[o]=s,i[o]&&(i.jsonpCallback=n.jsonpCallback,Ui.push(o)),a&&K.isFunction(s)&&s(a[0]),a=s=e}),"script"):e}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return K.globalEval(t),t}}}),K.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),K.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(r,o){i=H.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,r||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var qi,Vi=t.ActiveXObject?function(){for(var t in qi)qi[t](0,1)}:!1,$i=0;K.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&E()||M()}:E,function(t){K.extend(K.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(i){if(!i.crossDomain||K.support.cors){var n;return{send:function(r,o){var s,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(h){}l.send(i.hasContent&&i.data||null),n=function(t,r){var a,h,u,c,p;try{if(n&&(r||4===l.readyState))if(n=e,s&&(l.onreadystatechange=K.noop,Vi&&delete qi[s]),r)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),c={},p=l.responseXML,p&&p.documentElement&&(c.xml=p);try{c.text=l.responseText}catch(t){}try{h=l.statusText}catch(d){h=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=c.text?200:404}}catch(f){r||o(-1,f)}c&&o(a,h,c,u)},i.async?4===l.readyState?setTimeout(n,0):(s=++$i,Vi&&(qi||(qi={},K(t).unload(Vi)),qi[s]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var Zi,Gi,Yi=/^(?:toggle|show|hide)$/,Xi=RegExp("^(?:([-+])=|)("+Q+")([a-z%]*)$","i"),Ji=/queueHooks$/,Ki=[B],Qi={"*":[function(t,e){var i,n,r,o=this.createTween(t,e),s=Xi.exec(e),a=o.cur(),l=+a||0,h=1;if(s){if(i=+s[2],n=s[3]||(K.cssNumber[t]?"":"px"),"px"!==n&&l){l=K.css(o.elem,t,!0)||i||1;do r=h=h||".5",l/=h,K.style(o.elem,t,l+n),h=o.cur()/a;while(1!==h&&h!==r)}o.unit=n,o.start=l,o.end=s[1]?l+(s[1]+1)*i:i}return o}]};K.Animation=K.extend(N,{tweener:function(t,e){K.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],Qi[i]=Qi[i]||[],Qi[i].unshift(e)},prefilter:function(t,e){e?Ki.unshift(t):Ki.push(t)}}),K.Tween=I,I.prototype={constructor:I,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(K.cssNumber[i]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,i=I.propHooks[this.prop];return this.pos=e=this.options.duration?K.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=K.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){K.fx.step[t.prop]?K.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[K.cssProps[t.prop]]||K.cssHooks[t.prop])?K.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},K.each(["toggle","show","hide"],function(t,e){var i=K.fn[e];K.fn[e]=function(n,r,o){return null==n||"boolean"==typeof n||!t&&K.isFunction(n)&&K.isFunction(r)?i.apply(this,arguments):this.animate(z(e,!0),n,r,o)
}}),K.fn.extend({fadeTo:function(t,e,i,n){return this.filter(v).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=K.isEmptyObject(t),o=K.speed(e,i,n),s=function(){var e=N(this,K.extend({},t),o);r&&e.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,i,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=K.timers,s=K._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Ji.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&K.dequeue(this,t)})}}),K.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){K.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),K.speed=function(t,e,i){var n=t&&"object"==typeof t?K.extend({},t):{complete:i||!i&&e||K.isFunction(t)&&t,duration:t,easing:i&&e||e&&!K.isFunction(e)&&e};return n.duration=K.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in K.fx.speeds?K.fx.speeds[n.duration]:K.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){K.isFunction(n.old)&&n.old.call(this),n.queue&&K.dequeue(this,n.queue)},n},K.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},K.timers=[],K.fx=I.prototype.init,K.fx.tick=function(){for(var t,e=K.timers,i=0;e.length>i;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||K.fx.stop()},K.fx.timer=function(t){t()&&K.timers.push(t)&&!Gi&&(Gi=setInterval(K.fx.tick,K.fx.interval))},K.fx.interval=13,K.fx.stop=function(){clearInterval(Gi),Gi=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fx.step={},K.expr&&K.expr.filters&&(K.expr.filters.animated=function(t){return K.grep(K.timers,function(e){return t===e.elem}).length});var tn=/^(?:body|html)$/i;return K.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){K.offset.setOffset(this,t,e)});var i,n,r,o,s,a,l,h,u,c,p=this[0],d=p&&p.ownerDocument;if(d)return(r=d.body)===p?K.offset.bodyOffset(p):(n=d.documentElement,K.contains(n,p)?(i=p.getBoundingClientRect(),o=R(d),s=n.clientTop||r.clientTop||0,a=n.clientLeft||r.clientLeft||0,l=o.pageYOffset||n.scrollTop,h=o.pageXOffset||n.scrollLeft,u=i.top+l-s,c=i.left+h-a,{top:u,left:c}):{top:0,left:0})},K.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(K.css(t,"marginTop"))||0,i+=parseFloat(K.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=K.css(t,"position");"static"===n&&(t.style.position="relative");var r,o,s=K(t),a=s.offset(),l=K.css(t,"top"),h=K.css(t,"left"),u=("absolute"===n||"fixed"===n)&&K.inArray("auto",[l,h])>-1,c={},p={};u?(p=s.position(),r=p.top,o=p.left):(r=parseFloat(l)||0,o=parseFloat(h)||0),K.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(c.top=e.top-a.top+r),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):s.css(c)}},K.fn.extend({position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),i=this.offset(),n=tn.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(K.css(t,"marginTop"))||0,i.left-=parseFloat(K.css(t,"marginLeft"))||0,n.top+=parseFloat(K.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(K.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||H.body;t&&!tn.test(t.nodeName)&&"static"===K.css(t,"position");)t=t.offsetParent;return t||H.body})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);K.fn[t]=function(r){return K.access(this,function(t,r,o){var s=R(t);return o===e?s?i in s?s[i]:s.document.documentElement[r]:t[r]:(s?s.scrollTo(n?K(s).scrollLeft():o,n?o:K(s).scrollTop()):t[r]=o,e)},t,r,arguments.length,null)}}),K.each({Height:"height",Width:"width"},function(t,i){K.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,r){K.fn[r]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return K.access(this,function(i,n,r){var o;return K.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+t],o["scroll"+t],i.body["offset"+t],o["offset"+t],o["client"+t])):r===e?K.css(i,n,r,a):K.style(i,n,r,a)},i,s?r:e,s,null)}})}),t.jQuery=t.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K}),K}(window)})},{}],14:[function(t,e,i){(function(){var e,n=this,r=n.Backbone,o=[],s=o.push,a=o.slice,l=o.splice;e=i!==void 0?i:n.Backbone={},e.VERSION="1.0.0";var h=n._;h||void 0===t||(h=t("underscore")),e.$=n.jQuery||n.Zepto||n.ender||n.$,e.noConflict=function(){return n.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var u=e.Events={on:function(t,e,i){if(!p(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!p(this,"once",t,[e,i])||!e)return this;var n=this,r=h.once(function(){n.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,i)},off:function(t,e,i){var n,r,o,s,a,l,u,c;if(!this._events||!p(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(s=t?[t]:h.keys(this._events),a=0,l=s.length;l>a;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=n=[],e||i)for(u=0,c=o.length;c>u;u++)r=o[u],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&n.push(r);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!p(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&d(i,e),n&&d(n,arguments),this},stopListening:function(t,e,i){var n=this._listeners;if(!n)return this;var r=!e&&!i;"object"==typeof e&&(i=this),t&&((n={})[t._listenerId]=t);for(var o in n)n[o].off(e,i,this),r&&delete this._listeners[o];return this}},c=/\s+/,p=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)t[e].apply(t,[r,i[r]].concat(n));return!1}if(c.test(i)){for(var o=i.split(c),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(n));return!1}return!0},d=function(t,e){var i,n=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;r>++n;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;r>++n;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;r>++n;)(i=t[n]).callback.call(i.ctx,o,s);return;case 3:for(;r>++n;)(i=t[n]).callback.call(i.ctx,o,s,a);return;default:for(;r>++n;)(i=t[n]).callback.apply(i.ctx,e)}},f={listenTo:"on",listenToOnce:"once"};h.each(f,function(t,e){u[e]=function(e,i,n){var r=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=h.uniqueId("l"));return r[o]=e,"object"==typeof i&&(n=this),e[t](i,n,this),this}}),u.bind=u.on,u.unbind=u.off,h.extend(e,u);var m=e.Model=function(t,e){var i,n=t||{};e||(e={}),this.cid=h.uniqueId("c"),this.attributes={},h.extend(this,h.pick(e,g)),e.parse&&(n=this.parse(n,e)||{}),(i=h.result(this,"defaults"))&&(n=h.defaults({},n,i)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},g=["url","urlRoot","collection"];h.extend(m.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return h.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var n,r,o,s,a,l,u,c;if(null==t)return this;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;o=i.unset,a=i.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=h.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(n in r)e=r[n],h.isEqual(c[n],e)||s.push(n),h.isEqual(u[n],e)?delete this.changed[n]:this.changed[n]=e,o?delete c[n]:c[n]=e;if(!a){s.length&&(this._pending=!0);for(var p=0,d=s.length;d>p;p++)this.trigger("change:"+s[p],this,c[s[p]],i)}if(l)return this;if(!a)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,h.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,h.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!h.isEmpty(this.changed):h.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?h.clone(this.changed):!1;var e,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var r in t)h.isEqual(n[r],e=t[r])||((i||(i={}))[r]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(t){t=t?h.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),e.trigger("sync",e,n,t),void 0):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,i){var n,r,o,s=this.attributes;if(null==t||"object"==typeof t?(n=t,i=e):(n={})[t]=e,!(!n||i&&i.wait||this.set(n,i)))return!1;if(i=h.extend({validate:!0},i),!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=h.extend({},s,n)),void 0===i.parse&&(i.parse=!0);var a=this,l=i.success;return i.success=function(t){a.attributes=s;var e=a.parse(t,i);return i.wait&&(e=h.extend(n||{},e)),h.isObject(e)&&!a.set(e,i)?!1:(l&&l(a,t,i),a.trigger("sync",a,t,i),void 0)},F(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"===r&&(i.attrs=n),o=this.sync(r,this,i),n&&i.wait&&(this.attributes=s),o},destroy:function(t){t=t?h.clone(t):{};var e=this,i=t.success,n=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&n(),i&&i(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;F(this,t);var r=this.sync("delete",this,t);return t.wait||n(),r},url:function(){var t=h.result(this,"urlRoot")||h.result(this.collection,"url")||R();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},h.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=h.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,h.extend(e||{},{validationError:i})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];h.each(v,function(t){m.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),h[t].apply(h,e)}});var y=e.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,h.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},x={add:!0,merge:!1,remove:!1};h.extend(y.prototype,u,{model:m,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,h.defaults(e||{},x))},remove:function(t,e){t=h.isArray(t)?t.slice():[t],e||(e={});var i,n,r,o;for(i=0,n=t.length;n>i;i++)o=this.get(t[i]),o&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o));return this},set:function(t,e){e=h.defaults(e||{},_),e.parse&&(t=this.parse(t,e)),h.isArray(t)||(t=t?[t]:[]);var i,n,r,o,a,u=e.at,c=this.comparator&&null==u&&e.sort!==!1,p=h.isString(this.comparator)?this.comparator:null,d=[],f=[],m={};for(i=0,n=t.length;n>i;i++)(r=this._prepareModel(t[i],e))&&((o=this.get(r))?(e.remove&&(m[o.cid]=!0),e.merge&&(o.set(r.attributes,e),c&&!a&&o.hasChanged(p)&&(a=!0))):e.add&&(d.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(e.remove){for(i=0,n=this.length;n>i;++i)m[(r=this.models[i]).cid]||f.push(r);f.length&&this.remove(f,e)}if(d.length&&(c&&(a=!0),this.length+=d.length,null!=u?l.apply(this.models,[u,0].concat(d)):s.apply(this.models,d)),a&&this.sort({silent:!0}),e.silent)return this;for(i=0,n=d.length;n>i;i++)(r=d[i]).trigger("add",r,this,e);return a&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),this.add(t,h.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,h.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,h.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return h.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return t||(t={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,i){e||(e=this.comparator);var n=h.isFunction(e)?e:function(t){return t.get(e)};return h.sortedIndex(this.models,t,n,i)},pluck:function(t){return h.invoke(this.models,"get",t)},fetch:function(t){t=t?h.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?h.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,n=e.success;return e.success=function(r){e.wait&&i.add(t,e),n&&n(t,r,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof m)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return i._validate(t,e)?i:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(b,function(t){y.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),h[t].apply(h,e)}});var w=["groupBy","countBy","sortBy"];h.each(w,function(t){y.prototype[t]=function(e,i){var n=h.isFunction(e)?e:function(t){return t.get(e)};return h[t](this.models,n,i)}});var L=e.View=function(t){this.cid=h.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];h.extend(L.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=h.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(h.isFunction(i)||(i=this[t[e]]),i){var n=e.match(k),r=n[1],o=n[2];i=h.bind(i,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,i):this.$el.on(r,o,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=h.extend({},h.result(this,"options"),t)),h.extend(this,h.pick(t,T)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var t=h.extend({},h.result(this,"attributes"));this.id&&(t.id=h.result(this,"id")),this.className&&(t["class"]=h.result(this,"className"));var i=e.$("<"+h.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,n){var r=P[t];h.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:r,dataType:"json"};if(n.url||(o.url=h.result(i,"url")||R()),null!=n.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",n.emulateJSON&&(o.data._method=r);var s=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===o.type||n.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=n.xhr=e.ajax(h.extend(o,n));return i.trigger("request",i,a,n),a};var P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,M=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(S.prototype,u,{initialize:function(){},route:function(t,i,n){h.isRegExp(t)||(t=this._routeToRegExp(t)),h.isFunction(i)&&(n=i,i=""),n||(n=this[i]);var r=this;return e.history.route(t,function(o){var s=r._extractParameters(t,o);n&&n.apply(r,s),r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),e.history.trigger("route",r,i,s)}),this},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var t,e=h.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(C,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/]+)"}).replace(M,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return h.map(i,function(t){return t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,B=/msie [\w.]+/,I=/\/$/;A.started=!1,h.extend(A.prototype,u,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(I,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(N,"")},start:function(t){if(A.started)throw Error("Backbone.history has already been started");A.started=!0,this.options=h.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),n=document.documentMode,r=B.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(O,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace(N,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),i=h.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return i},navigate:function(t,e){if(!A.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new A;var z=function(t,e){var i,n=this;i=t&&h.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},h.extend(i,n,e);var r=function(){this.constructor=i};return r.prototype=n.prototype,i.prototype=new r,t&&h.extend(i.prototype,t),i.__super__=n.prototype,i};m.extend=y.extend=S.extend=L.extend=A.extend=z;var R=function(){throw Error('A "url" property or function must be specified')},F=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}}}).call()},{underscore:15}],18:[function(t,e){var i=t("./handlebars/base"),n=t("./handlebars/utils"),r=t("./handlebars/compiler"),o=t("./handlebars/runtime"),s=function(){var t=i.create();return n.attach(t),r.attach(t),o.attach(t),t},a=s();if(a.create=s,e.exports=a,t.extensions){var l=function(e,i){var n=t("fs"),r=n.readFileSync(i,"utf8");e.exports=a.compile(r)};t.extensions[".handlebars"]=l,t.extensions[".hbs"]=l}},{"./handlebars/base":21,"./handlebars/compiler":24,"./handlebars/runtime":23,"./handlebars/utils":22,fs:20}],20:[function(){},{}],21:[function(t,e){e.exports.create=function(){var t={};t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var e=Object.prototype.toString,i="[object Function]",n="[object Object]";return t.registerHelper=function(i,r,o){if(e.call(i)===n){if(o||r)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,i)}else o&&(r.not=o),this.helpers[i]=r},t.registerPartial=function(i,r){e.call(i)===n?t.Utils.extend(this.partials,i):this.partials[i]=r},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return void 0;throw Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(n,r){var o=r.inverse||function(){},s=r.fn,a=e.call(n);return a===i&&(n=n.call(this)),n===!0?s(this):n===!1||null==n?o(this):"[object Array]"===a?n.length>0?t.helpers.each(n,r):o(this):s(n)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var i=new t.K;return t.K.prototype=null,i},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,i){if(e>=t.logger.level){var n=t.logger.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,i)}}},t.log=function(e,i){t.logger.log(e,i)},t.registerHelper("each",function(n,r){var o,s=r.fn,a=r.inverse,l=0,h="",u=e.call(n);if(u===i&&(n=n.call(this)),r.data&&(o=t.createFrame(r.data)),n&&"object"==typeof n)if(n instanceof Array)for(var c=n.length;c>l;l++)o&&(o.index=l),h+=s(n[l],{data:o});else for(var p in n)n.hasOwnProperty(p)&&(o&&(o.key=p),h+=s(n[p],{data:o}),l++);return 0===l&&(h=a(this)),h}),t.registerHelper("if",function(n,r){var o=e.call(n);return o===i&&(n=n.call(this)),!n||t.Utils.isEmpty(n)?r.inverse(this):r.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn})}),t.registerHelper("with",function(n,r){var o=e.call(n);return o===i&&(n=n.call(this)),t.Utils.isEmpty(n)?void 0:r.fn(n)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)}),t}},{}],22:[function(t,e,i){i.attach=function(t){var e=Object.prototype.toString,i=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;i.length>e;e++)this[i[e]]=t[i[e]]},t.Exception.prototype=Error(),t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return""+this.string};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=/[&<>"'`]/g,o=/[&<>"'`]/,s=function(t){return n[t]||"&amp;"};return t.Utils={extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},escapeExpression:function(e){return e instanceof t.SafeString?""+e:null==e||e===!1?"":(e=""+e,o.test(e)?e.replace(r,s):e)},isEmpty:function(t){return t||0===t?"[object Array]"===e.call(t)&&0===t.length?!0:!1:!0}},t}},{}],23:[function(t,e,i){i.attach=function(t){return t.VM={template:function(e){var i={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,i,n){var r=this.programs[e];return n?r=t.VM.program(e,i,n):r||(r=this.programs[e]=t.VM.program(e,i)),r},merge:function(e,i){var n=e||i;return e&&i&&(n={},t.Utils.extend(n,i),t.Utils.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,r){r=r||{};var o=e.call(i,t,n,r.helpers,r.partials,r.data),s=i.compilerInfo||[],a=s[0]||1,l=t.COMPILER_REVISION;if(a!==l){if(l>a){var h=t.REVISION_CHANGES[l],u=t.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+h+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+s[1]+")."}return o}},programWithDepth:function(t,e,i){var n=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||i].concat(n))};return r.program=t,r.depth=n.length,r},program:function(t,e,i){var n=function(t,n){return n=n||{},e(t,n.data||i)};return n.program=t,n.depth=0,n},noop:function(){return""},invokePartial:function(e,i,n,r,o,s){var a={helpers:r,partials:o,data:s};if(void 0===e)throw new t.Exception("The partial "+i+" could not be found");if(e instanceof Function)return e(n,a);if(t.compile)return o[i]=t.compile(e,{data:void 0!==s}),o[i](n,a);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template,t}},{}],25:[function(){window.Raphael&&window.Raphael.svg&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,l=o.pow,h=/[, ]+/,u=t.eve,c="",p=" ",d="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var g=function(n,r){if(r){"string"==typeof n&&(n=g(n));for(var o in r)r[e](o)&&("xlink:"==o.substring(0,6)?n.setAttributeNS(d,o.substring(6),i(r[o])):n.setAttribute(o,i(r[o])))}else n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,r){var h="linear",u=e.id+r,p=.5,d=.5,f=e.node,m=e.paper,v=f.style,y=t._g.doc.getElementById(u);if(!y){if(r=i(r).replace(t._radial_gradient,function(t,e,i){if(h="radial",e&&i){p=n(e),d=n(i);var r=2*(d>.5)-1;l(p-.5,2)+l(d-.5,2)>.25&&(d=o.sqrt(.25-l(p-.5,2))*r+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*r)}return c}),r=r.split(/\s*\-\s*/),"linear"==h){var _=r.shift();if(_=-n(_),isNaN(_))return null;var x=[0,0,o.cos(t.rad(_)),o.sin(t.rad(_))],b=1/(s(a(x[2]),a(x[3]))||1);x[2]*=b,x[3]*=b,0>x[2]&&(x[0]=-x[2],x[2]=0),0>x[3]&&(x[1]=-x[3],x[3]=0)}var w=t._parseDots(r);if(!w)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=g(h+"Gradient",{id:u}),e.gradient=y,g(y,"radial"==h?{fx:p,fy:d}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(y);for(var L=0,k=w.length;k>L;L++)y.appendChild(g("stop",{offset:w[L].offset?w[L].offset:L?"100%":"0%","stop-color":w[L].color||"#fff"}))}}return g(f,{fill:"url(#"+u+")",opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},_=function(n,r,o){if("path"==n.type){for(var s,a,l,h,u,p=i(r).toLowerCase().split("-"),d=n.paper,v=o?"end":"start",y=n.node,_=n.attrs,x=_["stroke-width"],b=p.length,w="classic",L=3,k=3,T=5;b--;)switch(p[b]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=p[b];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":L=5;break;case"short":L=2}if("open"==w?(L+=2,k+=2,T+=2,l=1,h=o?4:1,u={fill:"none",stroke:_.stroke}):(h=l=L/2,u={fill:_.stroke,stroke:"none"}),n._.arrows?o?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=w){var P="raphael-marker-"+w,S="raphael-marker-"+v+w+L+k;t._g.doc.getElementById(P)?m[P]++:(d.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[w],id:P})),m[P]=1);var C,E=t._g.doc.getElementById(S);E?(m[S]++,C=E.getElementsByTagName("use")[0]):(E=g(g("marker"),{id:S,markerHeight:k,markerWidth:L,orient:"auto",refX:h,refY:k/2}),C=g(g("use"),{"xlink:href":"#"+P,transform:(o?"rotate(180 "+L/2+" "+k/2+") ":c)+"scale("+L/T+","+k/T+")","stroke-width":(1/((L/T+k/T)/2)).toFixed(4)}),E.appendChild(C),d.defs.appendChild(E),m[S]=1),g(C,u);var M=l*("diamond"!=w&&"oval"!=w);
o?(s=n._.arrows.startdx*x||0,a=t.getTotalLength(_.path)-M*x):(s=M*x,a=t.getTotalLength(_.path)-(n._.arrows.enddx*x||0)),u={},u["marker-"+v]="url(#"+S+")",(a||s)&&(u.d=Raphael.getSubpath(_.path,s,a)),g(y,u),n._.arrows[v+"Path"]=P,n._.arrows[v+"Marker"]=S,n._.arrows[v+"dx"]=M,n._.arrows[v+"Type"]=w,n._.arrows[v+"String"]=r}else o?(s=n._.arrows.startdx*x||0,a=t.getTotalLength(_.path)-s):(s=0,a=t.getTotalLength(_.path)-(n._.arrows.enddx*x||0)),n._.arrows[v+"Path"]&&g(y,{d:Raphael.getSubpath(_.path,s,a)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(u in m)if(m[e](u)&&!m[u]){var D=t._g.doc.getElementById(u);D&&D.parentNode.removeChild(D)}}},x={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},b=function(t,e,n){if(e=x[i(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;g(t.node,{"stroke-dasharray":s.join(",")})}},w=function(n,o){var l=n.node,u=n.attrs,p=l.style.visibility;l.style.visibility="hidden";for(var f in o)if(o[e](f)){if(!t._availableAttrs[e](f))continue;var m=o[f];switch(u[f]=m,f){case"blur":n.blur(m);break;case"href":case"title":case"target":var x=l.parentNode;if("a"!=x.tagName.toLowerCase()){var w=g("a");x.insertBefore(w,l),w.appendChild(l),x=w}"target"==f?x.setAttributeNS(d,"show","blank"==m?"new":m):x.setAttributeNS(d,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":_(n,m);break;case"arrow-end":_(n,m,1);break;case"clip-rect":var L=i(m).split(h);if(4==L.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var T=g("clipPath"),P=g("rect");T.id=t.createUUID(),g(P,{x:L[0],y:L[1],width:L[2],height:L[3]}),T.appendChild(P),n.paper.defs.appendChild(T),g(l,{"clip-path":"url(#"+T.id+")"}),n.clip=P}if(!m){var S=l.getAttribute("clip-path");if(S){var C=t._g.doc.getElementById(S.replace(/(^url\(#|\)$)/g,c));C&&C.parentNode.removeChild(C),g(l,{"clip-path":c}),delete n.clip}}break;case"path":"path"==n.type&&(g(l,{d:m?u.path=t._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&_(n,n._.arrows.startString),"endString"in n._.arrows&&_(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),n._.dirty=1,!u.fx)break;f="x",m=u.x;case"x":u.fx&&(m=-u.x-(u.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,m),n._.dirty=1,!u.fy)break;f="y",m=u.y;case"y":u.fy&&(m=-u.y-(u.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?g(l,{rx:m,ry:m}):l.setAttribute(f,m),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(d,"href",m);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(m/=s(a(n._.sx),a(n._.sy))||1),n.paper._vbSize&&(m*=n.paper._vbSize),l.setAttribute(f,m),u["stroke-dasharray"]&&b(n,u["stroke-dasharray"],o),n._.arrows&&("startString"in n._.arrows&&_(n,n._.arrows.startString),"endString"in n._.arrows&&_(n,n._.arrows.endString,1));break;case"stroke-dasharray":b(n,m,o);break;case"fill":var E=i(m).match(t._ISURL);if(E){T=g("pattern");var M=g("image");T.id=t.createUUID(),g(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(M,{x:0,y:0,"xlink:href":E[1]}),T.appendChild(M),function(e){t._preload(E[1],function(){var t=this.offsetWidth,i=this.offsetHeight;g(e,{width:t,height:i}),g(M,{width:t,height:i}),n.paper.safari()})}(T),n.paper.defs.appendChild(T),g(l,{fill:"url(#"+T.id+")"}),n.pattern=T,n.pattern&&y(n);break}var D=t.getRGB(m);if(D.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=i(m).charAt())&&v(n,m)){if("opacity"in u||"fill-opacity"in u){var A=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(A){var N=A.getElementsByTagName("stop");g(N[N.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=m,u.fill="none";break}}else delete o.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(o.opacity,"undefined")&&g(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&g(l,{"fill-opacity":u["fill-opacity"]});D[e]("opacity")&&g(l,{"fill-opacity":D.opacity>1?D.opacity/100:D.opacity});case"stroke":D=t.getRGB(m),l.setAttribute(f,D.hex),"stroke"==f&&D[e]("opacity")&&g(l,{"stroke-opacity":D.opacity>1?D.opacity/100:D.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&_(n,n._.arrows.startString),"endString"in n._.arrows&&_(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=i(m).charAt())&&v(n,m);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(u.gradient){A=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),A&&(N=A.getElementsByTagName("stop"),g(N[N.length-1],{"stop-opacity":m}));break}default:"font-size"==f&&(m=r(m,10)+"px");var O=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[O]=m,n._.dirty=1,l.setAttribute(f,m)}}k(n,o),l.style.visibility=p},L=1.2,k=function(n,o){if("text"==n.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=n.attrs,a=n.node,l=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,c).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var h,u=i(o.text).split("\n"),p=[],d=0,f=u.length;f>d;d++)h=g("tspan"),d&&g(h,{dy:l*L,x:s.x}),h.appendChild(t._g.doc.createTextNode(u[d])),a.appendChild(h),p[d]=h}else for(p=a.getElementsByTagName("tspan"),d=0,f=p.length;f>d;d++)d?g(p[d],{dy:l*L,x:s.x}):g(p[0],{dy:0});g(a,{x:s.x,y:s.y}),n._.dirty=1;var m=n._getBBox(),v=s.y-(m.y+m.height/2);v&&t.is(v,"finite")&&g(p[0],{dy:v})}},T=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},P=t.el;T.prototype=P,P.constructor=T,t._engine.path=function(t,e){var i=g("path");e.canvas&&e.canvas.appendChild(i);var n=new T(i,e);return n.type="path",w(n,{fill:"none",stroke:"#000",path:t}),n},P.rotate=function(t,e,r){if(this.removed)return this;if(t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},P.scale=function(t,e,r,o){if(this.removed)return this;if(t=i(t).split(h),t.length-1&&(e=n(t[1]),r=n(t[2]),o=n(t[3])),t=n(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},P.translate=function(t,e){return this.removed?this:(t=i(t).split(h),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},P.transform=function(i){var n=this._;if(null==i)return n.transform;if(t._extractTransform(this,i),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&g(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},P.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},P.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},P.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),t._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},P._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}return t&&this.hide(),e},P.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var s=i.split(h),a={},l=0,c=s.length;c>l;l++)i=s[l],a[i]=i in this.attrs?this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?this.paper.customAttributes[i].def:t._availableAttrs[i];return c-1?a:a[s[0]]}if(null==n&&t.is(i,"array")){for(a={},l=0,c=i.length;c>l;l++)a[i[l]]=this.attr(i[l]);return a}if(null!=n){var p={};p[i]=n}else null!=i&&t.is(i,"object")&&(p=i);for(var d in p)u("raphael.attr."+d+"."+this.id,this,p[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var f=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var m in f)f[e](m)&&(p[m]=f[m])}return w(this,p),this},P.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&t._tofront(this,e),this},P.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;return"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper),this.paper,this},P.insertAfter=function(e){if(this.removed)return this;var i=e.node||e[e.length-1].node;return i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this},P.insertBefore=function(e){if(this.removed)return this;var i=e.node||e[0].node;return i.parentNode.insertBefore(this.node,i),t._insertbefore(this,e,this.paper),this},P.blur=function(e){var i=this;if(0!==+e){var n=g("filter"),r=g("feGaussianBlur");i.attrs.blur=e,n.id=t.createUUID(),g(r,{stdDeviation:+e||1.5}),n.appendChild(r),i.paper.defs.appendChild(n),i._blur=n,g(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")},t._engine.circle=function(t,e,i,n){var r=g("circle");t.canvas&&t.canvas.appendChild(r);var o=new T(r,t);return o.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},o.type="circle",g(r,o.attrs),o},t._engine.rect=function(t,e,i,n,r,o){var s=g("rect");t.canvas&&t.canvas.appendChild(s);var a=new T(s,t);return a.attrs={x:e,y:i,width:n,height:r,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",g(s,a.attrs),a},t._engine.ellipse=function(t,e,i,n,r){var o=g("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new T(o,t);return s.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",g(o,s.attrs),s},t._engine.image=function(t,e,i,n,r,o){var s=g("image");g(s,{x:i,y:n,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new T(s,t);return a.attrs={x:i,y:n,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,i,n,r){var o=g("text");e.canvas&&e.canvas.appendChild(o);var s=new T(o,e);return s.attrs={x:i,y:n,"text-anchor":"middle",text:r,font:t._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",w(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,n=e.x,r=e.y,o=e.width,s=e.height;if(!i)throw Error("SVG container not found.");var a,l=g("svg"),h="overflow:hidden;";return n=n||0,r=r||0,o=o||512,s=s||342,g(l,{height:s,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg"}),1==i?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+r+"px",t._g.doc.body.appendChild(l),a=1):(l.style.cssText=h+"position:relative",i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l)),i=new t._Paper,i.width=o,i.height=s,i.canvas=l,i.clear(),i._left=i._top=0,a&&(i.renderfix=function(){}),i.renderfix(),i},t._engine.setViewBox=function(t,e,i,n,r){u("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var o,a,l=s(i/this.width,n/this.height),h=this.top,c=r?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+p+this.height):(this._vbSize=l,o=t+p+e+p+i+p+n),g(this.canvas,{viewBox:o,preserveAspectRatio:c});l&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,i,n,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,o=-t.f%1;(r||o)&&(r&&(this._left=(this._left+r)%1,i.left=this._left+"px"),o&&(this._top=(this._top+o)%1,i.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(t._g.doc.createTextNode("Created with Raphal "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var S=t.st;for(var C in P)P[e](C)&&!S[e](C)&&(S[C]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(C))}(window.Raphael)},{}],26:[function(){window.Raphael&&window.Raphael.vml&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,l=r.abs,h="fill",u=/[, ]+/,c=t.eve,p=" progid:DXImageTransform.Microsoft",d=" ",f="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,_="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,b={path:1,rect:1,image:1},w={circle:1,ellipse:1},L=function(e){var n=/[ahqstv]/gi,r=t._pathToAbsolute;if(i(e).match(n)&&(r=t._path2curve),n=/[clmz]/g,r==t._pathToAbsolute&&!i(e).match(n)){var s=i(e).replace(g,function(t,e,i){var n=[],r="m"==e.toLowerCase(),s=m[e];return i.replace(y,function(t){r&&2==n.length&&(s+=n+m["m"==e?"l":"L"],n=[]),n.push(o(t*x))}),s+n});return s}var a,l,h=r(e);s=[];for(var u=0,c=h.length;c>u;u++){a=h[u],l=h[u][0].toLowerCase(),"z"==l&&(l="x");for(var p=1,v=a.length;v>p;p++)l+=o(a[p]*x)+(p!=v-1?",":f);s.push(l)}return s.join(d)},k=function(e,i,n){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(i,n),dy:r.y(i,n)}},T=function(t,e,i,n,r,o){var s=t._,a=t.matrix,u=s.fillpos,c=t.node,p=c.style,f=1,m="",g=x/e,v=x/i;if(p.visibility="hidden",e&&i){if(c.coordsize=l(g)+d+l(v),p.rotation=o*(0>e*i?-1:1),o){var y=k(o,n,r);n=y.dx,r=y.dy}if(0>e&&(m+="x"),0>i&&(m+=" y")&&(f=-1),p.flip=m,c.coordorigin=n*-g+d+r*-v,u||s.fillsize){var _=c.getElementsByTagName(h);_=_&&_[0],c.removeChild(_),u&&(y=k(o,a.x(u[0],u[1]),a.y(u[0],u[1])),_.position=y.dx*f+d+y.dy*f),s.fillsize&&(_.size=s.fillsize[0]*l(e)+d+s.fillsize[1]*l(i)),c.appendChild(_)}p.visibility="visible"}};t.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var P=function(t,e,n){for(var r=i(e).toLowerCase().split("-"),o=n?"end":"start",s=r.length,a="classic",l="medium",h="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":h=r[s];break;case"long":case"short":l=r[s]}var u=t.node.getElementsByTagName("stroke")[0];u[o+"arrow"]=a,u[o+"arrowlength"]=l,u[o+"arrowwidth"]=h},S=function(r,l){r.attrs=r.attrs||{};var c=r.node,p=r.attrs,m=c.style,g=b[r.type]&&(l.x!=p.x||l.y!=p.y||l.width!=p.width||l.height!=p.height||l.cx!=p.cx||l.cy!=p.cy||l.rx!=p.rx||l.ry!=p.ry||l.r!=p.r),v=w[r.type]&&(p.cx!=l.cx||p.cy!=l.cy||p.r!=l.r||p.rx!=l.rx||p.ry!=l.ry),y=r;for(var _ in l)l[e](_)&&(p[_]=l[_]);if(g&&(p.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||g)&&(c.path=L(~i(p.path).toLowerCase().indexOf("r")?t._pathToAbsolute(p.path):p.path),"image"==r.type&&(r._.fillpos=[p.x,p.y],r._.fillsize=[p.width,p.height],T(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var k=+p.cx,S=+p.cy,E=+p.rx||+p.r||0,M=+p.ry||+p.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((k-E)*x),o((S-M)*x),o((k+E)*x),o((S+M)*x),o(k*x))}if("clip-rect"in l){var A=i(l["clip-rect"]).split(u);if(4==A.length){A[2]=+A[2]+ +A[0],A[3]=+A[3]+ +A[1];var N=c.clipRect||t._g.doc.createElement("div"),O=N.style;O.clip=t.format("rect({1}px {2}px {3}px {0}px)",A),c.clipRect||(O.position="absolute",O.top=0,O.left=0,O.width=r.paper.width+"px",O.height=r.paper.height+"px",c.parentNode.insertBefore(N,c),N.appendChild(c),c.clipRect=N)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(r.textpath){var B=r.textpath.style;l.font&&(B.font=l.font),l["font-family"]&&(B.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(B.fontSize=l["font-size"]),l["font-weight"]&&(B.fontWeight=l["font-weight"]),l["font-style"]&&(B.fontStyle=l["font-style"])}if("arrow-start"in l&&P(y,l["arrow-start"]),"arrow-end"in l&&P(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var I=c.getElementsByTagName(h),z=!1;if(I=I&&I[0],!I&&(z=I=D(h)),"image"==r.type&&l.src&&(I.src=l.src),l.fill&&(I.on=!0),(null==I.on||"none"==l.fill||null===l.fill)&&(I.on=!1),I.on&&l.fill){var R=i(l.fill).match(t._ISURL);if(R){I.parentNode==c&&c.removeChild(I),I.rotate=!0,I.src=R[1],I.type="tile";var F=r.getBBox(1);I.position=F.x+d+F.y,r._.fillpos=[F.x,F.y],t._preload(R[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else I.color=t.getRGB(l.fill).hex,I.src=f,I.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=i(l.fill).charAt())&&C(y,l.fill,I)&&(p.fill="none",p.gradient=l.fill,I.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var U=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);U=a(s(U,0),1),I.opacity=U,I.src&&(I.color="none")}c.appendChild(I);var H=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],j=!1;!H&&(j=H=D("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var W=t.getRGB(l.stroke);H.on&&l.stroke&&(H.color=W.hex),U=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+W.o+1||2)-1);var q=.75*(n(l["stroke-width"])||1);if(U=a(s(U,0),1),null==l["stroke-width"]&&(q=p["stroke-width"]),l["stroke-width"]&&(H.weight=q),q&&1>q&&(U*=q)&&(H.weight=1),H.opacity=U,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var V={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=V[e](l["stroke-dasharray"])?V[l["stroke-dasharray"]]:f}j&&c.appendChild(H)}if("text"==y.type){y.paper.canvas.style.display=f;var $=y.paper.span,Z=100,G=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);m=$.style,p.font&&(m.font=p.font),p["font-family"]&&(m.fontFamily=p["font-family"]),p["font-weight"]&&(m.fontWeight=p["font-weight"]),p["font-style"]&&(m.fontStyle=p["font-style"]),G=n(p["font-size"]||G&&G[0])||10,m.fontSize=G*Z+"px",y.textpath.string&&($.innerHTML=i(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=$.getBoundingClientRect();y.W=p.w=(Y.right-Y.left)/Z,y.H=p.h=(Y.bottom-Y.top)/Z,y.X=p.x,y.Y=p.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",o(p.x*x),o(p.y*x),o(p.x*x)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,K=X.length;K>J;J++)if(X[J]in l){y._.dirty=1;break}switch(p["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},C=function(e,o,s){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),l="linear",h=".5 .5";if(e.attrs.gradient=o,o=i(o).replace(t._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),a(e-.5,2)+a(i-.5,2)>.25&&(i=r.sqrt(.25-a(e-.5,2))*(2*(i>.5)-1)+.5),h=e+d+i),f}),o=o.split(/\s*\-\s*/),"linear"==l){var u=o.shift();if(u=-n(u),isNaN(u))return null}var c=t._parseDots(o);if(!c)return null;if(e=e.shape||e.node,c.length){e.removeChild(s),s.on=!0,s.method="none",s.color=c[0].color,s.color2=c[c.length-1].color;for(var p=[],m=0,g=c.length;g>m;m++)c[m].offset&&p.push(c[m].offset+d+c[m].color);s.colors=p.length?p.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=h,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),e.appendChild(s)}return 1},E=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},M=t.el;E.prototype=M,M.constructor=E,M.transform=function(e){if(null==e)return this._.transform;var n,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(n=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||f)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),l=this.skew,h=this.node,u=~i(this.attrs.fill).indexOf("-"),c=!i(this.attrs.fill).indexOf("url(");if(a.translate(-.5,-.5),c||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=a.split(),u&&s.noRotation||!s.isSimple){h.style.filter=a.toFilter();var p=this.getBBox(),m=this.getBBox(1),g=p.x-m.x,v=p.y-m.y;h.coordorigin=g*-x+d+v*-x,T(this,1,1,g,v,0)}else h.style.filter=f,T(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else h.style.filter=f,l.matrix=i(a),l.offset=a.offset();return n&&(this._.transform=n),this},M.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if(t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},M.translate=function(t,e){return this.removed?this:(t=i(t).split(u),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},M.scale=function(t,e,r,o){if(this.removed)return this;if(t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2]),o=n(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=n(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},M.hide=function(){return!this.removed&&(this.node.style.display="none"),this},M.show=function(){return!this.removed&&(this.node.style.display=f),this},M._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},M.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},M.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if(i==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=i.split(u),a={},l=0,p=s.length;p>l;l++)i=s[l],a[i]=i in this.attrs?this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?this.paper.customAttributes[i].def:t._availableAttrs[i];return p-1?a:a[s[0]]}if(this.attrs&&null==n&&t.is(i,"array")){for(a={},l=0,p=i.length;p>l;l++)a[i[l]]=this.attr(i[l]);return a}var d;null!=n&&(d={},d[i]=n),null==n&&t.is(i,"object")&&(d=i);for(var f in d)c("raphael.attr."+f+"."+this.id,this,d[f]);if(d){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&d[e](f)&&t.is(this.paper.customAttributes[f],"function")){var m=this.paper.customAttributes[f].apply(this,[].concat(d[f]));this.attrs[f]=d[f];for(var g in m)m[e](g)&&(d[g]=m[g])}d.text&&"text"==this.type&&(this.textpath.string=d.text),S(this,d)}return this},M.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},M.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},M.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},M.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},M.blur=function(e){var i=this.node.runtimeStyle,n=i.filter;n=n.replace(v,f),0!==+e?(this.attrs.blur=e,i.filter=n+d+p+".Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur)},t._engine.path=function(t,e){var i=D("shape");i.style.cssText=_,i.coordsize=x+d+x,i.coordorigin=e.coordorigin;var n=new E(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=f,S(n,r),e.canvas.appendChild(i);var o=D("skew");return o.on=!0,i.appendChild(o),n.skew=o,n.transform(f),n},t._engine.rect=function(e,i,n,r,o,s){var a=t._rectPath(i,n,r,o,s),l=e.path(a),h=l.attrs;return l.X=h.x=i,l.Y=h.y=n,l.W=h.width=r,l.H=h.height=o,h.r=s,h.path=a,l.type="rect",l},t._engine.ellipse=function(t,e,i,n,r){var o=t.path();return o.attrs,o.X=e-n,o.Y=i-r,o.W=2*n,o.H=2*r,o.type="ellipse",S(o,{cx:e,cy:i,rx:n,ry:r}),o},t._engine.circle=function(t,e,i,n){var r=t.path();return r.attrs,r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",S(r,{cx:e,cy:i,r:n}),r},t._engine.image=function(e,i,n,r,o,s){var a=t._rectPath(n,r,o,s),l=e.path(a).attr({stroke:"none"}),u=l.attrs,c=l.node,p=c.getElementsByTagName(h)[0];return u.src=i,l.X=u.x=n,l.Y=u.y=r,l.W=u.width=o,l.H=u.height=s,u.path=a,l.type="image",p.parentNode==c&&c.removeChild(p),p.rotate=!0,p.src=i,p.type="tile",l._.fillpos=[n,r],l._.fillsize=[o,s],c.appendChild(p),T(l,1,1,0,0,0),l},t._engine.text=function(e,n,r,s){var a=D("shape"),l=D("path"),h=D("textpath");n=n||0,r=r||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",o(n*x),o(r*x),o(n*x)+1),l.textpathok=!0,h.string=i(s),h.on=!0,a.style.cssText=_,a.coordsize=x+d+x,a.coordorigin="0 0";var u=new E(a,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=a,u.path=l,u.textpath=h,u.type="text",u.attrs.text=i(s),u.attrs.x=n,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,S(u,c),a.appendChild(h),a.appendChild(l),e.canvas.appendChild(a);var p=D("skew");return p.on=!0,a.appendChild(p),u.skew=p,u.transform(f),u},t._engine.setSize=function(e,i){var n=this.canvas.style;return this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),n.width=e,n.height=i,n.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,i,n,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,n,r,o]);var a,l,h=this.width,u=this.height,c=1/s(n/h,r/u);return o&&(a=u/r,l=h/n,h>n*a&&(e-=(h-n*a)/2/a),u>r*l&&(i-=(u-r*l)/2/l)),this._viewBox=[e,i,n,r,!!o],this._viewBoxShift={dx:-e,dy:-i,scale:c},this.forEach(function(t){t.transform("...")}),this};var D;t._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),D=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){D=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,n=e.height,r=e.width,o=e.x,s=e.y;if(!i)throw Error("VML container not found.");var a=new t._Paper,l=a.canvas=t._g.doc.createElement("div"),h=l.style;return o=o||0,s=s||0,r=r||512,n=n||342,a.width=r,a.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),a.coordsize=1e3*x+d+1e3*x,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==i?(t._g.doc.body.appendChild(l),h.left=o+"px",h.top=s+"px",h.position="absolute"):i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var A=t.st;for(var N in M)M[e](N)&&!A[e](N)&&(A[N]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(N))}(window.Raphael)},{}],19:[function(t,e){var i=t("eve");(function(){function n(t){if(n.is(t,"function"))return b?t():i.on("raphael.DOMload",t);if(n.is(t,G))return n._engine.create[M](n,t.splice(0,3+n.is(t[0],$))).add(t);var e=Array.prototype.slice.call(arguments,0);if(n.is(e[e.length-1],"function")){var r=e.pop();return b?r.call(n._engine.create[M](n,e)):i.on("raphael.DOMload",function(){r.call(n._engine.create[M](n,e))})}return n._engine.create[M](n,arguments)
}function r(t){if(Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[P](i)&&(e[i]=r(t[i]));return e}function o(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function s(t,e,i){function n(){var r=Array.prototype.slice.call(arguments,0),s=r.join(""),a=n.cache=n.cache||{},l=n.count=n.count||[];return a[P](s)?(o(l,s),i?i(a[s]):a[s]):(l.length>=1e3&&delete a[l.shift()],l.push(s),a[s]=t[M](e,r),i?i(a[s]):a[s])}return n}function a(){return this.hex}function l(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?o[3]={x:+t[0],y:+t[1]}:r-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}function h(t,e,i,n,r){var o=-3*e+9*i-9*n+3*r,s=t*o+6*e-12*i+6*n;return t*s-3*e+3*i}function u(t,e,i,n,r,o,s,a,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var u=l/2,c=12,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;c>m;m++){var g=u*p[m]+u,v=h(g,t,i,r,s),y=h(g,e,n,o,a),_=v*v+y*y;f+=d[m]*U.sqrt(_)}return u*f}function c(t,e,i,n,r,o,s,a,l){if(!(0>l||l>u(t,e,i,n,r,o,s,a))){var h,c=1,p=c/2,d=c-p,f=.01;for(h=u(t,e,i,n,r,o,s,a,d);W(h-l)>f;)p/=2,d+=(l>h?1:-1)*p,h=u(t,e,i,n,r,o,s,a,d);return d}}function p(t,e,i,n,r,o,s,a){if(!(H(t,i)<j(r,s)||j(t,i)>H(r,s)||H(e,n)<j(o,a)||j(e,n)>H(o,a))){var l=(t*n-e*i)*(r-s)-(t-i)*(r*a-o*s),h=(t*n-e*i)*(o-a)-(e-n)*(r*a-o*s),u=(t-i)*(o-a)-(e-n)*(r-s);if(u){var c=l/u,p=h/u,d=+c.toFixed(2),f=+p.toFixed(2);if(!(+j(t,i).toFixed(2)>d||d>+H(t,i).toFixed(2)||+j(r,s).toFixed(2)>d||d>+H(r,s).toFixed(2)||+j(e,n).toFixed(2)>f||f>+H(e,n).toFixed(2)||+j(o,a).toFixed(2)>f||f>+H(o,a).toFixed(2)))return{x:c,y:p}}}}function d(t,e,i){var r=n.bezierBBox(t),o=n.bezierBBox(e);if(!n.isBBoxIntersect(r,o))return i?0:[];for(var s=u.apply(0,t),a=u.apply(0,e),l=~~(s/5),h=~~(a/5),c=[],d=[],f={},m=i?0:[],g=0;l+1>g;g++){var v=n.findDotsAtSegment.apply(n,t.concat(g/l));c.push({x:v.x,y:v.y,t:g/l})}for(g=0;h+1>g;g++)v=n.findDotsAtSegment.apply(n,e.concat(g/h)),d.push({x:v.x,y:v.y,t:g/h});for(g=0;l>g;g++)for(var y=0;h>y;y++){var _=c[g],x=c[g+1],b=d[y],w=d[y+1],L=.001>W(x.x-_.x)?"y":"x",k=.001>W(w.x-b.x)?"y":"x",T=p(_.x,_.y,x.x,x.y,b.x,b.y,w.x,w.y);if(T){if(f[T.x.toFixed(4)]==T.y.toFixed(4))continue;f[T.x.toFixed(4)]=T.y.toFixed(4);var P=_.t+W((T[L]-_[L])/(x[L]-_[L]))*(x.t-_.t),S=b.t+W((T[k]-b[k])/(w[k]-b[k]))*(w.t-b.t);P>=0&&1>=P&&S>=0&&1>=S&&(i?m++:m.push({x:T.x,y:T.y,t1:P,t2:S}))}}return m}function f(t,e,i){t=n._path2curve(t),e=n._path2curve(e);for(var r,o,s,a,l,h,u,c,p,f,m=i?0:[],g=0,v=t.length;v>g;g++){var y=t[g];if("M"==y[0])r=l=y[1],o=h=y[2];else{"C"==y[0]?(p=[r,o].concat(y.slice(1)),r=p[6],o=p[7]):(p=[r,o,r,o,l,h,l,h],r=l,o=h);for(var _=0,x=e.length;x>_;_++){var b=e[_];if("M"==b[0])s=u=b[1],a=c=b[2];else{"C"==b[0]?(f=[s,a].concat(b.slice(1)),s=f[6],a=f[7]):(f=[s,a,s,a,u,c,u,c],s=u,a=c);var w=d(p,f,i);if(i)m+=w;else{for(var L=0,k=w.length;k>L;L++)w[L].segment1=g,w[L].segment2=_,w[L].bez1=p,w[L].bez2=f;m=m.concat(w)}}}}}return m}function m(t,e,i,n,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+O+this.y+O+this.width+"  "+this.height}function v(t,e,i,n,r,o){function s(t){return((c*t+u)*t+h)*t}function a(t,e){var i=l(t,e);return((f*i+d)*i+p)*i}function l(t,e){var i,n,r,o,a,l;for(r=t,l=0;8>l;l++){if(o=s(r)-t,e>W(o))return r;if(a=(3*c*r+2*u)*r+h,1e-6>W(a))break;r-=o/a}if(i=0,n=1,r=t,i>r)return i;if(r>n)return n;for(;n>i;){if(o=s(r),e>W(o-t))return r;t>o?i=r:n=r,r=(n-i)/2+i}return r}var h=3*e,u=3*(n-e)-h,c=1-h-u,p=3*i,d=3*(r-i)-p,f=1-p-d;return a(t,1/(200*o))}function y(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[P](r)&&(n[te(r)]=t[r],i.push(te(r)));i.sort(pe)}this.anim=n,this.top=i[i.length-1],this.percents=i}function _(t,e,r,o,s,a){r=te(r);var l,h,u,c,p,d,f=t.ms,g={},y={},_={};if(o)for(b=0,w=li.length;w>b;b++){var x=li[b];if(x.el.id==e.id&&x.anim==t){x.percent!=r?(li.splice(b,1),u=1):h=x,e.attr(x.totalOrigin);break}}else o=+y;for(var b=0,w=t.percents.length;w>b;b++){if(t.percents[b]==r||t.percents[b]>o*t.top){r=t.percents[b],p=t.percents[b-1]||0,f=f/t.top*(r-p),c=t.percents[b+1],l=t.anim[r];break}o&&e.attr(t.anim[t.percents[b]])}if(l){if(h)h.initstatus=o,h.start=new Date-h.ms*o;else{for(var k in l)if(l[P](k)&&(re[P](k)||e.paper.customAttributes[P](k)))switch(g[k]=e.attr(k),null==g[k]&&(g[k]=ne[k]),y[k]=l[k],re[k]){case $:_[k]=(y[k]-g[k])/f;break;case"colour":g[k]=n.getRGB(g[k]);var T=n.getRGB(y[k]);_[k]={r:(T.r-g[k].r)/f,g:(T.g-g[k].g)/f,b:(T.b-g[k].b)/f};break;case"path":var S=ze(g[k],y[k]),C=S[1];for(g[k]=S[0],_[k]=[],b=0,w=g[k].length;w>b;b++){_[k][b]=[0];for(var E=1,M=g[k][b].length;M>E;E++)_[k][b][E]=(C[b][E]-g[k][b][E])/f}break;case"transform":var A=e._,N=je(A[k],y[k]);if(N)for(g[k]=N.from,y[k]=N.to,_[k]=[],_[k].real=!0,b=0,w=g[k].length;w>b;b++)for(_[k][b]=[g[k][b][0]],E=1,M=g[k][b].length;M>E;E++)_[k][b][E]=(y[k][b][E]-g[k][b][E])/f;else{var O=e.matrix||new m,z={_:{transform:A.transform},getBBox:function(){return e.getBBox(1)}};g[k]=[O.a,O.b,O.c,O.d,O.e,O.f],Ue(z,y[k]),y[k]=z._.transform,_[k]=[(z.matrix.a-O.a)/f,(z.matrix.b-O.b)/f,(z.matrix.c-O.c)/f,(z.matrix.d-O.d)/f,(z.matrix.e-O.e)/f,(z.matrix.f-O.f)/f]}break;case"csv":var R=B(l[k])[I](L),F=B(g[k])[I](L);if("clip-rect"==k)for(g[k]=F,_[k]=[],b=F.length;b--;)_[k][b]=(R[b]-g[k][b])/f;y[k]=R;break;default:for(R=[][D](l[k]),F=[][D](g[k]),_[k]=[],b=e.paper.customAttributes[k].length;b--;)_[k][b]=((R[b]||0)-(F[b]||0))/f}var U=l.easing,H=n.easing_formulas[U];if(!H)if(H=B(U).match(K),H&&5==H.length){var j=H;H=function(t){return v(t,+j[1],+j[2],+j[3],+j[4],f)}}else H=fe;if(d=l.start||t.start||+new Date,x={anim:t,percent:r,timestamp:d,start:d+(t.del||0),status:0,initstatus:o||0,stop:!1,ms:f,easing:H,from:g,diff:_,to:y,el:e,callback:l.callback,prev:p,next:c,repeat:a||t.times,origin:e.attr(),totalOrigin:s},li.push(x),o&&!h&&!u&&(x.stop=!0,x.start=new Date-f*o,1==li.length))return ui();u&&(x.start=new Date-x.ms*o),1==li.length&&hi(ui)}i("raphael.anim.start."+e.id,e,t)}}function x(t){for(var e=0;li.length>e;e++)li[e].el.paper==t&&li.splice(e--,1)}n.version="2.1.0",n.eve=i;var b,w,L=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},T=/\{(\d+)\}/g,P="hasOwnProperty",S={doc:document,win:window},C={was:Object.prototype[P].call(S.win,"Raphael"),is:S.win.Raphael},E=function(){this.ca=this.customAttributes={}},M="apply",D="concat",A="createTouch"in S.doc,N="",O=" ",B=String,I="split",z="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[I](O),R={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},F=B.prototype.toLowerCase,U=Math,H=U.max,j=U.min,W=U.abs,q=U.pow,V=U.PI,$="number",Z="string",G="array",Y=Object.prototype.toString,X=(n._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),J={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=U.round,te=parseFloat,ee=parseInt,ie=B.prototype.toUpperCase,ne=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},re=n._availableAnimAttrs={blur:$,"clip-rect":"csv",cx:$,cy:$,fill:"colour","fill-opacity":$,"font-size":$,height:$,opacity:$,path:"path",r:$,rx:$,ry:$,stroke:"colour","stroke-opacity":$,"stroke-width":$,transform:"transform",width:$,x:$,y:$},oe=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,se={hs:1,rg:1},ae=/,?([achlmqrstvxz]),?/gi,le=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,he=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ue=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ce=(n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),pe=function(t,e){return te(t)-te(e)},de=function(){},fe=function(t){return t},me=n._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ge=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},ve=n._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ge(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ge(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return me(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return me(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return me(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return me(e.x,e.y,e.width,e.height)}},ye=n.mapPath=function(t,e){if(!e)return t;var i,n,r,o,s,a,l;for(t=ze(t),r=0,s=t.length;s>r;r++)for(l=t[r],o=1,a=l.length;a>o;o+=2)i=e.x(l[o],l[o+1]),n=e.y(l[o],l[o+1]),l[o]=i,l[o+1]=n;return t};if(n._g=S,n.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==n.type){var _e,xe=S.doc.createElement("div");if(xe.innerHTML='<v:shape adj="1"/>',_e=xe.firstChild,_e.style.behavior="url(#default#VML)",!_e||"object"!=typeof _e.adj)return n.type=N;xe=null}n.svg=!(n.vml="VML"==n.type),n._Paper=E,n.fn=w=E.prototype=n.prototype,n._id=0,n._oid=0,n.is=function(t,e){return e=F.call(e),"finite"==e?!J[P](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||Y.call(t).slice(8,-1).toLowerCase()==e},n.angle=function(t,e,i,r,o,s){if(null==o){var a=t-i,l=e-r;return a||l?(180+180*U.atan2(-l,-a)/V+360)%360:0}return n.angle(t,e,o,s)-n.angle(i,r,o,s)},n.rad=function(t){return t%360*V/180},n.deg=function(t){return 180*t/V%360},n.snapTo=function(t,e,i){if(i=n.is(i,"finite")?i:10,n.is(t,G)){for(var r=t.length;r--;)if(i>=W(t[r]-e))return t[r]}else{t=+t;var o=e%t;if(i>o)return e-o;if(o>t-i)return e-o+t}return e},n.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=0|16*U.random(),i="x"==t?e:8|3&e;return i.toString(16)}),n.setWindow=function(t){i("raphael.setWindow",n,S.win,t),S.win=t,S.doc=S.win.document,n._engine.initWin&&n._engine.initWin(S.win)};var be=function(t){if(n.vml){var e,i=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),e=r.body}catch(o){e=createPopup().document.body}var a=e.createTextRange();be=s(function(t){try{e.style.color=B(t).replace(i,N);var n=a.queryCommandValue("ForeColor");return n=(255&n)<<16|65280&n|(16711680&n)>>>16,"#"+("000000"+n.toString(16)).slice(-6)}catch(r){return"none"}})}else{var l=S.doc.createElement("i");l.title="Raphal Colour Picker",l.style.display="none",S.doc.body.appendChild(l),be=s(function(t){return l.style.color=t,S.doc.defaultView.getComputedStyle(l,N).getPropertyValue("color")})}return be(t)},we=function(){return"hsb("+[this.h,this.s,this.b]+")"},Le=function(){return"hsl("+[this.h,this.s,this.l]+")"},ke=function(){return this.hex},Te=function(t,e,i){if(null==e&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r),null==e&&n.is(t,Z)){var r=n.getRGB(t);t=r.r,e=r.g,i=r.b}return(t>1||e>1||i>1)&&(t/=255,e/=255,i/=255),[t,e,i]},Pe=function(t,e,i,r){t*=255,e*=255,i*=255;var o={r:t,g:e,b:i,hex:n.rgb(t,e,i),toString:ke};return n.is(r,"finite")&&(o.opacity=r),o};n.color=function(t){var e;return n.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):n.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(n.is(t,"string")&&(t=n.getRGB(t)),n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=ke,t},n.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var r,o,s,a,l;return t=t%360/60,l=i*e,a=l*(1-W(t%2-1)),r=o=s=i-l,t=~~t,r+=[l,a,0,0,a,l][t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],Pe(r,o,s,n)},n.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var r,o,s,a,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),a=l*(1-W(t%2-1)),r=o=s=i-l/2,t=~~t,r+=[l,a,0,0,a,l][t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],Pe(r,o,s,n)},n.rgb2hsb=function(t,e,i){i=Te(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,o,s;return o=H(t,e,i),s=o-j(t,e,i),n=0==s?null:o==t?(e-i)/s:o==e?(i-t)/s+2:(t-e)/s+4,n=60*((n+360)%6)/360,r=0==s?0:s/o,{h:n,s:r,b:o,toString:we}},n.rgb2hsl=function(t,e,i){i=Te(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,o,s,a,l;return s=H(t,e,i),a=j(t,e,i),l=s-a,n=0==l?null:s==t?(e-i)/l:s==e?(i-t)/l+2:(t-e)/l+4,n=60*((n+360)%6)/360,o=(s+a)/2,r=0==l?0:.5>o?l/(2*o):l/(2-2*o),{h:n,s:r,l:o,toString:Le}},n._path2string=function(){return this.join(",").replace(ae,"$1")},n._preload=function(t,e){var i=S.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,S.doc.body.removeChild(this)},i.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(i),i.src=t},n.getRGB=s(function(t){if(!t||(t=B(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(se[P](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=be(t));var e,i,r,o,s,l,h=t.match(X);return h?(h[2]&&(r=ee(h[2].substring(5),16),i=ee(h[2].substring(3,5),16),e=ee(h[2].substring(1,3),16)),h[3]&&(r=ee((s=h[3].charAt(3))+s,16),i=ee((s=h[3].charAt(2))+s,16),e=ee((s=h[3].charAt(1))+s,16)),h[4]&&(l=h[4][I](oe),e=te(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=te(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=te(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(o=te(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100)),h[5]?(l=h[5][I](oe),e=te(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=te(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=te(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||""==l[0].slice(-1))&&(e/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(o=te(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),n.hsb2rgb(e,i,r,o)):h[6]?(l=h[6][I](oe),e=te(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=te(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=te(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||""==l[0].slice(-1))&&(e/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(o=te(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),n.hsl2rgb(e,i,r,o)):(h={r:e,g:i,b:r,toString:a},h.hex="#"+(16777216|r|i<<8|e<<16).toString(16).slice(1),n.is(o,"finite")&&(h.opacity=o),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},n),n.hsb=s(function(t,e,i){return n.hsb2rgb(t,e,i).hex}),n.hsl=s(function(t,e,i){return n.hsl2rgb(t,e,i).hex}),n.rgb=s(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),n.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,0>=e.s&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},n.getColor.reset=function(){delete this.start},n.parsePathString=function(t){if(!t)return null;var e=Se(t);if(e.arr)return Ee(e.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return n.is(t,G)&&n.is(t[0],G)&&(r=Ee(t)),r.length||B(t).replace(le,function(t,e,n){var o=[],s=e.toLowerCase();if(n.replace(ue,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(r.push([e][D](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][D](o));else for(;o.length>=i[s]&&(r.push([e][D](o.splice(0,i[s]))),i[s]););}),r.toString=n._path2string,e.arr=Ee(r),r},n.parseTransformString=s(function(t){if(!t)return null;var e=[];return n.is(t,G)&&n.is(t[0],G)&&(e=Ee(t)),e.length||B(t).replace(he,function(t,i,n){var r=[];F.call(i),n.replace(ue,function(t,e){e&&r.push(+e)}),e.push([i][D](r))}),e.toString=n._path2string,e});var Se=function(t){var e=Se.ps=Se.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[P](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};n.findDotsAtSegment=function(t,e,i,n,r,o,s,a,l){var h=1-l,u=q(h,3),c=q(h,2),p=l*l,d=p*l,f=u*t+3*c*l*i+3*h*l*l*r+d*s,m=u*e+3*c*l*n+3*h*l*l*o+d*a,g=t+2*l*(i-t)+p*(r-2*i+t),v=e+2*l*(n-e)+p*(o-2*n+e),y=i+2*l*(r-i)+p*(s-2*r+i),_=n+2*l*(o-n)+p*(a-2*o+n),x=h*t+l*i,b=h*e+l*n,w=h*r+l*s,L=h*o+l*a,k=90-180*U.atan2(g-y,v-_)/V;return(g>y||_>v)&&(k+=180),{x:f,y:m,m:{x:g,y:v},n:{x:y,y:_},start:{x:x,y:b},end:{x:w,y:L},alpha:k}},n.bezierBBox=function(t,e,i,r,o,s,a,l){n.is(t,"array")||(t=[t,e,i,r,o,s,a,l]);var h=Ie.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},n.isPointInsideBBox=function(t,e,i){return e>=t.x&&t.x2>=e&&i>=t.y&&t.y2>=i},n.isBBoxIntersect=function(t,e){var i=n.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},n.pathIntersection=function(t,e){return f(t,e)},n.pathIntersectionNumber=function(t,e){return f(t,e,1)},n.isPointInsidePath=function(t,e,i){var r=n.pathBBox(t);return n.isPointInsideBBox(r,e,i)&&1==f(t,[["M",e,i],["H",r.x2+10]],1)%2},n._removedFactory=function(t){return function(){i("raphael.log",null,"Raphal: you are calling to method "+t+" of removed object",t)}};var Ce=n.pathBBox=function(t){var e=Se(t);if(e.bbox)return r(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=ze(t);for(var i,n=0,o=0,s=[],a=[],l=0,h=t.length;h>l;l++)if(i=t[l],"M"==i[0])n=i[1],o=i[2],s.push(n),a.push(o);else{var u=Ie(n,o,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[D](u.min.x,u.max.x),a=a[D](u.min.y,u.max.y),n=i[5],o=i[6]}var c=j[M](0,s),p=j[M](0,a),d=H[M](0,s),f=H[M](0,a),m=d-c,g=f-p,v={x:c,y:p,x2:d,y2:f,width:m,height:g,cx:c+m/2,cy:p+g/2};return e.bbox=r(v),v},Ee=function(t){var e=r(t);return e.toString=n._path2string,e},Me=n._pathToRelative=function(t){var e=Se(t);if(e.rel)return Ee(e.rel);n.is(t,G)&&n.is(t&&t[0],G)||(t=n.parsePathString(t));var i=[],r=0,o=0,s=0,a=0,l=0;"M"==t[0][0]&&(r=t[0][1],o=t[0][2],s=r,a=o,l++,i.push(["M",r,o]));for(var h=l,u=t.length;u>h;h++){var c=i[h]=[],p=t[h];if(p[0]!=F.call(p[0]))switch(c[0]=F.call(p[0]),c[0]){case"a":c[1]=p[1],c[2]=p[2],c[3]=p[3],c[4]=p[4],c[5]=p[5],c[6]=+(p[6]-r).toFixed(3),c[7]=+(p[7]-o).toFixed(3);break;case"v":c[1]=+(p[1]-o).toFixed(3);break;case"m":s=p[1],a=p[2];default:for(var d=1,f=p.length;f>d;d++)c[d]=+(p[d]-(d%2?r:o)).toFixed(3)}else{c=i[h]=[],"m"==p[0]&&(s=p[1]+r,a=p[2]+o);for(var m=0,g=p.length;g>m;m++)i[h][m]=p[m]}var v=i[h].length;switch(i[h][0]){case"z":r=s,o=a;break;case"h":r+=+i[h][v-1];break;case"v":o+=+i[h][v-1];break;default:r+=+i[h][v-2],o+=+i[h][v-1]}}return i.toString=n._path2string,e.rel=Ee(i),i},De=n._pathToAbsolute=function(t){var e=Se(t);if(e.abs)return Ee(e.abs);if(n.is(t,G)&&n.is(t&&t[0],G)||(t=n.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,o=0,s=0,a=0,h=0;"M"==t[0][0]&&(r=+t[0][1],o=+t[0][2],s=r,a=o,h++,i[0]=["M",r,o]);for(var u,c,p=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),d=h,f=t.length;f>d;d++){if(i.push(u=[]),c=t[d],c[0]!=ie.call(c[0]))switch(u[0]=ie.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+r),u[7]=+(c[7]+o);break;case"V":u[1]=+c[1]+o;break;case"H":u[1]=+c[1]+r;break;case"R":for(var m=[r,o][D](c.slice(1)),g=2,v=m.length;v>g;g++)m[g]=+m[g]+r,m[++g]=+m[g]+o;i.pop(),i=i[D](l(m,p));break;case"M":s=+c[1]+r,a=+c[2]+o;default:for(g=1,v=c.length;v>g;g++)u[g]=+c[g]+(g%2?r:o)}else if("R"==c[0])m=[r,o][D](c.slice(1)),i.pop(),i=i[D](l(m,p)),u=["R"][D](c.slice(-2));else for(var y=0,_=c.length;_>y;y++)u[y]=c[y];switch(u[0]){case"Z":r=s,o=a;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":s=u[u.length-2],a=u[u.length-1];default:r=u[u.length-2],o=u[u.length-1]}}return i.toString=n._path2string,e.abs=Ee(i),i},Ae=function(t,e,i,n){return[t,e,i,n,i,n]},Ne=function(t,e,i,n,r,o){var s=1/3,a=2/3;return[s*t+a*i,s*e+a*n,s*r+a*i,s*o+a*n,r,o]},Oe=function(t,e,i,n,r,o,a,l,h,u){var c,p=120*V/180,d=V/180*(+r||0),f=[],m=s(function(t,e,i){var n=t*U.cos(i)-e*U.sin(i),r=t*U.sin(i)+e*U.cos(i);return{x:n,y:r}});if(u)k=u[0],T=u[1],w=u[2],L=u[3];else{c=m(t,e,-d),t=c.x,e=c.y,c=m(l,h,-d),l=c.x,h=c.y;var g=(U.cos(V/180*r),U.sin(V/180*r),(t-l)/2),v=(e-h)/2,y=g*g/(i*i)+v*v/(n*n);y>1&&(y=U.sqrt(y),i=y*i,n=y*n);var _=i*i,x=n*n,b=(o==a?-1:1)*U.sqrt(W((_*x-_*v*v-x*g*g)/(_*v*v+x*g*g))),w=b*i*v/n+(t+l)/2,L=b*-n*g/i+(e+h)/2,k=U.asin(((e-L)/n).toFixed(9)),T=U.asin(((h-L)/n).toFixed(9));k=w>t?V-k:k,T=w>l?V-T:T,0>k&&(k=2*V+k),0>T&&(T=2*V+T),a&&k>T&&(k-=2*V),!a&&T>k&&(T-=2*V)}var P=T-k;if(W(P)>p){var S=T,C=l,E=h;T=k+p*(a&&T>k?1:-1),l=w+i*U.cos(T),h=L+n*U.sin(T),f=Oe(l,h,i,n,r,0,a,C,E,[T,S,w,L])}P=T-k;var M=U.cos(k),A=U.sin(k),N=U.cos(T),O=U.sin(T),B=U.tan(P/4),z=4/3*i*B,R=4/3*n*B,F=[t,e],H=[t+z*A,e-R*M],j=[l+z*O,h-R*N],q=[l,h];if(H[0]=2*F[0]-H[0],H[1]=2*F[1]-H[1],u)return[H,j,q][D](f);f=[H,j,q][D](f).join()[I](",");for(var $=[],Z=0,G=f.length;G>Z;Z++)$[Z]=Z%2?m(f[Z-1],f[Z],d).y:m(f[Z],f[Z+1],d).x;return $},Be=function(t,e,i,n,r,o,s,a,l){var h=1-l;return{x:q(h,3)*t+3*q(h,2)*l*i+3*h*l*l*r+q(l,3)*s,y:q(h,3)*e+3*q(h,2)*l*n+3*h*l*l*o+q(l,3)*a}},Ie=s(function(t,e,i,n,r,o,s,a){var l,h=r-2*i+t-(s-2*r+i),u=2*(i-t)-2*(r-i),c=t-i,p=(-u+U.sqrt(u*u-4*h*c))/2/h,d=(-u-U.sqrt(u*u-4*h*c))/2/h,f=[e,a],m=[t,s];return W(p)>"1e12"&&(p=.5),W(d)>"1e12"&&(d=.5),p>0&&1>p&&(l=Be(t,e,i,n,r,o,s,a,p),m.push(l.x),f.push(l.y)),d>0&&1>d&&(l=Be(t,e,i,n,r,o,s,a,d),m.push(l.x),f.push(l.y)),h=o-2*n+e-(a-2*o+n),u=2*(n-e)-2*(o-n),c=e-n,p=(-u+U.sqrt(u*u-4*h*c))/2/h,d=(-u-U.sqrt(u*u-4*h*c))/2/h,W(p)>"1e12"&&(p=.5),W(d)>"1e12"&&(d=.5),p>0&&1>p&&(l=Be(t,e,i,n,r,o,s,a,p),m.push(l.x),f.push(l.y)),d>0&&1>d&&(l=Be(t,e,i,n,r,o,s,a,d),m.push(l.x),f.push(l.y)),{min:{x:j[M](0,m),y:j[M](0,f)},max:{x:H[M](0,m),y:H[M](0,f)}}}),ze=n._path2curve=s(function(t,e){var i=!e&&Se(t);if(!e&&i.curve)return Ee(i.curve);for(var n=De(t),r=e&&De(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e){var i,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][D](Oe[M](0,[e.x,e.y][D](t.slice(1))));break;case"S":i=e.x+(e.x-(e.bx||e.x)),n=e.y+(e.y-(e.by||e.y)),t=["C",i,n][D](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][D](Ne(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][D](Ne(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][D](Ae(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][D](Ae(e.x,e.y,t[1],e.y));break;case"V":t=["C"][D](Ae(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][D](Ae(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][D](i.splice(0,6)));t.splice(e,1),c=H(n.length,r&&r.length||0)}},h=function(t,e,i,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[s][1],i.y=t[s][2],c=H(n.length,r&&r.length||0))},u=0,c=H(n.length,r&&r.length||0);c>u;u++){n[u]=a(n[u],o),l(n,u),r&&(r[u]=a(r[u],s)),r&&l(r,u),h(n,r,o,s,u),h(r,n,s,o,u);var p=n[u],d=r&&r[u],f=p.length,m=r&&d.length;o.x=p[f-2],o.y=p[f-1],o.bx=te(p[f-4])||o.x,o.by=te(p[f-3])||o.y,s.bx=r&&(te(d[m-4])||s.x),s.by=r&&(te(d[m-3])||s.y),s.x=r&&d[m-2],s.y=r&&d[m-1]}return r||(i.curve=Ee(n)),r?[n,r]:n},null,Ee),Re=(n._parseDots=s(function(t){for(var e=[],i=0,r=t.length;r>i;i++){var o={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=n.getRGB(s[1]),o.color.error)return null;o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),e.push(o)}for(i=1,r=e.length-1;r>i;i++)if(!e[i].offset){for(var a=te(e[i-1].offset||0),l=0,h=i+1;r>h;h++)if(e[h].offset){l=e[h].offset;break}l||(l=100,h=r),l=te(l);for(var u=(l-a)/(h-i+1);h>i;i++)a+=u,e[i].offset=a+"%"}return e}),n._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Fe=(n._tofront=function(t,e){e.top!==t&&(Re(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},n._toback=function(t,e){e.bottom!==t&&(Re(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},n._insertafter=function(t,e,i){Re(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},n._insertbefore=function(t,e,i){Re(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},n.toMatrix=function(t,e){var i=Ce(t),n={_:{transform:N},getBBox:function(){return i}};return Ue(n,e),n.matrix}),Ue=(n.transformPath=function(t,e){return ye(t,Fe(t,e))},n._extractTransform=function(t,e){if(null==e)return t._.transform;e=B(e).replace(/\.{3}|\u2026/g,t._.transform||N);var i=n.parseTransformString(e),r=0,o=0,s=0,a=1,l=1,h=t._,u=new m;if(h.transform=i||[],i)for(var c=0,p=i.length;p>c;c++){var d,f,g,v,y,_=i[c],x=_.length,b=B(_[0]).toLowerCase(),w=_[0]!=b,L=w?u.invert():0;"t"==b&&3==x?w?(d=L.x(0,0),f=L.y(0,0),g=L.x(_[1],_[2]),v=L.y(_[1],_[2]),u.translate(g-d,v-f)):u.translate(_[1],_[2]):"r"==b?2==x?(y=y||t.getBBox(1),u.rotate(_[1],y.x+y.width/2,y.y+y.height/2),r+=_[1]):4==x&&(w?(g=L.x(_[2],_[3]),v=L.y(_[2],_[3]),u.rotate(_[1],g,v)):u.rotate(_[1],_[2],_[3]),r+=_[1]):"s"==b?2==x||3==x?(y=y||t.getBBox(1),u.scale(_[1],_[x-1],y.x+y.width/2,y.y+y.height/2),a*=_[1],l*=_[x-1]):5==x&&(w?(g=L.x(_[3],_[4]),v=L.y(_[3],_[4]),u.scale(_[1],_[2],g,v)):u.scale(_[1],_[2],_[3],_[4]),a*=_[1],l*=_[2]):"m"==b&&7==x&&u.add(_[1],_[2],_[3],_[4],_[5],_[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=a,h.sy=l,h.deg=r,h.dx=o=u.e,h.dy=s=u.f,1==a&&1==l&&!r&&h.bbox?(h.bbox.x+=+o,h.bbox.y+=+s):h.dirtyT=1}),He=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},je=n._equaliseTransform=function(t,e){e=B(e).replace(/\.{3}|\u2026/g,t),t=n.parseTransformString(t)||[],e=n.parseTransformString(e)||[];for(var i,r,o,s,a=H(t.length,e.length),l=[],h=[],u=0;a>u;u++){if(o=t[u]||He(e[u]),s=e[u]||He(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(l[u]=[],h[u]=[],i=0,r=H(o.length,s.length);r>i;i++)i in o&&(l[u][i]=o[i]),i in s&&(h[u][i]=s[i])}return{from:l,to:h}};n._getContainer=function(t,e,i,r){var o;return o=null!=r||n.is(t,"object")?t:S.doc.getElementById(t),null!=o?o.tagName?null==e?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:e,height:i}:{container:1,x:t,y:e,width:i,height:r}:void 0},n.pathToRelative=Me,n._engine={},n.path2curve=ze,n.matrix=function(t,e,i,n,r,o){return new m(t,e,i,n,r,o)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var i=U.sqrt(e(t));t[0]&&(t[0]/=i),t[1]&&(t[1]/=i)}t.add=function(t,e,i,n,r,o){var s,a,l,h,u=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,i,r],[e,n,o],[0,0,1]];for(t&&t instanceof m&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(a=0;3>a;a++){for(h=0,l=0;3>l;l++)h+=c[s][l]*p[l][a];u[s][a]=h}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new m(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new m(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,i){t=n.rad(t),e=e||0,i=i||0;var r=+U.cos(t).toFixed(9),o=+U.sin(t).toFixed(9);this.add(r,o,-o,r,e,i),this.add(1,0,0,1,-e,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[B.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=U.sqrt(e(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=U.sqrt(e(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return 0>s?(t.rotate=n.deg(U.acos(s)),0>o&&(t.rotate=360-t.rotate)):t.rotate=n.deg(U.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[I]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:N)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:N)+(e.rotate?"r"+[e.rotate,0,0]:N)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]
}}(m.prototype);var We=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);w.safari="Apple Computer, Inc."==navigator.vendor&&(We&&4>We[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&We&&8>We[1]?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:de;for(var qe=function(){this.returnValue=!1},Ve=function(){return this.originalEvent.preventDefault()},$e=function(){this.cancelBubble=!0},Ze=function(){return this.originalEvent.stopPropagation()},Ge=function(){return S.doc.addEventListener?function(t,e,i,n){var r=A&&R[e]?R[e]:e,o=function(r){var o=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=r.clientX+s,l=r.clientY+o;if(A&&R[P](e))for(var h=0,u=r.targetTouches&&r.targetTouches.length;u>h;h++)if(r.targetTouches[h].target==t){var c=r;r=r.targetTouches[h],r.originalEvent=c,r.preventDefault=Ve,r.stopPropagation=Ze;break}return i.call(n,r,a,l)};return t.addEventListener(r,o,!1),function(){return t.removeEventListener(r,o,!1),!0}}:S.doc.attachEvent?function(t,e,i,n){var r=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,r=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||qe,t.stopPropagation=t.stopPropagation||$e,i.call(n,t,o,s)};t.attachEvent("on"+e,r);var o=function(){return t.detachEvent("on"+e,r),!0};return o}:void 0}(),Ye=[],Xe=function(t){for(var e,n=t.clientX,r=t.clientY,o=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=Ye.length;a--;){if(e=Ye[a],A){for(var l,h=t.touches.length;h--;)if(l=t.touches[h],l.identifier==e.el._drag.id){n=l.clientX,r=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var u,c=e.el.node,p=c.nextSibling,d=c.parentNode,f=c.style.display;S.win.opera&&d.removeChild(c),c.style.display="none",u=e.el.paper.getElementByPoint(n,r),c.style.display=f,S.win.opera&&(p?d.insertBefore(c,p):d.appendChild(c)),u&&i("raphael.drag.over."+e.el.id,e.el,u),n+=s,r+=o,i("raphael.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,r-e.el._drag.y,n,r,t)}},Je=function(t){n.unmousemove(Xe).unmouseup(Je);for(var e,r=Ye.length;r--;)e=Ye[r],e.el._drag={},i("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);Ye=[]},Ke=n.el={},Qe=z.length;Qe--;)(function(t){n[t]=Ke[t]=function(e,i){return n.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Ge(this.shape||this.node||S.doc,t,e,i||this)})),this},n["un"+t]=Ke["un"+t]=function(e){for(var i=this.events||[],n=i.length;n--;)if(i[n].name==t&&i[n].f==e)return i[n].unbind(),i.splice(n,1),!i.length&&delete this.events,this;return this}})(z[Qe]);Ke.data=function(t,e){var r=ce[this.id]=ce[this.id]||{};if(1==arguments.length){if(n.is(t,"object")){for(var o in t)t[P](o)&&this.data(o,t[o]);return this}return i("raphael.data.get."+this.id,this,r[t],t),r[t]}return r[t]=e,i("raphael.data.set."+this.id,this,e,t),this},Ke.removeData=function(t){return null==t?ce[this.id]={}:ce[this.id]&&delete ce[this.id][t],this},Ke.getData=function(){return r(ce[this.id]||{})},Ke.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Ke.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var ti=[];Ke.drag=function(t,e,r,o,s,a){function l(l){(l.originalEvent||l).preventDefault();var h=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,u=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;this._drag.x=l.clientX+u,this._drag.y=l.clientY+h,this._drag.id=l.identifier,!Ye.length&&n.mousemove(Xe).mouseup(Je),Ye.push({el:this,move_scope:o,start_scope:s,end_scope:a}),e&&i.on("raphael.drag.start."+this.id,e),t&&i.on("raphael.drag.move."+this.id,t),r&&i.on("raphael.drag.end."+this.id,r),i("raphael.drag.start."+this.id,s||o||this,l.clientX+u,l.clientY+h,l)}return this._drag={},ti.push({el:this,start:l}),this.mousedown(l),this},Ke.onDragOver=function(t){t?i.on("raphael.drag.over."+this.id,t):i.unbind("raphael.drag.over."+this.id)},Ke.undrag=function(){for(var t=ti.length;t--;)ti[t].el==this&&(this.unmousedown(ti[t].start),ti.splice(t,1),i.unbind("raphael.drag.*."+this.id));!ti.length&&n.unmousemove(Xe).unmouseup(Je),Ye=[]},w.circle=function(t,e,i){var r=n._engine.circle(this,t||0,e||0,i||0);return this.__set__&&this.__set__.push(r),r},w.rect=function(t,e,i,r,o){var s=n._engine.rect(this,t||0,e||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},w.ellipse=function(t,e,i,r){var o=n._engine.ellipse(this,t||0,e||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},w.path=function(t){t&&!n.is(t,Z)&&!n.is(t[0],G)&&(t+=N);var e=n._engine.path(n.format[M](n,arguments),this);return this.__set__&&this.__set__.push(e),e},w.image=function(t,e,i,r,o){var s=n._engine.image(this,t||"about:blank",e||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},w.text=function(t,e,i){var r=n._engine.text(this,t||0,e||0,B(i));return this.__set__&&this.__set__.push(r),r},w.set=function(t){!n.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new pi(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(){var t=this.__set__;return delete this.__set__,t},w.setSize=function(t,e){return n._engine.setSize.call(this,t,e)},w.setViewBox=function(t,e,i,r,o){return n._engine.setViewBox.call(this,t,e,i,r,o)},w.top=w.bottom=null,w.raphael=n;var ei=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,o=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,a=e.top+(S.win.pageYOffset||r.scrollTop||n.scrollTop)-o,l=e.left+(S.win.pageXOffset||r.scrollLeft||n.scrollLeft)-s;return{y:a,x:l}};w.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=S.doc.elementFromPoint(t,e);if(S.win.opera&&"svg"==r.tagName){var o=ei(n),s=n.createSVGRect();s.x=t-o.x,s.y=e-o.y,s.width=s.height=1;var a=n.getIntersectionList(s,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null},w.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(i){n.isBBoxIntersect(i.getBBox(),t)&&e.push(i)}),e},w.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},w.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Ke.isPointInside=function(t,e){var i=this.realPath=this.realPath||ve[this.type](this);return n.isPointInsidePath(i,t,e)},Ke.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=ve[this.type](this),e.bboxwt=Ce(this.realPath),e.bboxwt.toString=g,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=ve[this.type](this)),e.bbox=Ce(ye(this.realPath,this.matrix)),e.bbox.toString=g,e.dirty=e.dirtyT=0),e.bbox)},Ke.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Ke.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),o=this.realPath||ve[this.type](this);o=this.matrix?ye(o,this.matrix):o;for(var s=1;i+1>s;s++)r.push(n.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*s).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var ii=function(t,e,i,r,o,s,a,l,h){return null==h?u(t,e,i,r,o,s,a,l):n.findDotsAtSegment(t,e,i,r,o,s,a,l,c(t,e,i,r,o,s,a,l,h))},ni=function(t,e){return function(i,r,o){i=ze(i);for(var s,a,l,h,u,c="",p={},d=0,f=0,m=i.length;m>f;f++){if(l=i[f],"M"==l[0])s=+l[1],a=+l[2];else{if(h=ii(s,a,l[1],l[2],l[3],l[4],l[5],l[6]),d+h>r){if(e&&!p.start){if(u=ii(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-d),c+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return c;p.start=c,c=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),d+=h,s=+l[5],a=+l[6];continue}if(!t&&!e)return u=ii(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-d),{x:u.x,y:u.y,alpha:u.alpha}}d+=h,s=+l[5],a=+l[6]}c+=l.shift()+l}return p.end=c,u=t?d:e?p:n.findDotsAtSegment(s,a,l[0],l[1],l[2],l[3],l[4],l[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},ri=ni(1),oi=ni(),si=ni(0,1);n.getTotalLength=ri,n.getPointAtLength=oi,n.getSubpath=function(t,e,i){if(1e-6>this.getTotalLength(t)-i)return si(t,e).end;var n=si(t,i,1);return e?si(n,e).end:n},Ke.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():ri(this.attrs.path):void 0},Ke.getPointAtLength=function(t){return"path"==this.type?oi(this.attrs.path,t):void 0},Ke.getSubpath=function(t,e){return"path"==this.type?n.getSubpath(this.attrs.path,t,e):void 0};var ai=n.easing_formulas={linear:function(t){return t},"<":function(t){return q(t,1.7)},">":function(t){return q(t,.48)},"<>":function(t){var e=.48-t/1.04,i=U.sqrt(.1734+e*e),n=i-e,r=q(W(n),1/3)*(0>n?-1:1),o=-i-e,s=q(W(o),1/3)*(0>o?-1:1),a=r+s+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:q(2,-10*t)*U.sin((t-.075)*2*V/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};ai.easeIn=ai["ease-in"]=ai["<"],ai.easeOut=ai["ease-out"]=ai[">"],ai.easeInOut=ai["ease-in-out"]=ai["<>"],ai["back-in"]=ai.backIn,ai["back-out"]=ai.backOut;var li=[],hi=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ui=function(){for(var t=+new Date,e=0;li.length>e;e++){var r=li[e];if(!r.el.removed&&!r.paused){var o,s,a=t-r.start,l=r.ms,h=r.easing,u=r.from,c=r.diff,p=r.to,d=(r.t,r.el),f={},m={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&li.splice(e--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(0>a))if(l>a){var g=h(a/l);for(var v in u)if(u[P](v)){switch(re[v]){case $:o=+u[v]+g*l*c[v];break;case"colour":o="rgb("+[ci(Q(u[v].r+g*l*c[v].r)),ci(Q(u[v].g+g*l*c[v].g)),ci(Q(u[v].b+g*l*c[v].b))].join(",")+")";break;case"path":o=[];for(var y=0,x=u[v].length;x>y;y++){o[y]=[u[v][y][0]];for(var b=1,w=u[v][y].length;w>b;b++)o[y][b]=+u[v][y][b]+g*l*c[v][y][b];o[y]=o[y].join(O)}o=o.join(O);break;case"transform":if(c[v].real)for(o=[],y=0,x=u[v].length;x>y;y++)for(o[y]=[u[v][y][0]],b=1,w=u[v][y].length;w>b;b++)o[y][b]=u[v][y][b]+g*l*c[v][y][b];else{var L=function(t){return+u[v][t]+g*l*c[v][t]};o=[["m",L(0),L(1),L(2),L(3),L(4),L(5)]]}break;case"csv":if("clip-rect"==v)for(o=[],y=4;y--;)o[y]=+u[v][y]+g*l*c[v][y];break;default:var k=[][D](u[v]);for(o=[],y=d.paper.customAttributes[v].length;y--;)o[y]=+k[y]+g*l*c[v][y]}f[v]=o}d.attr(f),function(t,e,n){setTimeout(function(){i("raphael.anim.frame."+t,e,n)})}(d.id,d,r.anim)}else{if(function(t,e,r){setTimeout(function(){i("raphael.anim.frame."+e.id,e,r),i("raphael.anim.finish."+e.id,e,r),n.is(t,"function")&&t.call(e)})}(r.callback,d,r.anim),d.attr(p),li.splice(e--,1),r.repeat>1&&!r.next){for(s in p)p[P](s)&&(m[s]=r.totalOrigin[s]);r.el.attr(m),_(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&_(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}n.svg&&d&&d.paper&&d.paper.safari(),li.length&&hi(ui)},ci=function(t){return t>255?255:0>t?0:t};Ke.animateWith=function(t,e,i,r,o,s){var a=this;if(a.removed)return s&&s.call(a),a;var l=i instanceof y?i:n.animation(i,r,o,s);_(l,a,l.percents[0],null,a.attr());for(var h=0,u=li.length;u>h;h++)if(li[h].anim==e&&li[h].el==t){li[u-1].start=li[h].start;break}return a},Ke.onAnimation=function(t){return t?i.on("raphael.anim.frame."+this.id,t):i.unbind("raphael.anim.frame."+this.id),this},y.prototype.delay=function(t){var e=new y(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},y.prototype.repeat=function(t){var e=new y(this.anim,this.ms);return e.del=this.del,e.times=U.floor(H(t,0))||1,e},n.animation=function(t,e,i,r){if(t instanceof y)return t;(n.is(i,"function")||!i)&&(r=r||i||null,i=null),t=Object(t),e=+e||0;var o,s,a={};for(s in t)t[P](s)&&te(s)!=s&&te(s)+"%"!=s&&(o=!0,a[s]=t[s]);return o?(i&&(a.easing=i),r&&(a.callback=r),new y({100:a},e)):new y(t,e)},Ke.animate=function(t,e,i,r){var o=this;if(o.removed)return r&&r.call(o),o;var s=t instanceof y?t:n.animation(t,e,i,r);return _(s,o,s.percents[0],null,o.attr()),o},Ke.setTime=function(t,e){return t&&null!=e&&this.status(t,j(e,t.ms)/t.ms),this},Ke.status=function(t,e){var i,n,r=[],o=0;if(null!=e)return _(t,this,-1,j(e,1)),this;for(i=li.length;i>o;o++)if(n=li[o],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Ke.pause=function(t){for(var e=0;li.length>e;e++)li[e].el.id!=this.id||t&&li[e].anim!=t||i("raphael.anim.pause."+this.id,this,li[e].anim)!==!1&&(li[e].paused=!0);return this},Ke.resume=function(t){for(var e=0;li.length>e;e++)if(li[e].el.id==this.id&&(!t||li[e].anim==t)){var n=li[e];i("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Ke.stop=function(t){for(var e=0;li.length>e;e++)li[e].el.id!=this.id||t&&li[e].anim!=t||i("raphael.anim.stop."+this.id,this,li[e].anim)!==!1&&li.splice(e--,1);return this},i.on("raphael.remove",x),i.on("raphael.clear",x),Ke.toString=function(){return"Raphals object"};var pi=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Ke.constructor&&t[e].constructor!=pi||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},di=pi.prototype;di.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)t=arguments[i],!t||t.constructor!=Ke.constructor&&t.constructor!=pi||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},di.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},di.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var fi in Ke)Ke[P](fi)&&(di[fi]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][M](i,e)})}}(fi));di.attr=function(t,e){if(t&&n.is(t,G)&&n.is(t[0],"object"))for(var i=0,r=t.length;r>i;i++)this.items[i].attr(t[i]);else for(var o=0,s=this.items.length;s>o;o++)this.items[o].attr(t,e);return this},di.clear=function(){for(;this.length;)this.pop()},di.splice=function(t,e){t=0>t?H(this.length+t,0):t,e=H(0,j(this.length-t,e));var i,n=[],r=[],o=[];for(i=2;arguments.length>i;i++)o.push(arguments[i]);for(i=0;e>i;i++)r.push(this[t+i]);for(;this.length-t>i;i++)n.push(this[t+i]);var s=o.length;for(i=0;s+n.length>i;i++)this.items[t+i]=this[t+i]=s>i?o[i]:n[i-s];for(i=this.items.length=this.length-=e-s;this[i];)delete this[i++];return new pi(r)},di.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},di.animate=function(t,e,i,r){(n.is(i,"function")||!i)&&(r=i||null);var o,s,a=this.items.length,l=a,h=this;if(!a)return this;r&&(s=function(){!--a&&r.call(h)}),i=n.is(i,Z)?i:s;var u=n.animation(t,e,i,s);for(o=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,u,u);return this},di.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},di.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),i.push(o.x+o.width),n.push(o.y+o.height)}return t=j[M](0,t),e=j[M](0,e),i=H[M](0,i),n=H[M](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},di.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},di.toString=function(){return"Raphals set"},di.glow=function(t){var e=this.paper.set();return this.forEach(function(i){var n=i.glow(t);null!=n&&n.forEach(function(t){e.push(t)})}),e},n.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[P](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=ee(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[P](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var s in o.k)o[P](s)&&(e.glyphs[r].k[s]=o.k[s])}}return t},w.getFont=function(t,e,i,r){if(r=r||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,n.fonts){var o=n.fonts[t];if(!o){var s=RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,N)+"(\\s|$)","i");for(var a in n.fonts)if(n.fonts[P](a)&&s.test(a)){o=n.fonts[a];break}}var l;if(o)for(var h=0,u=o.length;u>h&&(l=o[h],l.face["font-weight"]!=e||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=r);h++);return l}},w.print=function(t,e,i,r,o,s,a){s=s||"middle",a=H(j(a||0,1),-1);var l,h=B(i)[I](N),u=0,c=0,p=N;if(n.is(r,"string")&&(r=this.getFont(r)),r){l=(o||16)/r.face["units-per-em"];for(var d=r.face.bbox[I](L),f=+d[0],m=d[3]-d[1],g=0,v=+d[1]+("baseline"==s?m+ +r.face.descent:m/2),y=0,_=h.length;_>y;y++){if("\n"==h[y])u=0,b=0,c=0,g+=m;else{var x=c&&r.glyphs[h[y-1]]||{},b=r.glyphs[h[y]];u+=c?(x.w||r.w)+(x.k&&x.k[h[y]]||0)+r.w*a:0,c=1}b&&b.d&&(p+=n.transformPath(b.d,["t",u*l,g*l,"s",l,l,f,v,"t",(t-f)/l,(e-v)/l]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},w.add=function(t){if(n.is(t,"array"))for(var e,i=this.set(),r=0,o=t.length;o>r;r++)e=t[r]||{},k[P](e.type)&&i.push(this[e.type]().attr(e));return i},n.format=function(t,e){var i=n.is(e,G)?[0][D](e):arguments;return t&&n.is(t,Z)&&i.length-1&&(t=t.replace(T,function(t,e){return null==i[++e]?N:i[e]})),t||N},n.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;return i.replace(e,function(t,e,i,n,o){e=e||n,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==n?t:r)+""};return function(e,n){return(e+"").replace(t,function(t,e){return i(t,e,n)})}}(),n.ninja=function(){return C.was?S.win.Raphael=C.is:delete Raphael,n},n.st=di,function(t,e,i){function r(){/in/.test(t.readyState)?setTimeout(r,9):n.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,i=function(){t.removeEventListener(e,i,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document,"DOMContentLoaded"),C.was?S.win.Raphael=n:Raphael=n,i.on("raphael.DOMload",function(){b=!0}),t("./raphael.svg"),t("./raphael.vml"),e.exports=Raphael})()},{"./raphael.svg":25,"./raphael.vml":26,eve:27}],27:[function(t,e){(function(t){var i,n,r="0.4.2",o="hasOwnProperty",s=/[\.\/]/,a="*",l=function(){},h=function(t,e){return t-e},u={n:{}},c=function(t,e){t+="";var r,o=n,s=Array.prototype.slice.call(arguments,2),a=c.listeners(t),l=0,u=[],p={},d=[],f=i;i=t,n=0;for(var m=0,g=a.length;g>m;m++)"zIndex"in a[m]&&(u.push(a[m].zIndex),0>a[m].zIndex&&(p[a[m].zIndex]=a[m]));for(u.sort(h);0>u[l];)if(r=p[u[l++]],d.push(r.apply(e,s)),n)return n=o,d;for(m=0;g>m;m++)if(r=a[m],"zIndex"in r)if(r.zIndex==u[l]){if(d.push(r.apply(e,s)),n)break;do if(l++,r=p[u[l]],r&&d.push(r.apply(e,s)),n)break;while(r)}else p[r.zIndex]=r;else if(d.push(r.apply(e,s)),n)break;return n=o,i=f,d.length?d:null};c._events=u,c.listeners=function(t){var e,i,n,r,o,l,h,c,p=t.split(s),d=u,f=[d],m=[];for(r=0,o=p.length;o>r;r++){for(c=[],l=0,h=f.length;h>l;l++)for(d=f[l].n,i=[d[p[r]],d[a]],n=2;n--;)e=i[n],e&&(c.push(e),m=m.concat(e.f||[]));f=c}return m},c.on=function(t,e){if(t+="","function"!=typeof e)return function(){};for(var i=t.split(s),n=u,r=0,o=i.length;o>r;r++)n=n.n,n=n.hasOwnProperty(i[r])&&n[i[r]]||(n[i[r]]={n:{}});for(n.f=n.f||[],r=0,o=n.f.length;o>r;r++)if(n.f[r]==e)return l;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},c.stop=function(){n=1},c.nt=function(t){return t?RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(i):i},c.nts=function(){return i.split(s)},c.off=c.unbind=function(t,e){if(!t)return c._events=u={n:{}},void 0;var i,n,r,l,h,p,d,f=t.split(s),m=[u];for(l=0,h=f.length;h>l;l++)for(p=0;m.length>p;p+=r.length-2){if(r=[p,1],i=m[p].n,f[l]!=a)i[f[l]]&&r.push(i[f[l]]);else for(n in i)i[o](n)&&r.push(i[n]);m.splice.apply(m,r)}for(l=0,h=m.length;h>l;l++)for(i=m[l];i.n;){if(e){if(i.f){for(p=0,d=i.f.length;d>p;p++)if(i.f[p]==e){i.f.splice(p,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[o](n)&&i.n[n].f){var g=i.n[n].f;for(p=0,d=g.length;d>p;p++)if(g[p]==e){g.splice(p,1);break}!g.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[o](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},c.once=function(t,e){var i=function(){return c.unbind(t,i),e.apply(this,arguments)};return c.on(t,i)},c.version=r,c.toString=function(){return"You are running Eve "+r},e!==void 0&&e.exports?e.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c})(this)},{}],24:[function(t,e){e.exports.attach=function(e){var i=t("./visitor"),n=t("./printer"),r=t("./ast"),o=t("./compiler");return i.attach(e),n.attach(e),r.attach(e),o.attach(e),e}},{"./ast":30,"./compiler":31,"./printer":29,"./visitor":28}],29:[function(t,e,i){i.attach=function(t){return t.print=function(e){return(new t.PrintVisitor).accept(e)},t.PrintVisitor=function(){this.padding=0},t.PrintVisitor.prototype=new t.Visitor,t.PrintVisitor.prototype.pad=function(t,e){for(var i="",n=0,r=this.padding;r>n;n++)i+="  ";return i+=t,e!==!1&&(i+="\n"),i},t.PrintVisitor.prototype.program=function(t){var e,i,n="",r=t.statements;for(t.inverse,e=0,i=r.length;i>e;e++)n+=this.accept(r[e]);return this.padding--,n},t.PrintVisitor.prototype.block=function(t){var e="";return e+=this.pad("BLOCK:"),this.padding++,e+=this.accept(t.mustache),t.program&&(e+=this.pad("PROGRAM:"),this.padding++,e+=this.accept(t.program),this.padding--),t.inverse&&(t.program&&this.padding++,e+=this.pad("{{^}}"),this.padding++,e+=this.accept(t.inverse),this.padding--,t.program&&this.padding--),this.padding--,e},t.PrintVisitor.prototype.mustache=function(t){for(var e,i=t.params,n=[],r=0,o=i.length;o>r;r++)n.push(this.accept(i[r]));return i="["+n.join(", ")+"]",e=t.hash?" "+this.accept(t.hash):"",this.pad("{{ "+this.accept(t.id)+" "+i+e+" }}")},t.PrintVisitor.prototype.partial=function(t){var e=this.accept(t.partialName);return t.context&&(e=e+" "+this.accept(t.context)),this.pad("{{> "+e+" }}")},t.PrintVisitor.prototype.hash=function(t){for(var e,i,n=t.pairs,r=[],o=0,s=n.length;s>o;o++)e=n[o][0],i=this.accept(n[o][1]),r.push(e+"="+i);return"HASH{"+r.join(", ")+"}"},t.PrintVisitor.prototype.STRING=function(t){return'"'+t.string+'"'},t.PrintVisitor.prototype.INTEGER=function(t){return"INTEGER{"+t.integer+"}"},t.PrintVisitor.prototype.BOOLEAN=function(t){return"BOOLEAN{"+t.bool+"}"},t.PrintVisitor.prototype.ID=function(t){var e=t.parts.join("/");return t.parts.length>1?"PATH:"+e:"ID:"+e},t.PrintVisitor.prototype.PARTIAL_NAME=function(t){return"PARTIAL:"+t.name},t.PrintVisitor.prototype.DATA=function(t){return"@"+this.accept(t.id)},t.PrintVisitor.prototype.content=function(t){return this.pad("CONTENT[ '"+t.string+"' ]")},t.PrintVisitor.prototype.comment=function(t){return this.pad("{{! '"+t.comment+"' }}")},t}},{}],28:[function(t,e,i){i.attach=function(t){return t.Visitor=function(){},t.Visitor.prototype={accept:function(t){return this[t.type](t)}},t}},{}],30:[function(t,e,i){i.attach=function(t){return t.AST={},t.AST.ProgramNode=function(e,i){this.type="program",this.statements=e,i&&(this.inverse=new t.AST.ProgramNode(i))},t.AST.MustacheNode=function(t,e,i){this.type="mustache",this.escaped=!i,this.hash=e;var n=this.id=t[0],r=this.params=t.slice(1),o=this.eligibleHelper=n.isSimple;this.isHelper=o&&(r.length||e)},t.AST.PartialNode=function(t,e){this.type="partial",this.partialName=t,this.context=e},t.AST.BlockNode=function(e,i,n,r){var o=function(e,i){if(e.original!==i.original)throw new t.Exception(e.original+" doesn't match "+i.original)};o(e.id,r),this.type="block",this.mustache=e,this.program=i,this.inverse=n,this.inverse&&!this.program&&(this.isInverse=!0)},t.AST.ContentNode=function(t){this.type="content",this.string=t},t.AST.HashNode=function(t){this.type="hash",this.pairs=t},t.AST.IdNode=function(e){this.type="ID";for(var i="",n=[],r=0,o=0,s=e.length;s>o;o++){var a=e[o].part;if(i+=(e[o].separator||"")+a,".."===a||"."===a||"this"===a){if(n.length>0)throw new t.Exception("Invalid path: "+i);".."===a?r++:this.isScoped=!0}else n.push(a)}this.original=i,this.parts=n,this.string=n.join("."),this.depth=r,this.isSimple=1===e.length&&!this.isScoped&&0===r,this.stringModeValue=this.string},t.AST.PartialNameNode=function(t){this.type="PARTIAL_NAME",this.name=t.original},t.AST.DataNode=function(t){this.type="DATA",this.id=t},t.AST.StringNode=function(t){this.type="STRING",this.original=this.string=this.stringModeValue=t},t.AST.IntegerNode=function(t){this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},t.AST.BooleanNode=function(t){this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},t.AST.CommentNode=function(t){this.type="comment",this.comment=t},t}},{}],31:[function(t,e,i){var n=t("./base");i.attach=function(t){n.attach(t);var e=t.Compiler=function(){},i=t.JavaScriptCompiler=function(){};e.prototype={compiler:e,disassemble:function(){for(var t,e,i,n=this.opcodes,r=[],o=0,s=n.length;s>o;o++)if(t=n[o],"DECLARE"===t.opcode)r.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;t.args.length>a;a++)i=t.args[a],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),e.push(i);r.push(t.opcode+" "+e.join(" "))}return r.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],r=t.opcodes[i];if(n.opcode!==r.opcode||n.args.length!==r.args.length)return!1;for(var o=0;n.args.length>o;o++)if(n.args[o]!==r.args[o])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.children=[],this.depths={list:[]},this.options=e;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.program(t)},accept:function(t){return this[t.type](t)},program:function(t){var e,i=t.statements;this.opcodes=[];for(var n=0,r=i.length;r>n;n++)e=i[n],this[e.type](e);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,i=(new this.compiler).compile(t,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var r=0,o=i.depths.list.length;o>r;r++)e=i.depths.list[r],2>e||this.addDepth(e-1);return n},block:function(t){var e=t.mustache,i=t.program,n=t.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var r=this.classifyMustache(e);"helper"===r?this.helperMustache(e,i,n):"simple"===r?(this.simpleMustache(e),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,i,n=t.pairs;this.opcode("pushHash");for(var r=0,o=n.length;o>r;r++)e=n[r],i=e[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type)):this.accept(i),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){var e=this.options,i=this.classifyMustache(t);"simple"===i?this.simpleMustache(t):"helper"===i?this.helperMustache(t):this.ambiguousMustache(t),t.escaped&&!e.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(t,e,i){var n=t.id,r=n.parts[0],o=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",r,o)},simpleMustache:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),r=t.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",n.length,r);else{if(this.options.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+r);this.opcode("invokeHelper",n.length,r)}},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var i=1,n=t.parts.length;n>i;i++)this.opcode("lookup",t.parts[i])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new t.Exception("Scoped data references are not supported: "+e.original);this.opcode("lookupData");for(var i=e.id.parts,n=0,r=i.length;r>n;n++)this.opcode("lookup",i[n])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){if(isNaN(t))throw Error("EWOT");0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifyMustache:function(t){var e=t.isHelper,i=t.eligibleHelper,n=this.options;if(i&&!e){var r=t.id.parts[0];n.knownHelpers[r]?e=!0:n.knownHelpersOnly&&(i=!1)}return e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e,i=t.length;i--;)e=t[i],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type)):this[e.type](e)},setupMustacheParams:function(t){var e=t.params;return this.pushParams(e),t.hash?this.hash(t.hash):this.opcode("emptyHash"),e},setupFullMustacheParams:function(t,e,i){var n=t.params;return this.pushParams(n),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),n}};var r=function(t){this.value=t};i.prototype={nameLookup:function(t,e){return/^[0-9]+$/.test(e)?t+"["+e+"]":i.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,i,n,r){this.environment=e,this.options=i||{},t.log(t.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,i);
var o,s=e.opcodes;for(this.i=0,l=s.length;l>this.i;this.i++)o=s[this.i],"DECLARE"===o.opcode?this[o.name]=o.value:this[o.opcode].apply(this,o.args);return this.createFunctionContext(r)},nextOpcode:function(){var t=this.environment.opcodes;return t[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,i="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(i+=" data = data || {};"),t.push(i)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(e){var i=this.stackVars.concat(this.registers.list);if(i.length>0&&(this.source[1]=this.source[1]+", "+i.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],o=0,s=this.environment.depths.list.length;s>o;o++)r.push("depth"+this.environment.depths.list[o]);var a=this.mergeSource();if(!this.isChild){var l=t.COMPILER_REVISION,h=t.REVISION_CHANGES[l];a="this.compilerInfo = ["+l+",'"+h+"'];\n"+a}if(e)return r.push(a),Function.apply(this,r);var u="function "+(this.name||"")+"("+r.join(",")+") {\n  "+a+"}";return t.log(t.logger.DEBUG,u+"\n\n"),u},mergeSource:function(){for(var t,e="",i=0,n=this.source.length;n>i;i++){var r=this.source[i];r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=r+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),t[t.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.source.push(this.appendToBuffer(this.quotedString(t)))},append:function(){this.flushInline();var t=this.popStack();this.source.push("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"string"==typeof t?this.pushString(t):this.pushStackLiteral(t)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=void 0,this.options.stringParams&&(this.register("hashContexts","{"+t.contexts.join(",")+"}"),this.register("hashTypes","{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(t,e,!0),n=this.nameLookup("depth"+this.lastContext,e,"context");this.push(i.name+" || "+n),this.replaceStack(function(t){return t+" ? "+t+".call("+i.callParams+") "+": helperMissing.call("+i.helperMissingParams+")"})},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var i=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper"),r=this.nameLookup("depth"+this.lastContext,t,"context"),o=this.nextStack();this.source.push("if ("+o+" = "+n+") { "+o+" = "+o+".call("+i.callParams+"); }"),this.source.push("else { "+o+" = "+r+"; "+o+" = typeof "+o+" === functionType ? "+o+".apply(depth0) : "+o+"; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),e=this.popStack());var r=this.hash;e&&r.contexts.push("'"+t+"': "+e),i&&r.types.push("'"+t+"': "+i),r.values.push("'"+t+"': ("+n+")")},compiler:i,compileChildren:function(t,e){for(var i,n,r=t.children,o=0,s=r.length;s>o;o++){i=r[o],n=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=n.compile(i,e,this.context),this.context.environments[a]=i):(i.index=a,i.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,i=this.environment.children[t],n=i.depths.list,r=[i.index,i.name,"data"],o=0,s=n.length;s>o;o++)e=n[o],1===e?r.push("depth0"):r.push("depth"+(e-1));return(0===n.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(t,e){this.useRegister(t),this.source.push(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new r(t))},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.source.push(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,i="",n=this.isInline();if(n){var o=this.popStack(!0);if(o instanceof r)e=o.value;else{var s=this.stackSlot?this.topStackName():this.incrStack();i="("+this.push(s)+" = "+o+"),",e=this.topStack()}}else e=this.topStack();var a=t.call(this,e);return n?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+i+a+")")):(/^stack/.test(e)||(e=this.nextStack()),this.source.push(e+" = ("+i+a+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var n=t[e];n instanceof r?this.compileStack.push(n):this.pushStack(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();return!t&&i instanceof r?i.value:(e||this.stackSlot--,i)},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,i=e[e.length-1];return!t&&i instanceof r?i.value:i},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,i){var n=[];this.setupParams(t,n,i);var r=this.nameLookup("helpers",e,"helper");return{params:n,name:r,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(e)].concat(n).join(", ")}},setupParams:function(t,e,i){var n,r,o,s=[],a=[],l=[];s.push("hash:"+this.popStack()),r=this.popStack(),o=this.popStack(),(o||r)&&(o||(this.context.aliases.self="this",o="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),s.push("inverse:"+r),s.push("fn:"+o));for(var h=0;t>h;h++)n=this.popStack(),e.push(n),this.options.stringParams&&(l.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+a.join(",")+"]"),s.push("types:["+l.join(",")+"]"),s.push("hashContexts:hashContexts"),s.push("hashTypes:hashTypes")),this.options.data&&s.push("data:data"),s="{"+s.join(",")+"}",i?(this.register("options",s),e.push("options")):e.push(s),e.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),s=i.RESERVED_WORDS={},a=0,l=o.length;l>a;a++)s[o[a]]=!0;return i.isValidJavaScriptVariableName=function(t){return!i.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(t)?!0:!1},t.precompile=function(n,r){if(null==n||"string"!=typeof n&&n.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+n);r=r||{},"data"in r||(r.data=!0);var o=t.parse(n),s=(new e).compile(o,r);return(new i).compile(s,r)},t.compile=function(n,r){function o(){var o=t.parse(n),s=(new e).compile(o,r),a=(new i).compile(s,r,void 0,!0);return t.template(a)}if(null==n||"string"!=typeof n&&n.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);r=r||{},"data"in r||(r.data=!0);var s;return function(t,e){return s||(s=o()),s.call(this,t,e)}},t}},{"./base":32}],32:[function(t,e,i){var n=t("./parser");i.attach=function(t){return t.Parser=n,t.parse=function(e){return e.constructor===t.AST.ProgramNode?e:(t.Parser.yy=t.AST,t.Parser.parse(e))},t}},{"./parser":33}],33:[function(t,e){var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(t,e,i,n,r,o){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=new n.ProgramNode([],o[s]);break;case 3:this.$=new n.ProgramNode(o[s-2],o[s]);break;case 4:this.$=new n.ProgramNode(o[s-1],[]);break;case 5:this.$=new n.ProgramNode(o[s]);break;case 6:this.$=new n.ProgramNode([],[]);break;case 7:this.$=new n.ProgramNode([]);break;case 8:this.$=[o[s]];break;case 9:o[s-1].push(o[s]),this.$=o[s-1];break;case 10:this.$=new n.BlockNode(o[s-2],o[s-1].inverse,o[s-1],o[s]);break;case 11:this.$=new n.BlockNode(o[s-2],o[s-1],o[s-1].inverse,o[s]);break;case 12:this.$=o[s];break;case 13:this.$=o[s];break;case 14:this.$=new n.ContentNode(o[s]);break;case 15:this.$=new n.CommentNode(o[s]);break;case 16:this.$=new n.MustacheNode(o[s-1][0],o[s-1][1]);break;case 17:this.$=new n.MustacheNode(o[s-1][0],o[s-1][1]);break;case 18:this.$=o[s-1];break;case 19:this.$=new n.MustacheNode(o[s-1][0],o[s-1][1],"&"===o[s-2][2]);break;case 20:this.$=new n.MustacheNode(o[s-1][0],o[s-1][1],!0);break;case 21:this.$=new n.PartialNode(o[s-1]);break;case 22:this.$=new n.PartialNode(o[s-2],o[s-1]);break;case 23:break;case 24:this.$=[[o[s-2]].concat(o[s-1]),o[s]];break;case 25:this.$=[[o[s-1]].concat(o[s]),null];break;case 26:this.$=[[o[s-1]],o[s]];break;case 27:this.$=[[o[s]],null];break;case 28:this.$=[[o[s]],null];break;case 29:o[s-1].push(o[s]),this.$=o[s-1];break;case 30:this.$=[o[s]];break;case 31:this.$=o[s];break;case 32:this.$=new n.StringNode(o[s]);break;case 33:this.$=new n.IntegerNode(o[s]);break;case 34:this.$=new n.BooleanNode(o[s]);break;case 35:this.$=o[s];break;case 36:this.$=new n.HashNode(o[s]);break;case 37:o[s-1].push(o[s]),this.$=o[s-1];break;case 38:this.$=[o[s]];break;case 39:this.$=[o[s-2],o[s]];break;case 40:this.$=[o[s-2],new n.StringNode(o[s])];break;case 41:this.$=[o[s-2],new n.IntegerNode(o[s])];break;case 42:this.$=[o[s-2],new n.BooleanNode(o[s])];break;case 43:this.$=[o[s-2],o[s]];break;case 44:this.$=new n.PartialNameNode(o[s]);break;case 45:this.$=new n.PartialNameNode(new n.StringNode(o[s]));break;case 46:this.$=new n.PartialNameNode(new n.IntegerNode(o[s]));break;case 47:this.$=new n.DataNode(o[s]);break;case 48:this.$=new n.IdNode(o[s]);break;case 49:o[s-2].push({part:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 50:this.$=[{part:o[s]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(t){throw Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],r=[null],o=[],s=this.table,a="",l=0,h=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var c=this.lexer.yylloc;o.push(c);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,m,g,v,y,_,x,b,w={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===d||d===void 0)&&(d=e()),g=s[m]&&s[m][d]),g===void 0||!g.length||!g[0]){var L="";if(!u){b=[];for(y in s[m])this.terminals_[y]&&y>2&&b.push("'"+this.terminals_[y]+"'");L=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(L,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:c,expected:b})}}if(g[0]instanceof Array&&g.length>1)throw Error("Parse Error: multiple actions possible at state: "+m+", token: "+d);switch(g[0]){case 1:n.push(d),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(g[1]),d=null,f?(d=f,f=null):(h=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(_=this.productions_[g[1]][1],w.$=r[r.length-_],w._$={first_line:o[o.length-(_||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(_||1)].first_column,last_column:o[o.length-1].last_column},p&&(w._$.range=[o[o.length-(_||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(w,a,h,l,this.yy,g[1],r,o),v!==void 0)return v;_&&(n=n.slice(0,2*-1*_),r=r.slice(0,-1*_),o=o.slice(0,-1*_)),n.push(this.productions_[g[1]][0]),r.push(w.$),o.push(w._$),x=s[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return 20>t.length&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;o.length>s&&(i=this._input.match(this.rules[o[s]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=s,this.options.flex));s++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t!==void 0?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){switch(i){case 0:return e.yytext="\\",14;case 1:if("\\"!==e.yytext.slice(-1)&&this.begin("mu"),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1),this.begin("emu")),e.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1)),14;case 4:return e.yytext=e.yytext.substr(0,e.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return e.yytext=e.yytext.substr(3,e.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\"/g,'"'),31;case 23:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return e.yytext=e.yytext.substr(1,e.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},t.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();e.exports=i},{}]},{},[1]);